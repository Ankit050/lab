<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <title>NetLogo DataGames Wrapper</title>
  </head>
  <body>
    <button>Export Data</button>
    <div id="vis">
      <div id="applet-container" style="float:left; margin:10px; padding:10px;border:1px solid green; background-color:#DDD ;"></div>
    </div>

    <script type="text/javascript">
    var ROOT = "/experiments",
        ROOT_REGEX = new RegExp(ROOT + "/.*$"),
        ACTUAL_ROOT = document.location.pathname.replace(ROOT_REGEX, '');
    
    var appletString = ['<applet id="netlogo-applet" code="org.nlogo.lite.Applet"',
                     '     width="754" height="450" MAYSCRIPT="true"',
                     '     archive="' + ACTUAL_ROOT + '/jnlp/org/nlogo/NetLogoLite.jar"',
                     '     MAYSCRIPT="true">',
                     '  <param name="DefaultModel" value="models/IS-harmonic-motion-model.v2.2.nlogo"/>',
                     '  <param name="java_arguments" value="-Djnlp.packEnabled=true">',
                     '  <param name="MAYSCRIPT" value="true"/>',
                     '  Your browser is completely ignoring the applet tag!',
                     '</applet>'].join('\n')

      document.getElementById("applet-container").innerHTML = appletString;
    </script>
  </body>
</html>
