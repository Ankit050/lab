(function(){var requirejs,require,define;(function(e){function a(e,t){var n=t&&t.split("/"),i=r.map,s=i&&i["*"]||{},o,u,a,f,l,c,h,p,d,v;if(e&&e.charAt(0)==="."&&t){n=n.slice(0,n.length-1),e=n.concat(e.split("/"));for(p=0;v=e[p];p++)if(v===".")e.splice(p,1),p-=1;else if(v===".."){if(p===1&&(e[2]===".."||e[0]===".."))return!0;p>0&&(e.splice(p-1,2),p-=2)}e=e.join("/")}if((n||s)&&i){o=e.split("/");for(p=o.length;p>0;p-=1){u=o.slice(0,p).join("/");if(n)for(d=n.length;d>0;d-=1){a=i[n.slice(0,d).join("/")];if(a){a=a[u];if(a){f=a,l=p;break}}}if(f)break;!c&&s&&s[u]&&(c=s[u],h=p)}!f&&c&&(f=c,l=h),f&&(o.splice(0,l,f),e=o.join("/"))}return e}function f(t,n){return function(){return u.apply(e,s.call(arguments,0).concat([t,n]))}}function l(e){return function(t){return a(t,e)}}function c(e){return function(n){t[e]=n}}function h(r){if(n.hasOwnProperty(r)){var s=n[r];delete n[r],i[r]=!0,o.apply(e,s)}if(!t.hasOwnProperty(r))throw new Error("No "+r);return t[r]}function p(e,t){var n,r,i=e.indexOf("!");return i!==-1?(n=a(e.slice(0,i),t),e=e.slice(i+1),r=h(n),r&&r.normalize?e=r.normalize(e,l(t)):e=a(e,t)):e=a(e,t),{f:n?n+"!"+e:e,n:e,p:r}}function d(e){return function(){return r&&r.config&&r.config[e]||{}}}var t={},n={},r={},i={},s=[].slice,o,u;o=function(r,s,o,u){var a=[],l,v,m,g,y,b;u=u||r;if(typeof o=="function"){s=!s.length&&o.length?["require","exports","module"]:s;for(b=0;b<s.length;b++){y=p(s[b],u),m=y.f;if(m==="require")a[b]=f(r);else if(m==="exports")a[b]=t[r]={},l=!0;else if(m==="module")v=a[b]={id:r,uri:"",exports:t[r],config:d(r)};else if(t.hasOwnProperty(m)||n.hasOwnProperty(m))a[b]=h(m);else if(y.p)y.p.load(y.n,f(u,!0),c(m),{}),a[b]=t[m];else if(!i[m])throw new Error(r+" missing "+m)}g=o.apply(t[r],a);if(r)if(v&&v.exports!==e&&v.exports!==t[r])t[r]=v.exports;else if(g!==e||!l)t[r]=g}else r&&(t[r]=o)},requirejs=require=u=function(t,n,i,s){return typeof t=="string"?h(p(t,n).f):(t.splice||(r=t,n.splice?(t=n,n=i,i=null):t=e),n=n||function(){},s?o(e,t,n,i):setTimeout(function(){o(e,t,n,i)},15),u)},u.config=function(e){return r=e,u},define=function(e,t,r){t.splice||(r=t,t=[]),n[e]=[e,t,r]},define.amd={jQuery:!0}})(),define("../vendor/almond/almond",function(){}),define("lab.version",["require"],function(e){return{repo:{branch:"master",commit:{sha:"52a7418deb34c0339ab30ec1a86294217edf7fb9",short_sha:"52a7418d",url:"https://github.com/concord-consortium/lab/commit/52a7418d",author:"Stephen Bannasch",email:"stephen.bannasch@gmail.com",date:"2013-02-14 17:15:53 -0500",short_message:"use correct form of regex string for RegExp()",message:"use correct form of regex string for RegExp()\n\nIS [#44317763]\n\nWhen using the RexExp() function the string arg should\n*not* have the enclosing &quot;/&quot; characters used to define\na regex expression in-line \n\n*And* &#x27;&#x27; chars must be escaped twice, once in the regex\nitself and a second time because of the string parsing."},dirty:!1}}}),define("common/actual-root",["require"],function(e){function r(){var e=document.location.pathname.match(t);return e&&e[1]?e[1]:""}var t=new RegExp("(\\/.*?)\\/(doc|examples|experiments)(\\/\\w+)*?\\/\\w+\\.html"),n;return n=r(),n}),define("lab.config",["require","common/actual-root"],function(e){var t=e("common/actual-root"),n;return n={sharing:!0,home:"http://lab.concord.org",homeInteractivePath:"/examples/interactives/interactive.html",homeEmbeddablePath:"/examples/interactives/embeddable.html",utmCampaign:null,actualRoot:"",logging:!0,tracing:!1,authoring:!1},n.actualRoot=t,n}),define("common/structured-clone",["require"],function(e){function r(){var e=0;if(!!window.postMessage)try{window.onmessage=function(n){var r=Object.prototype.toString.call(n.data);e=r.indexOf("Null")!=-1||r.indexOf("DOMWindow")!=-1?1:0,t={structuredClones:e}},window.postMessage(document.createElement("a"),"*")}catch(n){e=n.DATA_CLONE_ERR||n.message=="Cannot post cyclic structures."?1:0,t={structuredClones:e}}}function i(){return t&&t.structuredClones>0}var t=!1,n={};return r(),n.supported=i,n}),define("arrays/index",["require","exports","module"],function(e,t,n){var r={};r.version="0.0.1",r.webgl=typeof window!="undefined"&&!!window.WebGLRenderingContext,r.typed=function(){try{return new Float64Array(0),!0}catch(e){return!1}}(),r.create=function(e,t,n){n||(r.webgl||r.typed?n="Float32Array":n="regular"),t===undefined&&(t=0);var i,s;if(n==="regular")i=new Array(e);else switch(n){case"Float64Array":i=new Float64Array(e);break;case"Float32Array":i=new Float32Array(e);break;case"Int32Array":i=new Int32Array(e);break;case"Int16Array":i=new Int16Array(e);break;case"Int8Array":i=new Int8Array(e);break;case"Uint32Array":i=new Uint32Array(e);break;case"Uint16Array":i=new Uint16Array(e);break;case"Uint8Array":i=new Uint8Array(e);break;case"Uint8ClampedArray":i=new Uint8ClampedArray(e);break;default:throw new Error("arrays: couldn't understand array type \""+n+'".')}s=-1;while(++s<e)i[s]=t;return i},r.constructor_function=function(e){if(e.buffer&&e.buffer.__proto__&&e.buffer.__proto__.constructor&&Object.prototype.toString.call(e)==="[object Array]")return e.__proto__.constructor;switch(e.constructor){case Array:return Array;case Float32Array:return Float32Array;case Uint8Array:return Uint8Array;case Float64Array:return Float64Array;case Int32Array:return Int32Array;case Int16Array:return Int16Array;case Int8Array:return Int8Array;case Uint32Array:return Uint32Array;case Uint16Array:return Uint16Array;case Uint8ClampedArray:return Uint8ClampedArray;default:throw new Error("arrays.constructor_function: must be an Array or Typed Array:   source: "+e)}},r.copy=function(e,t){var n=e.length,i=-1;while(++i<n)t[i]=e[i];return r.constructor_function(t)===Array&&(t.length=n),t},r.clone=function(e){var t,n=e.length,i,s;s=r.constructor_function(e);if(s===Array){i=new s(n);for(t=0;t<n;t++)i[t]=e[t];return i}if(e.buffer.slice)return i=new s(e.buffer.slice(0)),i;i=new s(n);for(t=0;t<n;t++)i[t]=e[t];return i},r.between=function(e,t,n){return n<Math.max(e,t)&&n>Math.min(e,t)},r.max=function(e){return Math.max.apply(Math,e)},r.min=function(e){return Math.min.apply(Math,e)},r.maxTypedArray=function(e){var t,n,r=Number.MIN_VALUE,i=e.length;for(n=0;n<i;n++)t=e[n],r=t>r?t:r;return r},r.minTypedArray=function(e){var t,n,r=Number.MAX_VALUE,i=e.length;for(n=0;n<i;n++)t=e[n],r=t<r?t:r;return r},r.maxAnyArray=function(e){try{return Math.max.apply(Math,e)}catch(t){if(t instanceof TypeError){var n,r,i=Number.MIN_VALUE,s=e.length;for(r=0;r<s;r++)n=e[r],i=n>i?n:i;return i}}},r.minAnyArray=function(e){try{return Math.min.apply(Math,e)}catch(t){if(t instanceof TypeError){var n,r,i=Number.MAX_VALUE,s=e.length;for(r=0;r<s;r++)n=e[r],i=n<i?n:i;return i}}},r.average=function(e){var t,n=0,r=e.length;for(t=0;t<r;t++)n+=e[t];return n/r},r.extend=function(e,t){var n,i,s;i=r.constructor_function(e);if(i===Array){s=e.length,e.length=t;for(;s<t;s++)e[s]=0;return e}return n=new i(t),n.set(e.subarray(0,t)),n},r.remove=function(e,t){var n=r.constructor_function(e),i;if(n!==Array)throw new Error("arrays.remove for typed arrays not implemented yet.");return i=e.slice(t+1),e.length=t,Array.prototype.push.apply(e,i),e},r.isArray=function(e){if(e===undefined||e===null)return!1;switch(Object.prototype.toString.call(e)){case"[object Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint16Array]":case"[object Uint32Array]":case"[object Uint8ClampedArray]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":return!0;default:return!1}};for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}),define("arrays",["arrays/index"],function(e){return e}),define("common/console",["require","lab.config"],function(e){var t=e("lab.config"),n,r,i=function(){};return typeof console=="undefined"&&(console={},window&&(window.console=console)),r=console,r.log===undefined&&(r.log=i),r.info===undefined&&(r.info=i),r.warn===undefined&&(r.warn=i),r.error===undefined&&(r.error=i),r.time===undefined&&(r.time=i),r.timeEnd===undefined&&(r.timeEnd=i),n={log:function(){t.logging&&r.log.apply(r,arguments)},info:function(){t.logging&&r.info.apply(r,arguments)},warn:function(){t.logging&&r.warn.apply(r,arguments)},error:function(){t.logging&&r.error.apply(r,arguments)},time:function(){t.tracing&&r.time.apply(r,arguments)},timeEnd:function(){t.tracing&&r.timeEnd.apply(r,arguments)}},n}),define("common/alert",["require","common/console"],function(e){var t=e("common/console"),n=typeof alert!="undefined"?alert:t.error;return function(t){n(t)}}),define("common/controllers/interactive-metadata",[],function(){return{interactive:{title:{required:!0},publicationStatus:{defaultValue:"public"},subtitle:{defaultValue:""},about:{defaultValue:""},models:{required:!0},parameters:{defaultValue:[]},outputs:{defaultValue:[]},filteredOutputs:{defaultValue:[]},exports:{required:!1},components:{defaultValue:[]},layout:{defaultValue:{}},template:{defaultValue:"simple"}},model:{id:{required:!0},url:{required:!0},onLoad:{},viewOptions:{},modelOptions:{},parameters:{},outputs:{},filteredOutputs:{}},parameter:{name:{required:!0},initialValue:{required:!0},onChange:{},label:{},units:{}},output:{name:{required:!0},value:{required:!0},label:{},units:{}},filteredOutput:{name:{required:!0},property:{required:!0},type:{required:!0},period:{required:!0},label:{},units:{}},exports:{perRun:{required:!1,defaultValue:[]},perTick:{required:!0}},button:{id:{required:!0},type:{required:!0},action:{required:!0},text:{defaultValue:""}},checkbox:{id:{required:!0},type:{required:!0},text:{defaultValue:""},property:{},onClick:{},initialValue:{}},slider:{id:{required:!0},type:{required:!0},min:{required:!0},max:{required:!0},steps:{required:!0},title:{defaultValue:""},labels:{defaultValue:[]},displayValue:{},property:{},action:{},initialValue:{}},pulldown:{id:{required:!0},type:{required:!0},options:{defaultValue:[]}},pulldownOption:{text:{defaultValue:""},disabled:{},selected:{},action:{},loadModel:{}},radio:{id:{required:!0},type:{required:!0},orientation:{defaultValue:"vertical"},options:{defaultValue:[]}},radioOption:{text:{defaultValue:""},disabled:{},selected:{},action:{},loadModel:{}},numericOutput:{id:{required:!0},type:{required:!0},label:{defaultValue:""},units:{defaultValue:""},property:{},displayValue:{}},thermometer:{id:{required:!0},type:{required:!0},min:{required:!0},max:{required:!0},labelIsReading:{defaultValue:!1},reading:{defaultValue:{units:"K",offset:0,scale:1,digits:0}}},graph:{id:{required:!0},type:{required:!0},properties:{defaultValue:[]},title:{defaultValue:"Graph"},xlabel:{defaultValue:"Model Time (ps)"},xmin:{defaultValue:0},xmax:{defaultValue:20},ylabel:{defaultValue:""},ymin:{defaultValue:0},ymax:{defaultValue:10}},barGraph:{id:{required:!0},type:{required:!0},property:{required:!0},options:{defaultValue:{minValue:0,maxValue:10,title:"",barColor:"green",fillColor:"white",textColor:"#555",ticks:10,tickSubdivide:1,displayLabels:!0,labelFormat:"0.1f"}}}}}),define("common/validator",["require","arrays"],function(e){function n(e,t){this.prop=e,this.message=t}var t=e("arrays");return n.prototype=new Error,n.prototype.constructor=n,{validate:function(e,t,r){var i={},s,o;if(arguments.length<2)throw new Error("Incorrect usage. Provide metadata and hash which should be validated.");for(s in t)if(t.hasOwnProperty(s)){o=e[s];if(o!==undefined){if(o.readOnly===!0)throw new n(s,"Properties set tries to overwrite read-only property "+s);if(!r&&o.immutable===!0)throw new n(s,"Properties set tries to overwrite immutable property "+s);i[s]=t[s]}}return i},validateCompleteness:function(e,r){var i={},s,o;if(arguments.length<2)throw new Error("Incorrect usage. Provide metadata and hash which should be validated.");for(s in e)if(e.hasOwnProperty(s)){o=e[s];if(r[s]===undefined||r[s]===null){if(o.required===!0)throw new n(s,"Properties set is missing required property "+s);t.isArray(o.defaultValue)?i[s]=t.copy(o.defaultValue,[]):typeof o.defaultValue=="object"?i[s]=$.extend(!0,{},o.defaultValue):o.defaultValue!==undefined&&(i[s]=o.defaultValue)}else!t.isArray(r[s])&&typeof r[s]=="object"&&typeof o.defaultValue=="object"?i[s]=$.extend(!0,{},o.defaultValue,r[s]):t.isArray(r[s])?i[s]=$.extend(!0,[],r[s]):i[s]=r[s]}return this.validate(e,i,!0)},ValidationError:n}}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=r.unshift,l=i.toString,c=i.hasOwnProperty,h=r.forEach,p=r.map,d=r.reduce,v=r.reduceRight,m=r.filter,g=r.every,y=r.some,b=r.indexOf,w=r.lastIndexOf,E=Array.isArray,S=Object.keys,x=s.bind,T=function(e){if(e instanceof T)return e;if(!(this instanceof T))return new T(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=T),exports._=T):e._=T,T.VERSION="1.4.2";var N=T.each=T.forEach=function(e,t,r){if(e==null)return;if(h&&e.forEach===h)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else for(var o in e)if(T.has(e,o)&&t.call(r,e[o],o,e)===n)return};T.map=T.collect=function(e,t,n){var r=[];return e==null?r:p&&e.map===p?e.map(t,n):(N(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),r)},T.reduce=T.foldl=T.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduce===d)return r&&(t=T.bind(t,r)),i?e.reduce(t,n):e.reduce(t);N(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.reduceRight=T.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduceRight===v)return r&&(t=T.bind(t,r)),arguments.length>2?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=T.keys(e);s=o.length}N(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},T.find=T.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},T.filter=T.select=function(e,t,n){var r=[];return e==null?r:m&&e.filter===m?e.filter(t,n):(N(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},T.reject=function(e,t,n){return T.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},T.every=T.all=function(e,t,r){t||(t=T.identity);var i=!0;return e==null?i:g&&e.every===g?e.every(t,r):(N(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=T.some=T.any=function(e,t,r){t||(t=T.identity);var i=!1;return e==null?i:y&&e.some===y?e.some(t,r):(N(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};T.contains=T.include=function(e,t){return e==null?!1:b&&e.indexOf===b?e.indexOf(t)!=-1:C(e,function(e){return e===t})},T.invoke=function(e,t){var n=u.call(arguments,2);return T.map(e,function(e){return(T.isFunction(t)?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t){return T.isEmpty(t)?[]:T.filter(e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-Infinity;var r={computed:-Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return Infinity;var r={computed:Infinity};return N(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},T.shuffle=function(e){var t,n=0,r=[];return N(e,function(e){t=T.random(n++),r[n-1]=r[t],r[t]=e}),r};var k=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var r=k(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index<t.index?-1:1}),"value")};var L=function(e,t,n,r){var i={},s=k(t);return N(e,function(t,o){var u=s.call(n,t,o,e);r(i,u,t)}),i};T.groupBy=function(e,t,n){return L(e,t,n,function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)})},T.countBy=function(e,t,n){return L(e,t,n,function(e,t,n){T.has(e,t)||(e[t]=0),e[t]++})},T.sortedIndex=function(e,t,n,r){n=n==null?T.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},T.toArray=function(e){return e?e.length===+e.length?u.call(e):T.values(e):[]},T.size=function(e){return e==null?0:e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,0,t):e[0]},T.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},T.last=function(e,t,n){return e==null?void 0:t!=null&&!n?u.call(e,Math.max(e.length-t,0)):e[e.length-1]},T.rest=T.tail=T.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},T.compact=function(e){return T.filter(e,function(e){return!!e})};var A=function(e,t,n){return N(e,function(e){T.isArray(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n};T.flatten=function(e,t){return A(e,t,[])},T.without=function(e){return T.difference(e,u.call(arguments,1))},T.uniq=T.unique=function(e,t,n,r){T.isFunction(t)&&(r=n,n=t,t=!1);var i=n?T.map(e,n,r):e,s=[],o=[];return N(i,function(n,r){if(t?!r||o[o.length-1]!==n:!T.contains(o,n))o.push(n),s.push(e[r])}),s},T.union=function(){return T.uniq(a.apply(r,arguments))},T.intersection=function(e){var t=u.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=a.apply(r,u.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){var e=u.call(arguments),t=T.max(T.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=T.pluck(e,""+r);return n},T.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},T.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=T.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},T.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(w&&e.lastIndexOf===w)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};T.bind=function(t,n){var r,i;if(t.bind===x&&x)return x.apply(t,u.call(arguments,1));if(!T.isFunction(t))throw new TypeError;return i=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=t.prototype;var e=new O,s=t.apply(e,i.concat(u.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(u.call(arguments)))}},T.bindAll=function(e){var t=u.call(arguments,1);return t.length==0&&(t=T.functions(e)),N(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var r=t.apply(this,arguments);return T.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},T.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(u.call(arguments,1)))},T.throttle=function(e,t){var n,r,i,s,o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)};return function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},T.debounce=function(e,t,n){var r,i;return function(){var s=this,o=arguments,u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r;return clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},T.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},T.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},T.keys=S||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&(t[t.length]=n);return t},T.values=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push(e[n]);return t},T.pairs=function(e){var t=[];for(var n in e)T.has(e,n)&&t.push([n,e[n]]);return t},T.invert=function(e){var t={};for(var n in e)T.has(e,n)&&(t[e[n]]=n);return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return N(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)T.contains(n,i)||(t[i]=e[i]);return t},T.defaults=function(e){return N(u.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof T&&(e=e._wrapped),t instanceof T&&(t=t._wrapped);var i=l.call(e);if(i!=l.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;n.push(e),r.push(t);var o=0,u=!0;if(i=="[object Array]"){o=e.length,u=o==t.length;if(u)while(o--)if(!(u=M(e[o],t[o],n,r)))break}else{var a=e.constructor,f=t.constructor;if(a!==f&&!(T.isFunction(a)&&a instanceof a&&T.isFunction(f)&&f instanceof f))return!1;for(var c in e)if(T.has(e,c)){o++;if(!(u=T.has(t,c)&&M(e[c],t[c],n,r)))break}if(u){for(c in t)if(T.has(t,c)&&!(o--))break;u=!o}}return n.pop(),r.pop(),u};T.isEqual=function(e,t){return M(e,t,[],[])},T.isEmpty=function(e){if(e==null)return!0;if(T.isArray(e)||T.isString(e))return e.length===0;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!!e&&e.nodeType===1},T.isArray=E||function(e){return l.call(e)=="[object Array]"},T.isObject=function(e){return e===Object(e)},N(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!!e&&!!T.has(e,"callee")}),typeof /./!="function"&&(T.isFunction=function(e){return typeof e=="function"}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return e===!0||e===!1||l.call(e)=="[object Boolean]"},T.isNull=function(e){return e===null},T.isUndefined=function(e){return e===void 0},T.has=function(e,t){return c.call(e,t)},T.noConflict=function(){return e._=t,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},T.random=function(e,t){return t==null&&(t=e,e=0),e+(0|Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};_.unescape=T.invert(_.escape);var D={escape:new RegExp("["+T.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(_.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),T.result=function(e,t){if(e==null)return null;var n=e[t];return T.isFunction(n)?n.call(e):n},T.mixin=function(e){N(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(T,e))}})};var P=0;T.uniqueId=function(e){var t=P++;return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){n=T.defaults({},n,T.templateSettings);var r=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),i=0,s="__p+='";e.replace(r,function(t,n,r,o,u){s+=e.slice(i,u).replace(j,function(e){return"\\"+B[e]}),s+=n?"'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?"'+\n((__t=("+r+"))==null?'':__t)+\n'":o?"';\n"+o+"\n__p+='":"",i=u+t.length}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(n.variable||"obj","_",s)}catch(u){throw u.source=s,u}if(t)return o(t,T);var a=function(e){return o.call(this,e,T)};return a.source="function("+(n.variable||"obj")+"){\n"+s+"}",a},T.chain=function(e){return T(e).chain()};var F=function(e){return this._chain?T(e).chain():e};T.mixin(T),N(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),N(["concat","join","slice"],function(e){var t=r[e];T.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(e){return function(){return e._}}(this)),function(){var e=this,t=e.Backbone,n=Array.prototype,r=n.push,i=n.slice,s=n.splice,o;typeof exports!="undefined"?o=exports:o=e.Backbone={},o.VERSION="0.9.2";var u=e._;!u&&typeof require!="undefined"&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=/\s+/,f=o.Events={on:function(e,t,n){var r,i,s;if(!t)return this;e=e.split(a),r=this._callbacks||(this._callbacks={});while(i=e.shift())s=r[i]||(r[i]=[]),s.push(t,n);return this},off:function(e,t,n){var r,i,s,o;if(!(i=this._callbacks))return this;if(!(e||t||n))return delete this._callbacks,this;e=e?e.split(a):u.keys(i);while(r=e.shift()){if(!(s=i[r])||!t&&!n){delete i[r];continue}for(o=s.length-2;o>=0;o-=2)t&&s[o]!==t||n&&s[o+1]!==n||s.splice(o,2)}return this},trigger:function(e){var t,n,r,i,s,o,u,f;if(!(n=this._callbacks))return this;f=[],e=e.split(a);for(i=1,s=arguments.length;i<s;i++)f[i-1]=arguments[i];while(t=e.shift()){if(u=n.all)u=u.slice();if(r=n[t])r=r.slice();if(r)for(i=0,s=r.length;i<s;i+=2)r[i].apply(r[i+1]||this,f);if(u){o=[t].concat(f);for(i=0,s=u.length;i<s;i+=2)u[i].apply(u[i+1]||this,o)}}return this}};f.bind=f.on,f.unbind=f.off;var l=o.Model=function(e,t){var n,r=e||{};t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=u.uniqueId("c"),this.changed={},this._changes={},this._pending={},t&&t.parse&&(r=this.parse(r));if(n=u.result(this,"defaults"))r=u.extend({},n,r);this.set(r,{silent:!0}),this.changed={},this._changes={},this._pending={},this._previousAttributes=u.clone(this.attributes),this.initialize.apply(this,arguments)};u.extend(l.prototype,f,{changed:null,_changes:null,_pending:null,_changing:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){var t;if(t=this._escapedAttributes[e])return t;var n=this.get(e);return this._escapedAttributes[e]=u.escape(n==null?"":""+n)},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i;if(e==null)return this;u.isObject(e)?(i=e,n=t):(i={})[e]=t;var s=n&&n.silent,o=n&&n.unset;i instanceof l&&(i=i.attributes);if(o)for(r in i)i[r]=void 0;if(!this._validate(i,n))return!1;this.idAttribute in i&&(this.id=i[this.idAttribute]);var a=this._changing,f=this.attributes,c=this._escapedAttributes,h=this._previousAttributes||{};for(r in i){t=i[r];if(!u.isEqual(f[r],t)||o&&u.has(f,r))delete c[r],this._changes[r]=!0;o?delete f[r]:f[r]=t,!u.isEqual(h[r],t)||u.has(f,r)!==u.has(h,r)?(this.changed[r]=t,s||(this._pending[r]=!0)):(delete this.changed[r],delete this._pending[r],a||delete this._changes[r]),a&&u.isEqual(f[r],a[r])&&delete this._changes[r]}return s||this.change(n),this},unset:function(e,t){return t=u.extend({},t,{unset:!0}),this.set(e,null,t)},clear:function(e){return e=u.extend({},e,{unset:!0}),this.set(u.clone(this.attributes),e)},fetch:function(e){e=e?u.clone(e):{};var t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r,e)},this.sync("read",this,e)},save:function(e,t,n){var r,i,s;e==null||u.isObject(e)?(r=e,n=t):e!=null&&((r={})[e]=t),n=n?u.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;i=u.clone(this.attributes)}var o=u.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?o:n))return!1;if(!r&&!this._validate(null,n))return!1;var a=this,f=n.success;n.success=function(e,t,i){s=!0;var o=a.parse(e,i);n.wait&&(o=u.extend(r||{},o));if(!a.set(o,n))return!1;f&&f(a,e,n)};var l=this.sync(this.isNew()?"create":"update",this,n);return!s&&n.wait&&(this.clear(o),this.set(i,o)),l},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e)};if(this.isNew())return e.success(),!1;var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||A();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},change:function(e){var t=this._changing,n=this._changing={};for(var r in this._changes)this._pending[r]=!0;var i=this._changes;this._changes={};var s=[];for(var r in i)n[r]=this.get(r),s.push(r);for(var o=0,a=s.length;o<a;o++)this.trigger("change:"+s[o],this,n[s[o]],e);if(t)return this;while(!u.isEmpty(this._pending)){this._pending={},this.trigger("change",this,e);for(var r in this.changed){if(this._pending[r]||this._changes[r])continue;delete this.changed[r]}this._previousAttributes=u.clone(this.attributes)}return this._changing=null,this},hasChanged:function(e){return e==null?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes;for(var i in e){if(u.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},isValid:function(e){return!this.validate||!this.validate(this.attributes,e)},_validate:function(e,t){if(t&&t.silent||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validate(e,t);return n?(t&&t.error&&t.error(this,n,t),this.trigger("error",this,n,t),!1):!0}});var c=o.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&(t.parse&&(e=this.parse(e)),this.reset(e,{silent:!0,parse:t.parse}))};u.extend(c.prototype,f,{model:l,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){var n,i,o,a,f,l=t&&t.at;e=u.isArray(e)?e.slice():[e];for(n=0,o=e.length;n<o;n++){if(e[n]=this._prepareModel(e[n],t))continue;throw new Error("Can't add an invalid model to a collection")}for(n=e.length-1;n>=0;n--){a=e[n],f=a.id!=null&&this._byId[a.id];if(f||this._byCid[a.cid]){t&&t.merge&&f&&f.set(a,t),e.splice(n,1);continue}a.on("all",this._onModelEvent,this),this._byCid[a.cid]=a,a.id!=null&&(this._byId[a.id]=a)}this.length+=e.length,i=[l!=null?l:this.models.length,0],r.apply(i,e),s.apply(this.models,i),this.comparator&&l==null&&this.sort({silent:!0});if(t&&t.silent)return this;while(a=e.shift())a.trigger("add",a,this,t);return this},remove:function(e,t){var n,r,i,s;t||(t={}),e=u.isArray(e)?e.slice():[e];for(n=0,r=e.length;n<r;n++){s=this.getByCid(e[n])||this.get(e[n]);if(!s)continue;delete this._byId[s.id],delete this._byCid[s.cid],i=this.indexOf(s),this.models.splice(i,1),this.length--,t.silent||(t.index=i,s.trigger("remove",s,this,t)),this._removeReference
(s)}return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,u.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){return e==null?void 0:this._byId[e.id!=null?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return u.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return u.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),(!e||!e.silent)&&this.trigger("reset",this,e),this},pluck:function(e){return u.invoke(this.models,"get",e)},reset:function(e,t){for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),e&&this.add(e,u.extend({silent:!0},t)),(!t||!t.silent)&&this.trigger("reset",this,t),this},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r,e)},this.sync("read",this,e)},create:function(e,t){var n=this;t=t?u.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},chain:function(){return u(this.models).chain()},_reset:function(e){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){if(e instanceof l)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(n.attributes,t)?n:!1},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var h=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortedIndex","toArray","size","first","head","take","initial","rest","tail","last","without","indexOf","shuffle","lastIndexOf","isEmpty"];u.each(h,function(e){c.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var p=["groupBy","countBy","sortBy"];u.each(p,function(e){c.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var d=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},v=/\((.*?)\)/g,m=/:\w+/g,g=/\*\w+/g,y=/[-{}[\]+?.,\\^$|#\s]/g;u.extend(d.prototype,f,{initialize:function(){},route:function(e,t,n){return u.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),o.history.route(e,u.bind(function(r){var i=this._extractParameters(e,r);n&&n.apply(this,i),this.trigger.apply(this,["route:"+t].concat(i)),o.history.trigger("route",this,t,i)},this)),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;var e,t=u.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(y,"\\$&").replace(v,"(?:$1)?").replace(m,"([^/]+)").replace(g,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var b=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},w=/^[#\/]|\s+$/,E=/^\/+|\/+$/g,S=/msie [\w.]+/,x=/\/$/;b.started=!1,u.extend(b.prototype,f,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(x,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return decodeURIComponent(e.replace(w,""))},start:function(e){if(b.started)throw new Error("Backbone.history has already been started");b.started=!0,this.options=u.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=S.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(E,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(w,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search));if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),b.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e),n=u.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0});return n},navigate:function(e,t){if(!b.started)return!1;if(!t||t===!0)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new b;var T=o.View=function(e){this.cid=u.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},N=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName"];u.extend(T.prototype,f,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},dispose:function(){return this.undelegateEvents(),this.model&&this.model.off&&this.model.off(null,null,this),this.collection&&this.collection.off&&this.collection.off(null,null,this),this},remove:function(){return this.dispose(),this.$el.remove(),this},make:function(e,t,n){var r=document.createElement(e);return t&&o.$(r).attr(t),n!=null&&o.$(r).html(n),r},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return;this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)throw new Error('Method "'+e[t]+'" does not exist');var r=t.match(N),i=r[1],s=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.bind(i,n):this.$el.delegate(s,i,n)}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=u.extend({},this.options,e)),u.extend(this,u.pick(e,C)),this.options=e},_ensureElement:function(){if(!this.el){var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className")),this.setElement(this.make(u.result(this,"tagName"),e),!1)}else this.setElement(u.result(this,"el"),!1)}});var k={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};o.sync=function(e,t,n){var r=k[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||A()),!n.data&&t&&(e==="create"||e==="update")&&(i.contentType="application/json",i.data=JSON.stringify(t)),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1);var a=n.success;n.success=function(e,r,i){a&&a(e,r,i),t.trigger("sync",t,e,n)};var f=n.error;return n.error=function(e,r,i){f&&f(t,e,n),t.trigger("error",t,e,n)},o.ajax(u.extend(i,n))},o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var L=function(e,t){var n=this,r;e&&u.has(e,"constructor")?r=e.constructor:r=function(){n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};l.extend=c.extend=d.extend=T.extend=b.extend=L;var A=function(){throw new Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore"],function(e){return function(){return e.Backbone}}(this)),define("grapher/bar-graph/bar-graph-model",["require","backbone"],function(e){var t=e("backbone"),n=t.Model.extend({defaults:{value:0,minValue:0,maxValue:10,width:150,height:500,title:"",barColor:"green",fillColor:"white",textColor:"#555",ticks:10,tickSubdivide:1,displayLabels:!0,labelFormat:"0.1f"}});return n}),define("grapher/bar-graph/bar-graph-view",["require","backbone"],function(e){var t=e("backbone"),n={padding:{left:10,top:10,right:10,bottom:10}},r=function(e){return e.node().getBBox().width},i=function(e){return e.node().getBBox().height},s=500,o=function(e){var t=e/s;return t<.6&&(t=.6),function(e){return e*t}},u=function(e,t){var n=[],r={},i,s;for(i=0,s=t.length;i<s;i++)n[i]=t[i].value,r[n[i]]=t[i].label;e.tickValues(n).tickFormat(function(e){return r[e]})},a=t.View.extend({tagName:"div",className:"bar-graph",initialize:function(){this.vis=d3.select(this.el).append("svg"),this.fill=this.vis.append("rect"),this.bar=this.vis.append("rect"),this.title=this.vis.append("text"),this.axisContainer=this.vis.append("g"),this.yScale=d3.scale.linear(),this.heightScale=d3.scale.linear(),this.yAxis=d3.svg.axis(),this.model.on("change",this.modelChanged,this)},render:function(){var e=this.model.toJSON(),t=o(e.height),s=t(n.padding.left),a=t(n.padding.top),f=t(n.padding.bottom),l=t(n.padding.right);this.vis.attr({width:e.width,height:e.height}).style({"font-size":t(15)+"px"}),this.yScale.domain([e.minValue,e.maxValue]).range([e.height-a,f]),this.heightScale.domain([e.minValue,e.maxValue]).range([0,e.height-a-f]),e.title!==undefined&&(this.title.text(e.title).style({"font-size":"140%","text-anchor":"middle",fill:e.textColor}),l+=i(this.title),this.title.attr("transform","translate("+(e.width-l)+", "+e.height/2+") rotate(90)")),this.yAxis.scale(this.yScale).tickSubdivide(e.tickSubdivide).tickSize(t(10),t(5),t(10)).orient("right"),typeof e.ticks=="number"?this.yAxis.ticks(e.ticks).tickFormat(d3.format(e.labelFormat)):u(this.yAxis,e.ticks),this.axisContainer.call(this.yAxis),this.axisContainer.style({stroke:e.textColor,"stroke-width":t(2),fill:"none"}),this.axisContainer.selectAll("text").style({fill:e.textColor,"stroke-width":0,"font-size":e.displayLabels?"100%":0}),e.ticks===0&&this.axisContainer.selectAll("*").remove(),l+=r(this.axisContainer)+t(7),this.axisContainer.attr("transform","translate("+(e.width-l)+", 0)"),l+=t(5),this.fill.attr({width:e.width-s-l,height:this.heightScale(e.maxValue),x:s,y:this.yScale(e.maxValue)}).style({fill:e.fillColor}),this.bar.attr({width:e.width-s-l,x:s}).style({fill:e.barColor}),this.updateBar()},updateBar:function(){var e=this.model.get("value");this.bar.attr("height",this.heightScale(e)).attr("y",this.yScale(e))},getParentHeight:function(){return this.$el.parent().height()},getParentWidth:function(){return this.$el.parent().width()},modelChanged:function(){var e=this.model.changedAttributes(),t=0,n;for(n in e)if(e.hasOwnProperty(n)){t++;if(t>1){this.render();return}}e.value!==undefined?this.updateBar():this.render()}});return a}),define("common/controllers/bar-graph-controller",["require","grapher/bar-graph/bar-graph-model","grapher/bar-graph/bar-graph-view","common/controllers/interactive-metadata","common/validator"],function(e){var t=e("grapher/bar-graph/bar-graph-model"),n=e("grapher/bar-graph/bar-graph-view"),r=e("common/controllers/interactive-metadata"),i=e("common/validator"),s={minValue:"minValue",maxValue:"maxValue",title:"title",barColor:"barColor",fillColor:"fillColor",textColor:"textColor",ticks:"ticks",tickSubdivide:"tickSubdivide",displayLabels:"displayLabels",labelFormat:"labelFormat"},o=function(e){var t={},n,r;for(n in s)s.hasOwnProperty(n)&&(r=s[n],e[n]!==undefined&&(t[r]=e[n]));return t};return function(s){var u,a,f,l,c=function(){a.set({value:model.get(l)})};return s=i.validateCompleteness(r.barGraph,s),a=new t(o(s.options)),f=new n({model:a,id:s.id}),l=s.property,u={modelLoadedCallback:function(){l&&model.addPropertiesListener([l],c),f.render(),c()},getViewContainer:function(){return f.$el},resize:function(e,t){e===undefined&&(e=f.getParentWidth()),t===undefined&&(t=f.getParentHeight()),a.set({width:e,height:t})},serialize:function(){var e=$.extend(!0,{},s);return e.options=o(a.toJSON()),e}},u}}),define("grapher/core/axis",["require"],function(e){return{axisProcessDrag:function(e,t,n){var r,i,s=n,o=0,u=n[0],a=n[1],f=a-u;if(t!==0)if(u>=0&&a>u)o=u,r=e-o,i=r*.2+o,t>i&&(change=r/(t-o),f=a-o,s=[u,u+f*change]);else if(u<0&&a>0){o=0,r=e-o,i=r*.2+o;if(e>=0&&t>i||e<0&&t<i)change=r/(t-o),s=[u*change,a*change]}else u<0&&a<0&&(o=a,r=e-o,i=r*.2+o,t<i&&(change=r/(t-o),f=u-o,s=[a+f*change,a]));return s}}}),define("grapher/core/real-time-graph",["require","grapher/core/axis"],function(e){var t=e("grapher/core/axis");return function(n,r,i){function tt(e){if(e)for(var t in et)e[t]===undefined&&(e[t]=et[t]);else e=et;return e.axisShift<1&&(e.axisShift=1),e}function nt(){u<=I.icon?(I.category="icon",I.value=0):u<=I.tiny?(I.category="tiny",I.value=1):u<=I.small?(I.category="small",I.value=2):u<=I.medium?(I.category="medium",I.value=3):u<=I.large?(I.category="large",I.value=4):(I.category="extralarge",I.value=5)}function rt(e,t){arguments.length?(u=e,o.style.width=u+"px",t?(a=t,o.style.height=a+"px"):(o.style.height="100%",t=s.property("clientHeight"),a=t,o.style.height=a+"px")):(u=s.property("clientWidth"),a=s.property("clientHeight")),nt(),B=parseFloat($("#viz").css("font-size")||$("body").css("font-size"))/10}function it(e,t,n){e&&(s=d3.select(e),o=s.node(),u=s.property("clientWidth"),a=s.property("clientHeight"));if(t||!r)r=tt(t);d!==undefined&&(d.remove(),d=undefined),G!==undefined&&($(G).remove(),G=undefined),Q=r.sample,r.dataChange?P="ns-resize":P="crosshair",rt(),r.xrange=r.xmax-r.xmin,r.yrange=r.ymax-r.ymin,V=[];switch(I.value){case 0:C={top:4,right:4,bottom:4,left:4};break;case 1:C={top:8,right:8,bottom:8,left:8};break;case 2:C={top:r.title?25:15,right:15,bottom:20,left:30};break;case 3:C={top:r.title?30:20,right:30,bottom:r.xlabel?60:10,left:r.ylabel?70:45};break;default:C={top:r.title?40:20,right:30,bottom:r.xlabel?60:10,left:r.ylabel?70:45}}if(Object.prototype.toString.call(r.dataset[0])==="[object Array]"){for(var i=0;i<r.dataset.length;i++)V.push(st(r.dataset[i],0,Q));X=V[0]}else X=st(r.dataset,0),V=[X];Object.prototype.toString.call(r.title)==="[object Array]"?W=r.title:W=[r.title],W.reverse(),I.value>2?C.top+=(W.length-1)*I.value/3*I.value/3*B*22:W=[W[0]],k={width:u-C.left-C.right,height:a-C.top-C.bottom},L=d3.scale[r.xscale]().domain([r.xmin,r.xmax]).range([0,k.width]),r.xscale==="pow"&&L.exponent(r.xscaleExponent),A=d3.scale[r.yscale]().domain([r.ymin,r.ymax]).nice().range([k.height,0]).nice(),r.yscale==="pow"&&A.exponent(r.yscaleExponent),h=d3.format(r.xFormatter),p=d3.format(r.yFormatter),O=d3.svg.line().x(function(e,t){return L(X[t].x)}).y(function(e,t){return A(X[t].y)}),q=Math.NaN,R=Math.NaN,U=null}function st(e,t,n){var r=0,i=t||0,s=e.length,o=[];n=n||1;for(r=0;r<s;r++)o.push({x:(r+i)*n,y:e[r]});return o}function ot(){return X?X.length:!1}function ut(){function e(e){i=e,e?N.text(e):N.text("")}function n(){var e=v.selectAll("g.x").data(L.ticks(r.xTicCount),String).attr("transform",l),t=e.enter().insert("g","a").attr("class","x").attr("transform",l);t.append("line").attr("stroke",f).attr("y1",0).attr("y2",k.height),I.value>1&&t.append("text").attr("class","axis").style("font-size",I.value/2.7*100+"%").attr("y",k.height).attr("dy","1em").attr("text-anchor","middle").style("cursor","ew-resize").text(h).on("mouseover",function(e){d3.select(this).style("font-weight","bold")}).on("mouseout",function(e){d3.select(this).style("font-weight","normal")}).on("mousedown.drag",P).on("touchstart.drag",P),e.exit().remove();var i=v.selectAll("g.y").data(A.ticks(r.yTicCount),String).attr("transform",c),s=i.enter().insert("g","a").attr("class","y").attr("transform",c).attr("background-fill","#FFEEB6");s.append("line").attr("stroke",f).attr("x1",0).attr("x2",k.width),I.value>1&&s.append("text").attr("class","axis").style("font-size",I.value/2.7*100+"%").attr("x",-3).attr("dy",".35em").attr("text-anchor","end").style("cursor","ns-resize").text(p).on("mouseover",function(e){d3.select(this).style("font-weight","bold")}).on("mouseout",function(e){d3.select(this).style("font-weight","normal")}).on("mousedown.drag",H).on("touchstart.drag",H),i.exit().remove(),m.call(d3.behavior.zoom().x(L).y(A).on("zoom",n)),S()}function S(e){wt(e);if(ut.selectable_points){var t=v.selectAll("circle").data(X,function(e){return e});t.enter().append("circle").attr("class",function(e){return e===z?"selected":null}).attr("cx",function(e){return x(e.x)}).attr("cy",function(e){return y(e.y)}).attr("r",1).on("mousedown",function(e){z=U=e,S()}),t.attr("class",function(e){return e===z?"selected":null}).attr("cx",function(e){return x(e.x)}).attr("cy",function(e){return y(e.y)}),t.exit().remove()}d3.event&&d3.event.keyCode&&(d3.event.preventDefault(),d3.event.stopPropagation())}function T(){d3.event.preventDefault(),m.style("cursor","move");if(d3.event.altKey){var e=d3.svg.mouse(v[0][0]);q=L.invert(e[0]),R=A.invert(e[1]),U=!1,d3.event.stopPropagation()}}function P(e){document.onselectstart=function(){return!1},d3.event.preventDefault();var t=d3.svg.mouse(v[0][0]);q=L.invert(t[0])}function H(e){document.onselectstart=function(){return!1},d3.event.preventDefault();var t=d3.svg.mouse(v[0][0]);R=A.invert(t[1])}function j(){var e=d3.svg.mouse(v[0][0]),r,i,s,o=d3.event.changedTouches;document.onselectstart=function(){return!0},d3.event.preventDefault(),isNaN(q)||(d3.select("body").style("cursor","ew-resize"),L.domain(t.axisProcessDrag(q,L.invert(e[0]),L.domain())),n(),d3.event.stopPropagation()),isNaN(R)||(d3.select("body").style("cursor","ns-resize"),A.domain(t.axisProcessDrag(R,A.invert(e[1]),A.domain())),n(),d3.event.stopPropagation())}function F(){d3.select("body").style("cursor","auto"),document.onselectstart=function(){return!0},isNaN(q)||(n(),q=Math.NaN),isNaN(R)||(n(),R=Math.NaN),U=null}function $(e){J={x:X[e].x,y:X[e].y}}function et(e){var t,i=L.domain(),s=Math.round(i[0]/Q),o=Math.round(i[1]/Q),u=Math.max(0,s),a=i[1]-i[0],f=a*.9,l;typeof e!="number"&&(e=X.length),l=e*Q,M?(M=D(),M?n():S(e)):l>i[0]+f?(D=tt(f*.9,r.axisShift),M=D(),n()):l<i[1]-f&&e<X.length&&s>0?(D=tt(f*.9,r.axisShift,-1),M=D(),n()):l<i[0]?(D=tt(f*.1,1,-1),M=D(),n()):S(e)}function tt(e,t,n){var r=L.domain()[0],i=L.domain()[1],s=1/t,o=0;return function(){var t;return n=n||1,o+=s,t=e*_(o),n>0?(L.domain([r+t,i+t]),L.domain()[0]<r+e):(L.domain([r-t,i-t]),L.domain()[0]>r-e)}}function nt(e){if(X.length===0)return;J=!1;var t=X.length,n=t*Q,r={x:n,y:e},i,s;X.push(r)}function at(e){if(X.length===0)return;nt(e),et()}function ft(e){if(X.length===0)return;J=!1;var t=X.length,n=t*Q,r=n-Q,i={x:n,y:e},s=L.call(self,r,r),o=A.call(self,X[t-1].y,t-1),u,a;X.push(i),u=L.call(self,n,n),a=A.call(self,e,n),Y.beginPath(),Y.moveTo(s,o),Y.lineTo(u,a),Y.stroke()}function lt(e){for(var t=0;t<V.length;t++)X=V[t],nt(e[t]);et()}function ct(e){for(var t=0;t<V.length;t++)X=V[t],ht(t),ft(e[t])}function ht(e,t){var n=t?.4:1;switch(e){case 0:Y.strokeStyle="rgba(160,00,0,"+n+")";break;case 1:Y.strokeStyle="rgba(44,160,0,"+n+")";break;case 2:Y.strokeStyle="rgba(44,0,160,"+n+")"}}function pt(e,t){var n=t?.4:1;switch(e){case 0:Y.fillStyle="rgba(160,00,0,"+n+")";break;case 1:Y.fillStyle="rgba(44,160,0,"+n+")";break;case 2:Y.fillStyle="rgba(44,0,160,"+n+")"}}function dt(e){var t;V=[];if(Object.prototype.toString.call(e)==="[object Array]")for(t=0;t<e.length;t++)X=st(e[t],0,Q),V.push(X);else X=st(r.dataset,0,Q),V=[X];et()}function vt(e){x=d3.scale[r.xscale]().domain([0,e]).range([0,k.width]),ut.xmax=e,x_tics_scale=d3.scale[r.xscale]().domain([ut.xmin*ut.sample,ut.xmax*ut.sample]).range([0,k.width]),S(),n()}function mt(e){y=d3.scale[r.yscale]().domain([e,0]).range([0,k.height]),ut.ymax=e,S(),n()}function gt(){G.width=G.width,Y.fillStyle="rgba(0,255,0, 0.05)",Y.fillRect(0,0,G.width,G.height),Y.strokeStyle="rgba(255,65,0, 1.0)"}function yt(){v.select("path.line").remove(),G.style.zIndex=100}function bt(){G.style.zIndex=-100,S()}function wt(e){var t,n,i,s,o,u=A(1e-5),a=r.lines,f=r.bars,l=2*Math.PI,c=V[0].length,h=V.length,p=Math.round(L.domain()[0]/Q),d=Math.round(L.domain()[1]/Q),v=Math.max(0,p);typeof e=="undefined"?s=c:e===c-1?s=c-1:s=e,gt(),Y.fillRect(0,0,G.width,G.height);if(X.length===0||p>=X.length)return;if(a)for(t=0;t<h;t++){X=V[t],lengthX=v*Q,px=L(lengthX),i=A(X[v].y),ht(t),Y.beginPath(),Y.moveTo(px,i),o=s-1;for(n=v+1;n<o;n++)lengthX=n*Q,px=L(lengthX),i=A(X[n].y),Y.lineTo(px,i);Y.stroke(),o=X.length-1;if(n<o){ht(t,!0);for(;n<o;n++)lengthX=n*Q,px=L(lengthX),i=A(X[n].y),Y.lineTo(px,i);Y.stroke()}}else if(f)for(t=0;t<h;t++){X=V[t],ht(t),o=s-1;for(n=v;n<o;n++){lengthX=n*Q,px=L(lengthX),i=A(X[n].y);if(i===0)continue;Y.beginPath(),Y.moveTo(px,u),Y.lineTo(px,i),Y.stroke()}o=X.length-1;if(n<o){ht(t,!0);for(;n<o;n++)lengthX=n*Q,px=L(lengthX),i=A(X[n].y),Y.beginPath(),Y.moveTo(px,u),Y.lineTo(px,i),Y.stroke()}}else for(t=0;t<h;t++){X=V[t],lengthX=0,pt(t),ht(t,!0),o=s-1;for(n=0;n<o;n++)px=L(lengthX),i=A(X[n].y),Y.arc(px,i,1,0,l,!1),Y.fill(),lengthX+=Q;o=X.length-1;if(n<o){pt(t,!0),ht(t,!0);for(;n<o;n++)px=L(lengthX),i=A(X[n].y),Y.arc(px,i,1,0,l,!1),Y.fill(),lengthX+=Q}}}function Et(){G||(G=G||document.createElement("canvas"),o.appendChild(G)),G.style.zIndex=-100,xt(G)}function St(){xt(G),wt()}function xt(e){Z.rect=m.node(),Z.width=Z.rect.width.baseVal.value,Z.height=Z.rect.height.baseVal.value,Z.left=Z.rect.getCTM().e,Z.top=Z.rect.getCTM().f,e.style.position="absolute",e.width=Z.width,e.height=Z.height,e.style.width=Z.width+"px",e.style.height=Z.height+"px",e.offsetLeft=Z.left,e.offsetTop=Z.top,e.style.left=Z.left+"px",e.style.top=Z.top+"px",e.style.border="solid 1px red",e.style.pointerEvents="none",e.className+="canvas-overlay",Y=G.getContext("2d"),Y.globalCompositeOperation="source-over",Y.lineWidth=1,Y.fillStyle="rgba(0,255,0, 0.05)",Y.fillRect(0,0,e.width,G.height),Y.strokeStyle="rgba(255,65,0, 1.0)",G.style.border="solid 1px red"}rt(),d===undefined?(d=s.append("svg").attr("width",u).attr("height",a),v=d.append("g").attr("transform","translate("+C.left+","+C.top+")"),m=v.append("rect").attr("class","plot").attr("width",k.width).attr("height",k.height).style("fill","#EEEEEE").attr("pointer-events","all").on("mousedown",T).on("touchstart",T),m.call(d3.behavior.zoom().x(L).y(A).on("zoom",n)),g=v.append("svg").attr("class","viewbox").attr("top",0).attr("left",0).attr("width",k.width).attr("height",k.height).attr("viewBox","0 0 "+k.width+" "+k.height).append("path").attr("class","line").attr("d",O(X)),K=g.append("path").attr("class","marker"),r.title&&I.value>1&&(b=v.selectAll("text").data(W,function(e){return e}),b.enter().append("text").attr("class","title").style("font-size",I.value/3.2*100+"%").text(function(e){return e}).attr("x",k.width/2).attr("dy",function(e,t){return-0.5+ -1*I.value/2.8*t*B+"em"}).style("text-anchor","middle")),r.xlabel&&I.value>2&&(w=v.append("text").attr("class","axis").style("font-size",I.value/2.6*100+"%").attr("class","xlabel").text(r.xlabel).attr("x",k.width/2).attr("y",k.height).attr("dy","2.4em").style("text-anchor","middle")),r.ylabel&&I.value>2&&(E=v.append("g").append("text").attr("class","axis").style("font-size",I.value/2.6*100+"%").attr("class","ylabel").text(r.ylabel).style("text-anchor","middle").attr("transform","translate(-40 "+k.height/2+") rotate(-90)")),N=v.append("text").attr("class","graph-notification").text(i).attr("x",k.width/2).attr("y",k.height/2).style("text-anchor","middle"),d3.select(o).on("mousemove.drag",j).on("touchmove.drag",j).on("mouseup.drag",F).on("touchend.drag",F),Et(),yt()):(v.attr("width",u).attr("height",a),m.attr("width",k.width).attr("height",k.height).style("fill","#EEEEEE"),g.attr("top",0).attr("left",0).attr("width",k.width).attr("height",k.height).attr("viewBox","0 0 "+k.width+" "+k.height),r.title&&I.value>1&&b.each(function(e,t){d3.select(this).attr("x",k.width/2),d3.select(this).attr("dy",function(e,t){return 1.4*t-W.length+"em"})}),r.xlabel&&I.value>1&&w.attr("x",k.width/2).attr("y",k.height),r.ylabel&&I.value>1&&E.attr("transform","translate(-40 "+k.height/2+") rotate(-90)"),N.attr("x",k.width/2).attr("y",k.height/2),v.selectAll("g.x").remove(),v.selectAll("g.y").remove(),St()),n(),ut.node=o,ut.scale=rt,ut.update=S,ut.updateOrRescale=et,ut.redraw=n,ut.initialize=it,ut.notify=e,ut.number_of_points=ot,ut.new_data=dt,ut.add_point=at,ut.add_points=lt,ut.add_canvas_point=ft,ut.add_canvas_points=ct,ut.initialize_canvas=Et,ut.show_canvas=yt,ut.hide_canvas=bt,ut.clear_canvas=gt,ut.update_canvas=wt,ut.showMarker=$,ut.change_xaxis=vt,ut.change_yaxis=mt}var s,o,u,a,f=function(e){return e?"#ccc":"#666"},l=function(e){return"translate("+L(e)+",0)"},c=function(e){return"translate(0,"+A(e)+")"},h,p,d,v,m,g,b,w,E,S,T,N,C,k,L,A,O,M=!1,_=d3.ease("cubic"),D,P,H,B,j,F,I={category:"medium",value:3,icon:120,tiny:240,small:480,medium:960,large:1920},q=Math.NaN,R=Math.NaN,U=null,z=null,W=[],X,V,J,K,Q,G,Y,Z={},et={title:"graph",xlabel:"x-axis",ylabel:"y-axis",xscale:"linear",yscale:"linear",xTicCount:10,yTicCount:10,xscaleExponent:.5,yscaleExponent:.5,xFormatter:"3.2r",yFormatter:"3.2r",axisShift:10,xmax:10,xmin:0,ymax:10,ymin:0,dataset:[0],selectable_points:!0,circleRadius:!1,dataChange:!1,points:!1,sample:1,lines:!0,bars:!1};return it(n,r,i),ut.add_data=function(e){if(!arguments.length)return X;var t=L.domain(),n=t[1]-t[0],r=n*.8,i,s;if(e instanceof Array&&e.length>0)if(e[0]instanceof Array)for(s=0;s<e.length;s++)X.push(e[s]);else{if(e.length!==2)throw new Error("invalid argument to graph.add_data() "+e+" length should === 2.");X.push(e)}return updateOrRescale(),ut},ut.getXDomain=function(){return L.domain()},ut.getYDomain=function(){return A.domain()},ut.reset=function(e,t,n){return arguments.length?ut.initialize(e,t,n):ut.initialize(),ut(),ut},ut.resize=function(e,t){return ut.scale(e,t),ut.initialize(),ut(),ut},o&&ut(),ut}}),define("common/controllers/graph-controller",["require","grapher/core/real-time-graph","common/controllers/interactive-metadata","common/validator"],function(e){var t=e("grapher/core/real-time-graph"),n=e("common/controllers/interactive-metadata"),r=e("common/validator"),i={title:"title",xlabel:"xlabel",xmin:"xmin",xmax:"xmax",ylabel:"ylabel",ymin:"ymin",ymax:"ymax"};return function(s){function c(){return model.get("viewRefreshInterval")*model.get("timeStep")/1e3}function h(){var e=[],t,n;for(t=0,n=f.length;t<n;t++)e.push(model.get(f[t]));return e}function p(){var e,t,n={sample:c()};for(e in i)i.hasOwnProperty(e)&&(t=i[e],n[t]=s[e]);return n}function d(){var e=h(),t;for(t=0;t<e.length;t++)l[t]=[e[t]];u.new_data(l)}function v(){var e=h(),t;for(t=0;t<e.length;t++)l[t].push(e[t]);u.add_points(e)}function m(){var e;for(e=0;e<f.length;e++)l[e].length=model.stepCounter()+1;u.new_data(l)}function g(){u.updateOrRescale(model.stepCounter()),u.showMarker(model.stepCounter())}function y(){u.reset("#"+s.id,p())}function b(){model.on("tick.graphController",v),model.on("stepBack.graphController",g),model.on("stepForward.graphController",g),model.on("seek.graphController",g),model.on("reset.graphController",function(){y(),d()}),model.on("play.pressureGraph",function(){u.number_of_points()&&model.stepCounter()<u.number_of_points()&&m(),u.show_canvas()}),model.on("invalidation.graphController",m),model.addPropertiesListener(["viewRefreshInterval","timeStep"],function(){y(),d()})}var o,u,a,f,l=[];return s=r.validateCompleteness(n.graph,s),f=s.properties.slice(),o=$("<div>").attr("id",s.id).addClass("properties-graph"),a={modelLoadedCallback:function(){u?y():u=new t(o[0],p()),d(),b()},getView:function(){return u},getViewContainer:function(){return o},resize:function(){o.width("100%"),o.height("100%"),u&&u.resize()},serialize:function(){var e=$.extend(!0,{},s),t=u.getXDomain(),n=u.getYDomain(),r=s.xmin;return e.ymin=n[0],e.ymax=n[1],e.xmin=r,e.xmax=r+t[1]-t[0],e}}}}),define("import-export/dg-exporter",["require","common/console"],function(e){var t=e("common/console");return{gameName:"Next Gen MW",parentCollectionName:"Summary of Run",childCollectionName:"Time Series of Run",perRunColumnLabelCount:0,perRunColumnLabelPositions:{},mockDGController:{doCommand:function(e){return t.log("action: ",e.action),t.log("args: ",e.args),{caseID:0}}},isDgGameControllerDefined:function(){return!!(window.parent&&window.parent.DG&&window.parent.DG.currGameController)},isExportAvailable:function(){return this.isDgGameControllerDefined()},getDGGameController:function(){return this.isDgGameControllerDefined()?window.parent.DG.currGameController:this.mockDGController},doCommand:function(e,t){var n=this.getDGGameController();return n.doCommand({action:e,args:t})},exportData:function(e,t,n,r){var i,s,o,u=[],a=[],f=[],l,c,h;for(h=0;h<t.length;h++)i=e[h],s=t[h],this.perRunColumnLabelPositions[i]==null&&(this.perRunColumnLabelPositions[i]=this.perRunColumnLabelCount++),o=this.perRunColumnLabelPositions[i],u[o]={name:i},a[o]=s;for(h=0;h<n.length;h++)f.push({name:n[h]});this.doCommand("initGame",{name:this.gameName}),this.doCommand("createCollection",{name:this.parentCollectionName,attrs:[{name:"Number of Time Points"}].concat(u),childAttrName:"contents"}),this.doCommand("createCollection",{name:this.childCollectionName,attrs:f}),c=[r.length].concat(a),l=this.doCommand("openCase",{collection:this.parentCollectionName,values:c}),this.doCommand("createCases",{collection:this.childCollectionName,values:r,parent:l.caseID,log:!1}),this.doCommand("closeCase",{collection:this.parentCollectionName,values:c,caseID:l.caseID})},openTable:function(){this.doCommand("createComponent",{type:"DG.TableView",log:!1})}}}),define("common/controllers/export-controller",["require","import-export/dg-exporter"],function(e){var t=e("import-export/dg-exporter"),n=function(n){function u(){var e=[],t,n;for(t=0,n=i.length;t<n;t++)e.push(model.get(i[t]));return e}function a(){s=[u()]}function f(){s.push(u())}function l(){s.length=model.stepCounter()+1}function c(){model.on("tick.exportController",f),model.on("reset.exportController",a),model.on("play.exportController",l),model.on("invalidation.exportController",l)}function h(e){var t=model.getPropertyDescription(e),n="";return t.label&&t.label.length>0?n+=t.label:n+=e,t.units&&t.units.length>0&&(n+=" (",n+=t.units,n+=")"),n}var r=(n.perRun||[]).slice(),i=["timeInPs"].concat(n.perTick.slice
()),s,o;return o={modelLoadedCallback:function(){function e(e){return function(t){return model.getPropertyType(t)===e}}model.defineOutput("timeInPs",{label:"Time",units:"ps"},function(){return model.get("time")/1e3}),r=r.filter(e("parameter")).concat(r.filter(e("output"))),a(),c()},exportData:function(){var e=[],n=[],o=[],u;for(u=0;u<r.length;u++)e[u]=h(r[u]),n[u]=model.get(r[u]);for(u=0;u<i.length;u++)o[u]=h(i[u]);t.exportData(e,n,o,s),t.openTable()}}};return n.isExportAvailable=function(){return t.isExportAvailable()},n}),define("common/controllers/scripting-api",["require"],function(e){return function(t,n){var r=function(){function e(e){return typeof e=="number"&&parseFloat(e)===parseInt(e,10)}function n(e){return typeof e=="object"&&e.slice===Array.prototype.slice}function r(e){return Math.floor(Math.random()*e)}function i(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function s(e,t){var n=[],s;for(s=0;s<t;s++)n[s]=s;for(s=0;s<e;s++)i(n,s,s+r(t-s));return n.length=e,n}return{isInteger:e,isArray:n,randomInteger:r,swapElementsOfArray:i,choose:s,deg2rad:Math.PI/180,rad2deg:180/Math.PI,format:d3.format,get:function(){return model.get.apply(model,arguments)},set:function(){return model.set.apply(model,arguments)},loadModel:function(n,r){model.stop(),t.loadModel(n),typeof r=="function"&&t.pushOnLoadScript(r)},onPropertyChange:function(t,n){model.addPropertiesListener([t],function(){n(model.get(t))})},start:function(){model.start()},stop:function(){model.stop()},reset:function(){model.stop(),t.modelController.reload()},tick:function(){model.tick()},getTime:function(){return model.get("time")},repaint:function(){t.getModelController().repaint()},exportData:function(){var n=t.getDGExportController();if(!n)throw new Error("No exports have been specified.");n.exportData()},Math:Math,"undefined":undefined,alert:alert,console:window.console!==null?window.console:{log:function(){},error:function(){},warn:function(){},dir:function(){}}}}(),i={freeze:function(){Object.freeze(r)},extend:function(e){jQuery.extend(r,new e(r))},exposeScriptingAPI:function(){window.script=$.extend({},r),window.script.run=function(e,t){var n,r=[],s=[];for(n in t)t.hasOwnProperty(n)&&(r.push(n),s.push(t[n]));return i.makeFunctionInScriptContext.apply(null,r.concat(e)).apply(null,s)}},makeFunctionInScriptContext:function(){function u(){var t=Object.getOwnPropertyNames(window),n,r,i,s;for(r=0,i=t.length;r<i;r++)n=t[r],e.hasOwnProperty(n)||(s=function(e){return function(){throw new ReferenceError(e+" is not defined")}}(n),Object.defineProperty(e,n,{set:s,get:s}))}var e={},t=Array.prototype.slice.call(arguments,0,arguments.length-1),n=arguments[arguments.length-1],i,s,o;typeof n!="string"&&(n=n.join("      \n")),i="with (shadowedGlobals) {\n  with (scriptingAPI) {\n    return function("+t.join(",")+") {\n"+"      'use "+"strict';\n"+"      "+n+"\n"+"    };\n"+"  }\n"+"}";try{s=new Function("shadowedGlobals","scriptingAPI","scriptSource",i),o=s(e,r,n)}catch(a){return alert('Error compiling script: "'+a.toString()+'"\nScript:\n\n'+n),function(){throw new Error("Cannot run a script that could not be compiled")}}return function(){u();try{return o.apply(null,Array.prototype.slice.call(arguments))}catch(e){alert('Error running script: "'+e.toString()+'"\nScript:\n\n'+n)}}}};return i}}),define("common/controllers/button-controller",["common/controllers/interactive-metadata","common/validator"],function(){var e=require("common/controllers/interactive-metadata"),t=require("common/validator");return function(r,i){var s,o;return r=t.validateCompleteness(e.button,r),s=$("<button>").attr("id",r.id).html(r.text),s.addClass("component"),s.click(i.makeFunctionInScriptContext(r.action)),o={getViewContainer:function(){return s},serialize:function(){return $.extend(!0,{},r)}},o}}),define("common/controllers/checkbox-controller",["common/controllers/interactive-metadata","common/validator"],function(){var e=require("common/controllers/interactive-metadata"),t=require("common/validator");return function(r,i){var s,o,u,a,f,l,c,h=function(){var e=model.get(s);e?a.attr("checked",!0):a.attr("checked",!1)};return r=t.validateCompleteness(e.checkbox,r),s=r.property,o=r.onClick,u=r.initialValue,a=$('<input type="checkbox">').attr("id",r.id),f=$("<label>").append(r.text).append(a),l=$("<div>").append(f),l.addClass("interactive-checkbox"),o&&(o=i.makeFunctionInScriptContext("value",o)),a.click(function(){var e=!1,t;$(this).is(":checked")&&(e=!0),s!==undefined&&(t={},t[s]=e,model.set(t)),o!==undefined&&o(e)}),c={modelLoadedCallback:function(){s!==undefined?(model.addPropertiesListener([s],h),h()):u!==undefined&&a.attr("checked",u)},getViewContainer:function(){return l},serialize:function(){var e=$.extend(!0,{},r);return s===undefined&&(e.initialValue=a.is(":checked")?!0:!1),e}},c}}),define("common/controllers/radio-controller",["common/controllers/interactive-metadata","common/validator"],function(){var e=require("common/controllers/interactive-metadata"),t=require("common/validator");return function(r,i,s){var o,u,a,f,l,c,h,p;r=t.validateCompleteness(e.radio,r),l=r.options;for(h=0,p=l.length;h<p;h++)l[h]=t.validateCompleteness(e.radioOption,l[h]);o=$("<div>").attr("id",r.id),o.addClass("component");for(h=0,p=l.length;h<p;h++)c=l[h],u=$("<input>").attr("type","radio").attr("name",r.id),c.disabled&&u.attr("disabled",c.disabled),c.selected&&u.attr("checked",c.selected),a=$('<span class="radio">').append(u).append(c.text),o.append(a),r.orientation==="vertical"&&o.append("<br/>"),u.change(function(e,t){return function(){var n,r;for(n=0,r=l.length;n<r;n++)delete l[n].selected;l[t].selected=!0,e.action?i.makeFunctionInScriptContext(e.action)():e.loadModel&&(model.stop(),s.loadModel(e.loadModel))}}(c,h));return f={getViewContainer:function(){return o},serialize:function(){return $.extend(!0,{},r)}},f}}),define("common/controllers/slider-controller",["common/controllers/interactive-metadata","common/validator"],function(){var e=require("common/controllers/interactive-metadata"),t=require("common/validator");return function(r,i){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x=function(){var e=model.get(a);b.slider("value",e),p&&w.text(p(e))};r=t.validateCompleteness(e.slider,r),s=r.min,o=r.max,u=r.steps,f=r.action,a=r.property,l=r.initialValue,c=r.title,h=r.labels,p=r.displayValue,s===undefined&&(s=0),o===undefined&&(o=10),u===undefined&&(u=10),g=$('<p class="title">'+c+"</p>"),E=$('<div class="container">'),b=$('<div class="html-slider">').attr("id",r.id),E.append(b),b.slider({min:s,max:o,step:(o-s)/u}),w=b.find(".ui-slider-handle"),m=$('<div class="interactive-slider">').append(g).append(E);for(d=0;d<h.length;d++)v=h[d],y=$('<p class="label">'+v.label+"</p>"),y.css("left",(v.value-s)/(o-s)*100+"%"),E.append(y);return f&&(f=i.makeFunctionInScriptContext("value",f),b.bind("slide",function(e,t){f(t.value),p&&w.text(p(t.value))})),a&&b.bind("slide",function(e,t){var n={};n[a]=t.value,model&&model.set(n),p&&w.text(p(t.value))}),p&&(p=i.makeFunctionInScriptContext("value",p)),S={modelLoadedCallback:function(){var e;a&&model.addPropertiesListener([a],x),l!==undefined&&l!==null?(f&&(b.slider("value",l),f(l),p&&w.text(p(l))),a&&(e={},e.propertyName=l,model.set(e))):a&&x()},getViewContainer:function(){return m},serialize:function(){var e=$.extend(!0,{},r);return a?delete e.initialValue:e.initialValue=b.slider("value"),e}},S}}),define("common/controllers/pulldown-controller",["common/controllers/interactive-metadata","common/validator"],function(){var e=require("common/controllers/interactive-metadata"),t=require("common/validator");return function(r,i,s){var o,u,a,f,l,c,h;r=t.validateCompleteness(e.pulldown,r),a=r.options;for(c=0,h=a.length;c<h;c++)a[c]=t.validateCompleteness(e.pulldownOption,a[c]);o=$("<select>").attr("id",r.id),o.addClass("component");for(c=0,h=a.length;c<h;c++)f=a[c],u=$("<option>").html(f.text),f.disabled&&u.attr("disabled",f.disabled),f.selected&&u.attr("selected",f.selected),o.append(u);return o.change(function(){var e=$(this).prop("selectedIndex"),t=r.options[e].action,n,o;for(n=0,o=a.length;n<o;n++)delete a[n].selected;a[e].selected=!0,t?i.makeFunctionInScriptContext(t)():r.options[e].loadModel&&(model.stop(),s.loadModel(r.options[e].loadModel))}),l={getViewContainer:function(){return o},serialize:function(){return $.extend(!0,{},r)}},l}}),define("common/controllers/numeric-output-controller",["common/controllers/interactive-metadata","common/validator"],function(){var e=require("common/controllers/interactive-metadata"),t=require("common/validator");return function(r,i){var s,o,u,a,f,l,c,h,p,d,v=function(){var e=model.get(s);a?c.text(a(e)):c.text(e)};return r=t.validateCompleteness(e.numericOutput,r),s=r.property,o=r.label,u=r.units,a=r.displayValue,l=$('<span class="label"></span>'),c=$('<span class="value"></span>'),h=$('<span class="units"></span>'),o&&l.html(o),u&&h.html(u),f=$('<div class="numeric-output">').attr("id",r.id).append(l).append(c).append(h),a&&(a=i.makeFunctionInScriptContext("value",a)),d={modelLoadedCallback:function(){s&&(p=model.getPropertyDescription(s),p&&(o||l.html(p.label),u||h.html(p.units)),v(),model.addPropertiesListener([s],v))},getViewContainer:function(){return f},serialize:function(){return $.extend(!0,{},r)}},d}}),define("common/parent-message-controller",[],function(){function r(e,t){Lab.structuredClone.supported()?window.parent.postMessage(e,t):window.parent.postMessage(JSON.stringify(e),t)}function i(t){r(t,e)}function s(e){r(e,"*")}function o(e,n){t[e]=n}function u(){t={}}function a(){return Object.keys(t)}function f(n){if(n.source!==window.parent)return;var r=n.data;typeof r=="string"&&(r=JSON.parse(r)),e||r.type==="hello"&&(e=r.origin),n.origin===e&&t[r.type]&&t[r.type](r)}function l(){if(window.parent===window)return;s({type:"hello",origin:document.location.href.match(/(.*?\/\/.*?)\//)[1]}),window.addEventListener("message",f,!1)}var e,t={},n;return n={initialize:l,getListenerNames:a,addListener:o,removeAllListeners:u,post:i}}),define("common/controllers/parent-message-api",["require","common/parent-message-controller"],function(e){var t=e("common/parent-message-controller");return function(e,n,r){function i(n){t.post({type:"propertyValue",name:n,value:e.get(n)})}t.removeAllListeners(),t.addListener("setFocus",function(e){n&&n.setFocus&&n.setFocus()}),t.addListener("loadInteractive",function(e){r&&r.loadInteractive&&r.loadInteractive(e.data)}),t.addListener("loadModel",function(e){r&&r.loadModel&&r.loadModel(e.data.modelId,e.data.modelObject)}),t.addListener("getModelState",function(e){r&&r.getModelController&&t.post({type:"modelState",values:r.getModelController().state()})}),t.addListener("getInteractiveState",function(e){r&&r.getModelController&&t.post({type:"interactiveState",values:r.serialize()})}),t.addListener("runBenchmarks",function(){var e;r&&r.getModelController&&(e=r.getModelController(),benchmark.bench(e.benchmarks,function(n){console.log(n),t.post({type:"returnBenchmarks",values:{results:n,benchmarks:e.benchmarks}},function(){},function(){})}))}),t.addListener("listenForDispatchEvent",function(n){var r=n.eventName,i=n.properties,s={},o=0,u=null;e.on(r,function(){if(i)for(o=0;o<i.length;o++)u=i[o],s[u]=e.get(u);t.post({type:r,values:s})})}),t.addListener("get",function(e){i(e.propertyName)}),t.addListener("observe",function(t){e.addPropertiesListener(t.propertyName,function(){i(t.propertyName)}),i(t.propertyName)}),t.addListener("set",function(t){var n={};n[t.propertyName]=t.propertyValue,e.set(n)}),t.addListener("tick",function(t){e.tick(t.numTimes)}),t.addListener("play",function(t){e.resume()}),t.initialize()}}),function(root){var CoffeeScript=function(){function require(e){return require[e]}return require["./helpers"]=new function(){var e=this;(function(){var t,n;e.starts=function(e,t,n){return t===e.substr(n,t.length)},e.ends=function(e,t,n){var r;return r=t.length,t===e.substr(e.length-r-(n||0),r)},e.compact=function(e){var t,n,r,i;i=[];for(n=0,r=e.length;n<r;n++)t=e[n],t&&i.push(t);return i},e.count=function(e,t){var n,r;n=r=0;if(!t.length)return 1/0;while(r=1+e.indexOf(t,r))n++;return n},e.merge=function(e,n){return t(t({},e),n)},t=e.extend=function(e,t){var n,r;for(n in t)r=t[n],e[n]=r;return e},e.flatten=n=function(e){var t,r,i,s;r=[];for(i=0,s=e.length;i<s;i++)t=e[i],t instanceof Array?r=r.concat(n(t)):r.push(t);return r},e.del=function(e,t){var n;return n=e[t],delete e[t],n},e.last=function(e,t){return e[e.length-(t||0)-1]}}).call(this)},require["./rewriter"]=new function(){var e=this;(function(){var t,n,r,i,s,o,u,f,l,c,h,p,d,v,m,g,y,b,w=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},E=[].slice;e.Rewriter=function(){function e(){}return e.prototype.rewrite=function(e){return this.tokens=e,this.removeLeadingNewlines(),this.removeMidExpressionNewlines(),this.closeOpenCalls(),this.closeOpenIndexes(),this.addImplicitIndentation(),this.tagPostfixConditionals(),this.addImplicitBraces(),this.addImplicitParentheses(),this.tokens},e.prototype.scanTokens=function(e){var t,n,r;r=this.tokens,t=0;while(n=r[t])t+=e.call(this,n,t,r);return!0},e.prototype.detectEnd=function(e,t,n){var s,o,u,a,f;u=this.tokens,s=0;while(o=u[e]){if(s===0&&t.call(this,o,e))return n.call(this,o,e);if(!o||s<0)return n.call(this,o,e-1);if(a=o[0],w.call(i,a)>=0)s+=1;else if(f=o[0],w.call(r,f)>=0)s-=1;e+=1}return e-1},e.prototype.removeLeadingNewlines=function(){var e,t,n,r,i;i=this.tokens;for(e=n=0,r=i.length;n<r;e=++n){t=i[e][0];if(t!=="TERMINATOR")break}if(e)return this.tokens.splice(0,e)},e.prototype.removeMidExpressionNewlines=function(){return this.scanTokens(function(e,t,r){var i;return e[0]==="TERMINATOR"&&(i=this.tag(t+1),w.call(n,i)>=0)?(r.splice(t,1),0):1})},e.prototype.closeOpenCalls=function(){var e,t;return t=function(e,t){var n;return(n=e[0])===")"||n==="CALL_END"||e[0]==="OUTDENT"&&this.tag(t-1)===")"},e=function(e,t){return this.tokens[e[0]==="OUTDENT"?t-1:t][0]="CALL_END"},this.scanTokens(function(n,r){return n[0]==="CALL_START"&&this.detectEnd(r+1,t,e),1})},e.prototype.closeOpenIndexes=function(){var e,t;return t=function(e,t){var n;return(n=e[0])==="]"||n==="INDEX_END"},e=function(e,t){return e[0]="INDEX_END"},this.scanTokens(function(n,r){return n[0]==="INDEX_START"&&this.detectEnd(r+1,t,e),1})},e.prototype.addImplicitBraces=function(){var e,t,n,s,o,a,f,l;return s=[],o=null,l=null,n=!0,a=0,f=0,t=function(e,t){var r,i,s,o,a,c;return a=this.tokens.slice(t+1,t+3+1||9e9),r=a[0],o=a[1],s=a[2],"HERECOMMENT"===(r!=null?r[0]:void 0)?!1:(i=e[0],w.call(h,i)>=0&&(n=!1),(i==="TERMINATOR"||i==="OUTDENT"||w.call(u,i)>=0&&n&&t-f!==1)&&(!l&&this.tag(t-1)!==","||(o!=null?o[0]:void 0)!==":"&&((r!=null?r[0]:void 0)!=="@"||(s!=null?s[0]:void 0)!==":"))||i===","&&r&&(c=r[0])!=="IDENTIFIER"&&c!=="NUMBER"&&c!=="STRING"&&c!=="@"&&c!=="TERMINATOR"&&c!=="OUTDENT")},e=function(e,t){var n;return n=this.generate("}","}",e[2]),this.tokens.splice(t,0,n)},this.scanTokens(function(u,a,c){var p,d,v,m,g,y,b,E;if(b=m=u[0],w.call(i,b)>=0)return s.push([m==="INDENT"&&this.tag(a-1)==="{"?"{":m,a]),1;if(w.call(r,m)>=0)return o=s.pop(),1;if(m!==":"||(p=this.tag(a-2))!==":"&&((E=s[s.length-1])!=null?E[0]:void 0)==="{")return 1;n=!0,f=a+1,s.push(["{"]),d=p==="@"?a-2:a-1;while(this.tag(d-2)==="HERECOMMENT")d-=2;return v=this.tag(d-1),l=!v||w.call(h,v)>=0,y=new String("{"),y.generated=!0,g=this.generate("{",y,u[2]),c.splice(d,0,g),this.detectEnd(a+2,t,e),2})},e.prototype.addImplicitParentheses=function(){var e,t,n,r,i;return n=i=r=!1,t=function(e,t){var n,o,a,f;o=e[0];if(!i&&e.fromThen)return!0;if(o==="IF"||o==="ELSE"||o==="CATCH"||o==="->"||o==="=>"||o==="CLASS")i=!0;if(o==="IF"||o==="ELSE"||o==="SWITCH"||o==="TRY"||o==="=")r=!0;return o!=="."&&o!=="?."&&o!=="::"||this.tag(t-1)!=="OUTDENT"?!e.generated&&this.tag(t-1)!==","&&(w.call(u,o)>=0||o==="INDENT"&&!r)&&(o!=="INDENT"||(a=this.tag(t-2))!=="CLASS"&&a!=="EXTENDS"&&(f=this.tag(t-1),w.call(s,f)<0)&&(!(n=this.tokens[t+1])||!n.generated||n[0]!=="{")):!0},e=function(e,t){return this.tokens.splice(t,0,this.generate("CALL_END",")",e[2]))},this.scanTokens(function(s,u,c){var p,d,v,m,g,y,b,E;g=s[0];if(g==="CLASS"||g==="IF"||g==="FOR"||g==="WHILE")n=!0;return y=c.slice(u-1,u+1+1||9e9),m=y[0],d=y[1],v=y[2],p=!n&&g==="INDENT"&&v&&v.generated&&v[0]==="{"&&m&&(b=m[0],w.call(f,b)>=0),i=!1,r=!1,w.call(h,g)>=0&&(n=!1),m&&!m.spaced&&g==="?"&&(s.call=!0),s.fromThen?1:p||(m!=null?m.spaced:void 0)&&(m.call||(E=m[0],w.call(f,E)>=0))&&(w.call(o,g)>=0||!s.spaced&&!s.newLine&&w.call(l,g)>=0)?(c.splice(u,0,this.generate("CALL_START","(",s[2])),this.detectEnd(u+1,t,e),m[0]==="?"&&(m[0]="FUNC_EXIST"),2):1})},e.prototype.addImplicitIndentation=function(){var e,t,n,r,i;return i=n=r=null,t=function(e,t){var n;return e[1]!==";"&&(n=e[0],w.call(p,n)>=0)&&(e[0]!=="ELSE"||i==="IF"||i==="THEN")},e=function(e,t){return this.tokens.splice(this.tag(t-1)===","?t-1:t,0,r)},this.scanTokens(function(s,o,u){var f,l,c;return f=s[0],f==="TERMINATOR"&&this.tag(o+1)==="THEN"?(u.splice(o,1),0):f==="ELSE"&&this.tag(o-1)!=="OUTDENT"?(u.splice.apply(u,[o,0].concat(E.call(this.indentation(s)))),2):f!=="CATCH"||(l=this.tag(o+2))!=="OUTDENT"&&l!=="TERMINATOR"&&l!=="FINALLY"?w.call(d,f)>=0&&this.tag(o+1)!=="INDENT"&&(f!=="ELSE"||this.tag(o+1)!=="IF")?(i=f,c=this.indentation(s,!0),n=c[0],r=c[1],i==="THEN"&&(n.fromThen=!0),u.splice(o+1,0,n),this.detectEnd(o+2,t,e),f==="THEN"&&u.splice(o,1),1):1:(u.splice.apply(u,[o+2,0].concat(E.call(this.indentation(s)))),4)})},e.prototype.tagPostfixConditionals=function(){var e,t,n;return n=null,t=function(e,t){var n;return(n=e[0])==="TERMINATOR"||n==="INDENT"},e=function(e,t){if(e[0]!=="INDENT"||e.generated&&!e.fromThen)return n[0]="POST_"+n[0]},this.scanTokens(function(r,i){return r[0]!=="IF"?1:(n=r,this.detectEnd(i+1,t,e),1)})},e.prototype.indentation=function(e,t){var n,r;return t==null&&(t=!1),n=["INDENT",2,e[2]],r=["OUTDENT",2,e[2]],t&&(n.generated=r.generated=!0),[n,r]},e.prototype.generate=function(e,t,n){var r;return r=[e,t,n],r.generated=!0,r},e.prototype.tag=function(e){var t;return(t=this.tokens[e])!=null?t[0]:void 0},e}(),t=[["(",")"],["[","]"],["{","}"],["INDENT","OUTDENT"],["CALL_START","CALL_END"],["PARAM_START","PARAM_END"],["INDEX_START","INDEX_END"]],e.INVERSES=c={},i=[],r=[];for(g=0,y=t.length;g<y;g++)b=t[g],v=b[0],m=b[1],i.push(c[m]=v),r.push(c[v]=m);n=["CATCH","WHEN","ELSE","FINALLY"].concat(r),f=["IDENTIFIER","SUPER",")","CALL_END","]","INDEX_END","@","THIS"],o=["IDENTIFIER","NUMBER","STRING","JS","REGEX","NEW","PARAM_START","CLASS","IF","TRY","SWITCH","THIS","BOOL","NULL","UNDEFINED","UNARY","SUPER","@","->","=>","[","(","{","--","++"],l=["+","-"],s=["->","=>","{","[",","],u=["POST_IF","FOR","WHILE","UNTIL","WHEN","BY","LOOP","TERMINATOR"],d=["ELSE","->","=>","TRY","FINALLY","THEN"],p=["TERMINATOR","CATCH","FINALLY","ELSE","OUTDENT","LEADING_WHEN"],h=["TERMINATOR","INDENT","OUTDENT"]}).call(this)},require["./lexer"]=new function(){var e=this;(function(){var t,n,r,i,s,o,u,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};J=require("./rewriter"),B=J.Rewriter,y=J.INVERSES,K=require("./helpers"),W=K.count,$=K.starts,z=K.compact,V=K.last,e.Lexer=N=function(){function e(){}return e.prototype.tokenize=function(e,t){var n,r;t==null&&(t={}),U.test(e)&&(e="\n"+e),e=e.replace(/\r/g,"").replace(q,""),this.code=e,this.line=t.line||0,this.indent=0,this.indebt=0,this.outdebt=0,this.indents=[],this.ends=[],this.tokens=[],n=0;while(this.chunk=e.slice(n))n+=this.identifierToken()||this.commentToken()||this.whitespaceToken()||this.lineToken()||this.heredocToken()||this.stringToken()||this.numberToken()||this.regexToken()||this.jsToken()||this.literalToken();return this.closeIndentation(),(r=this.ends.pop())&&this.error("missing "+r),t.rewrite===!1?this.tokens:(new B).rewrite(this.tokens)},e.prototype.identifierToken=function(){var e,t,n,r,u,a,f,l,c;return(u=m.exec(this.chunk))?(r=u[0],n=u[1],e=u[2],n==="own"&&this.tag()==="FOR"?(this.token("OWN",n),n.length):(t=e||(a=V(this.tokens))&&((l=a[0])==="."||l==="?."||l==="::"||!a.spaced&&a[0]==="@"),f="IDENTIFIER",!t&&(Q.call(E,n)>=0||Q.call(o,n)>=0)&&(f=n.toUpperCase(),f==="WHEN"&&(c=this.tag(),Q.call(S,c)>=0)?f="LEADING_WHEN":f==="FOR"?this.seenFor=!0:f==="UNLESS"?f="IF":Q.call(R,f)>=0?f="UNARY":Q.call(P,f)>=0&&(f!=="INSTANCEOF"&&this.seenFor?(f="FOR"+f,this.seenFor=!1):(f="RELATION",this.value()==="!"&&(this.tokens.pop(),n="!"+n)))),Q.call(w,n)>=0&&(t?(f="IDENTIFIER",n=new String(n),n.reserved=!0):Q.call(H,n)>=0&&this.error('reserved word "'+n+'"')),t||(Q.call(i,n)>=0&&(n=s[n]),f=function(){switch(n){case"!":return"UNARY";case"==":case"!=":return"COMPARE";case"&&":case"||":return"LOGIC";case"true":case"false":return"BOOL";case"break":case"continue":return"STATEMENT";default:return f}}()),this.token(f,n),e&&this.token(":",":"),r.length)):0},e.prototype.numberToken=function(){var e,t,n,r,i;if(!(n=M.exec(this.chunk)))return 0;r=n[0],/^0[BOX]/.test(r)?this.error("radix prefix '"+r+"' must be lowercase"):/E/.test(r)&&!/^0x/.test(r)?this.error("exponential notation '"+r+"' must be indicated with a lowercase 'e'"):/^0\d*[89]/.test(r)?this.error("decimal literal '"+r+"' must not be prefixed with '0'"):/^0\d+/.test(r)&&this.error("octal literal '"+r+"' must be prefixed with '0o'"),t=r.length;if(i=/^0o([0-7]+)/.exec(r))r="0x"+parseInt(i[1],8).toString(16);if(e=/^0b([01]+)/.exec(r))r="0x"+parseInt(e[1],2).toString(16);return this.token("NUMBER",r),t},e.prototype.stringToken=function(){var e,t,n;switch(this.chunk.charAt(0)){case"'":if(!(e=F.exec(this.chunk)))return 0;this.token("STRING",(n=e[0]).replace(k,"\\\n"));break;case'"':if(!(n=this.balancedString(this.chunk,'"')))return 0;0<n.indexOf("#{",1)?this.interpolateString(n.slice(1,-1)):this.token("STRING",this.escapeLines(n));break;default:return 0}return(t=/^(?:\\.|[^\\])*\\(?:0[0-7]|[1-7])/.test(n))&&this.error("octal escape sequences "+n+" are not allowed"),this.line+=W(n,"\n"),n.length},e.prototype.heredocToken=function(){var e,t,n,r;return(n=c.exec(this.chunk))?(t=n[0],r=t.charAt(0),e=this.sanitizeHeredoc(n[2],{quote:r,indent:null}),r==='"'&&0<=e.indexOf("#{")?this.interpolateString(e,{heredoc:!0}):this.token("STRING",this.makeString(e,r,!0)),this.line+=W(t,"\n"),t.length):0},e.prototype.commentToken=function(){var e,t,n;return(n=this.chunk.match(u))?(e=n[0],t=n[1],t&&this.token("HERECOMMENT",this.sanitizeHeredoc(t,{herecomment:!0,indent:Array(this.indent+1).join(" ")})),this.line+=W(e,"\n"),e.length):0},e.prototype.jsToken=function(){var e,t;return this.chunk.charAt(0)!=="`"||!(e=b.exec(this.chunk))?0:(this.token("JS",(t=e[0]).slice(1,-1)),t.length)},e.prototype.regexToken=function(){var e,t,n,r,i,s,o;return this.chunk.charAt(0)!=="/"?0:(n=d.exec(this.chunk))?(t=this.heregexToken(n),this.line+=W(n[0],"\n"),t):(r=V(this.tokens),r&&(s=r[0],Q.call(r.spaced?A:O,s)>=0)?0:(n=D.exec(this.chunk))?(o=n,n=o[0],i=o[1],e=o[2],i.slice(0,2)==="/*"&&this.error("regular expressions cannot begin with `*`"),i==="//"&&(i="/(?:)/"),this.token("REGEX",""+i+e),n.length):0)},e.prototype.heregexToken=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p;r=e[0],t=e[1],n=e[2];if(0>t.indexOf("#{"))return i=t.replace(v,"").replace(/\//g,"\\/"),i.match(/^\*/)&&this.error("regular expressions cannot begin with `*`"),this.token("REGEX","/"+(i||"(?:)")+"/"+n),r.length;this.token("IDENTIFIER","RegExp"),this.tokens.push(["CALL_START","("]),o=[],l=this.interpolateString(t,{regex:!0});for(a=0,f=l.length;a<f;a++){c=l[a],s=c[0],u=c[1];if(s==="TOKENS")o.push.apply(o,u);else{if(!(u=u.replace(v,"")))continue;u=u.replace(/\\/g,"\\\\"),o.push(["STRING",this.makeString(u,'"',!0)])}o.push(["+","+"])}return o.pop(),((h=o[0])!=null?h[0]:void 0)!=="STRING"&&this.tokens.push(["STRING",'""'],["+","+"]),(p=this.tokens).push.apply(p,o),n&&this.tokens.push([",",","],["STRING",'"'+n+'"']),this.token(")",")"),r.length},e.prototype.lineToken=function(){var e,t,n,r,i,s;if(!(n=L.exec(this.chunk)))return 0;t=n[0],this.line+=W(t,"\n"),this.seenFor=!1,i=V(this.tokens,1),s=t.length-1-t.lastIndexOf("\n"),r=this.unfinished();if(s-this.indebt===this.indent)return r?this.suppressNewlines():this.newlineToken(),t.length;if(s>this.indent){if(r)return this.indebt=s-this.indent,this.suppressNewlines(),t.length;e=s-this.indent+this.outdebt,this.token("INDENT",e),this.indents.push(e),this.ends.push("OUTDENT"),this.outdebt=this.indebt=0}else this.indebt=0,this.outdentToken(this.indent-s,r);return this.indent=s,t.length},e.prototype.outdentToken=function(e,t){var n,r;while(e>0)r=this.indents.length-1,this.indents[r]===void 0?e=0:this.indents[r]===this.outdebt?(e-=this.outdebt,this.outdebt=0):this.indents[r]<this.outdebt?(this.outdebt-=this.indents[r],e-=this.indents[r]):(n=this.indents.pop()-this.outdebt,e-=n,this.outdebt=0,this.pair("OUTDENT"),this.token("OUTDENT",n));n&&(this.outdebt-=e);while(this.value()===";")this.tokens.pop();return this.tag()!=="TERMINATOR"&&!t&&this.token("TERMINATOR","\n"),this},e.prototype.whitespaceToken=function(){var e,t,n;return!(e=U.exec(this.chunk))&&!(t=this.chunk.charAt(0)==="\n")?0:(n=V(this.tokens),n&&(n[e?"spaced":"newLine"]=!0),e?e[0].length:0)},e.prototype.newlineToken=function(){while(this.value()===";")this.tokens.pop();return this.tag()!=="TERMINATOR"&&this.token("TERMINATOR","\n"),this},e.prototype.suppressNewlines=function(){return this.value()==="\\"&&this.tokens.pop(),this},e.prototype.literalToken=function(){var e,t,i,s,o,u,a,c;(e=_.exec(this.chunk))?(s=e[0],r.test(s)&&this.tagParameters()):s=this.chunk.charAt(0),i=s,t=V(this.tokens);if(s==="="&&t){!t[1].reserved&&(o=t[1],Q.call(w,o)>=0)&&this.error('reserved word "'+this.value()+"\" can't be assigned");if((u=t[1])==="||"||u==="&&")return t[0]="COMPOUND_ASSIGN",t[1]+="=",s.length}if(s===";")this.seenFor=!1,i="TERMINATOR";else if(Q.call(C,s)>=0)i="MATH";else if(Q.call(f,s)>=0)i="COMPARE";else if(Q.call(l,s)>=0)i="COMPOUND_ASSIGN";else if(Q.call(R,s)>=0)i="UNARY";else if(Q.call(j,s)>=0)i="SHIFT";else if(Q.call(T,s)>=0||s==="?"&&(t!=null?t.spaced:void 0))i="LOGIC";else if(t&&!t.spaced)if(s==="("&&(a=t[0],Q.call(n,a)>=0))t[0]==="?"&&(t[0]="FUNC_EXIST"),i="CALL_START";else if(s==="["&&(c=t[0],Q.call(g,c)>=0)){i="INDEX_START";switch(t[0]){case"?":t[0]="INDEX_SOAK"}}switch(s){case"(":case"{":case"[":this.ends.push(y[s]);break;case")":case"}":case"]":this.pair(s)}return this.token(i,s),s.length},e.prototype.sanitizeHeredoc=function(e,t){var n,r,i,s,o;i=t.indent,r=t.herecomment;if(r){h.test(e)&&this.error('block comment cannot contain "*/", starting');if(e.indexOf("\n")<=0)return e}else while(s=p.exec(e)){n=s[1];if(i===null||0<(o=n.length)&&o<i.length)i=n}return i&&(e=e.replace(RegExp("\\n"+i,"g"),"\n")),r||(e=e.replace(/^\n/,"")),e},e.prototype.tagParameters=function(){var e,t,n,r;if(this.tag()!==")")return this;t=[],r=this.tokens,e=r.length,r[--e][0]="PARAM_END";while(n=r[--e])switch(n[0]){case")":t.push(n);break;case"(":case"CALL_START":if(!t.length)return n[0]==="("?(n[0]="PARAM_START",this):this;t.pop()}return this},e.prototype.closeIndentation=function(){return this.outdentToken(this.indent)},e.prototype.balancedString=function(e,t){var n,r,i,s,o,u,a,f;n=0,u=[t];for(r=a=1,f=e.length;1<=f?a<f:a>f;r=1<=f?++a:--a){if(n){--n;continue}switch(i=e.charAt(r)){case"\\":++n;continue;case t:u.pop();if(!u.length)return e.slice(0,r+1||9e9);t=u[u.length-1];continue}t!=="}"||i!=='"'&&i!=="'"?t==="}"&&i==="/"&&(s=d.exec(e.slice(r))||D.exec(e.slice(r)))?n+=s[0].length-1:t==="}"&&i==="{"?u.push(t="}"):t==='"'&&o==="#"&&i==="{"&&u.push(t="}"):u.push(t=i),o=i}return this.error("missing "+u.pop()+", starting")},e.prototype.interpolateString=function(t,n){var r,i,s,o,u,f,l,c,h,p,d,v,m,g,y,b,w,E;n==null&&(n={}),i=n.heredoc,p=n.regex,v=[],h=0,s=-1;while(l=t.charAt(s+=1)){if(l==="\\"){s+=1;continue}if(l!=="#"||t.charAt(s+1)!=="{"||!(r=this.balancedString(t.slice(s+1),"}")))continue;h<s&&v.push(["NEOSTRING",t.slice(h,s)]),o=r.slice(1,-1);if(o.length){c=(new e).tokenize(o,{line:this.line,rewrite:!1}),c.pop(),((b=c[0])!=null?b[0]:void 0)==="TERMINATOR"&&c.shift();if(f=c.length)f>1&&(c.unshift(["(","(",this.line]),c.push([")",")",this.line])),v.push(["TOKENS",c])}s+=r.length,h=s+1}s>h&&h<t.length&&v.push(["NEOSTRING",t.slice(h)]);if(p)return v;if(!v.length)return this.token("STRING",'""');v[0][0]!=="NEOSTRING"&&v.unshift(["",""]),(u=v.length>1)&&this.token("(","(");for(s=g=0,y=v.length;g<y;s=++g)w=v[s],d=w[0],m=w[1],s&&this.token("+","+"),d==="TOKENS"?(E=this.tokens).push.apply(E,m):this.token("STRING",this.makeString(m,'"',i));return u&&this.token(")",")"),v},e.prototype.pair=function(e){var t,n;return e!==(n=V(this.ends))?("OUTDENT"!==n&&this.error("unmatched "+e),this.indent-=t=V(this.indents),this.outdentToken(t,!0),this.pair(e)):this.ends.pop()},e.prototype.token=function(e,t){return this.tokens.push([e,t,this.line])},e.prototype.tag=function(e,t){var n;return(n=V(this.tokens,e))&&(t?n[0]=t:n[0])},e.prototype.value=function(e,t){var n;return(n=V(this.tokens,e))&&(t?n[1]=t:n[1])},e.prototype.unfinished=function(){var e;return x.test(this.chunk)||(e=this.tag())==="\\"||e==="."||e==="?."||e==="UNARY"||e==="MATH"||e==="+"||e==="-"||e==="SHIFT"||e==="RELATION"||e==="COMPARE"||e==="LOGIC"||e==="THROW"||e==="EXTENDS"},e.prototype.escapeLines=function(e,t){return e.replace(k,t?"\\n":"")},e.prototype.makeString=function(e,t,n){return e?(e=e.replace(/\\([\s\S])/g,function(e,n){return n==="\n"||n===t?n:e}),e=e.replace(RegExp(""+t,"g"),"\\$&"),t+this.escapeLines(e,n)+t):t+t},e.prototype.error=function(e){throw SyntaxError(""+e+" on line "+(this.line+1))},e}(),E=["true","false","null","this","new","delete","typeof","in","instanceof","return","throw","break","continue","debugger","if","else","switch","for","while","do","try","catch","finally","class","extends","super"],o=["undefined","then","unless","until","loop","of","by","when"],s={and:"&&",or:"||",is:"==",isnt:"!=",not:"!",yes:"true",no:"false",on:"true",off:"false"},i=function(){var e;e=[];for(X in s)e.push(X);return e}(),o=o.concat(i),H=["case","default","function","var","void","with","const","let","enum","export","import","native","__hasProp","__extends","__slice","__bind","__indexOf","implements","interface","let","package","private","protected","public","static","yield"],I=["arguments","eval"],w=E.concat(H).concat(I),e.RESERVED=H.concat(E).concat(o).concat(I),e.STRICT_PROSCRIBED=I,m=/^([$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)([^\n\S]*:(?!:))?/,M=/^0b[01]+|^0o[0-7]+|^0x[\da-f]+|^\d*\.?\d+(?:e[+-]?\d+)?/i,c=/^("""|''')([\s\S]*?)(?:\n[^\n\S]*)?\1/,_=/^(?:[-=]>|[-+*\/%<>&|^!?=]=|>>>=?|([-+:])\1|([&|<>])\2=?|\?\.|\.{2,3})/,U=/^[^\n\S]+/,u=/^###([^#][\s\S]*?)(?:###[^\n\S]*|(?:###)?$)|^(?:\s*#(?!##[^#]).*)+/,r=/^[-=]>/,L=/^(?:\n[^\n\S]*)+/,F=/^'[^\\']*(?:\\.[^\\']*)*'/,b=/^`[^\\`]*(?:\\.[^\\`]*)*`/,D=/^(\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)([imgy]{0,4})(?!\w)/,d=/^\/{3}([\s\S]+?)\/{3}([imgy]{0,4})(?!\w)/,v=/\s+(?:#.*)?/g,k=/\n/g,p=/\n+([^\n\S]*)/g,h=/\*\//,x=/^\s*(?:,|\??\.(?![.\d])|::)/,q=/\s+$/,l=["-=","+=","/=","*=","%=","||=","&&=","?=","<<=",">>=",">>>=","&=","^=","|="],R=["!","~","NEW","TYPEOF","DELETE","DO"],T=["&&","||","&","|","^"],j=["<<",">>",">>>"],f=["==","!=","<",">","<=",">="],C=["*","/","%"],P=["IN","OF","INSTANCEOF"],t=["TRUE","FALSE"],A=["NUMBER","REGEX","BOOL","NULL","UNDEFINED","++","--","]"],O=A.concat(")","}","THIS","IDENTIFIER","STRING"),n=["IDENTIFIER","STRING","REGEX",")","]","}","?","::","@","THIS","SUPER"],g=n.concat("NUMBER","BOOL","NULL","UNDEFINED"),S=["INDENT","OUTDENT","TERMINATOR"]}).call(this)},require["./parser"]=new function(){var e=this,t=function(){var e={trace:function(){},yy:{},symbols_:{error:2,Root:3,Body:4,Block:5,TERMINATOR:6,Line:7,Expression:8,Statement:9,Return:10,Comment:11,STATEMENT:12,Value:13,Invocation:14,Code:15,Operation:16,Assign:17,If:18,Try:19,While:20,For:21,Switch:22,Class:23,Throw:24,INDENT:25,OUTDENT:26,Identifier:27,IDENTIFIER:28,AlphaNumeric:29,NUMBER:30,STRING:31,Literal:32,JS:33,REGEX:34,DEBUGGER:35,UNDEFINED:36,NULL:37,BOOL:38,Assignable:39,"=":40,AssignObj:41,ObjAssignable:42,":":43,ThisProperty:44,RETURN:45,HERECOMMENT:46,PARAM_START:47,ParamList:48,PARAM_END:49,FuncGlyph:50,"->":51,"=>":52,OptComma:53,",":54,Param:55,ParamVar:56,"...":57,Array:58,Object:59,Splat:60,SimpleAssignable:61,Accessor:62,Parenthetical:63,Range:64,This:65,".":66,"?.":67,"::":68,Index:69,INDEX_START:70,IndexValue:71,INDEX_END:72,INDEX_SOAK:73,Slice:74,"{":75,AssignList:76,"}":77,CLASS:78,EXTENDS:79,OptFuncExist:80,Arguments:81,SUPER:82,FUNC_EXIST:83,CALL_START:84,CALL_END:85,ArgList:86,THIS:87,"@":88,"[":89,"]":90,RangeDots:91,"..":92,Arg:93,SimpleArgs:94,TRY:95,Catch:96,FINALLY
:97,CATCH:98,THROW:99,"(":100,")":101,WhileSource:102,WHILE:103,WHEN:104,UNTIL:105,Loop:106,LOOP:107,ForBody:108,FOR:109,ForStart:110,ForSource:111,ForVariables:112,OWN:113,ForValue:114,FORIN:115,FOROF:116,BY:117,SWITCH:118,Whens:119,ELSE:120,When:121,LEADING_WHEN:122,IfBlock:123,IF:124,POST_IF:125,UNARY:126,"-":127,"+":128,"--":129,"++":130,"?":131,MATH:132,SHIFT:133,COMPARE:134,LOGIC:135,RELATION:136,COMPOUND_ASSIGN:137,$accept:0,$end:1},terminals_:{2:"error",6:"TERMINATOR",12:"STATEMENT",25:"INDENT",26:"OUTDENT",28:"IDENTIFIER",30:"NUMBER",31:"STRING",33:"JS",34:"REGEX",35:"DEBUGGER",36:"UNDEFINED",37:"NULL",38:"BOOL",40:"=",43:":",45:"RETURN",46:"HERECOMMENT",47:"PARAM_START",49:"PARAM_END",51:"->",52:"=>",54:",",57:"...",66:".",67:"?.",68:"::",70:"INDEX_START",72:"INDEX_END",73:"INDEX_SOAK",75:"{",77:"}",78:"CLASS",79:"EXTENDS",82:"SUPER",83:"FUNC_EXIST",84:"CALL_START",85:"CALL_END",87:"THIS",88:"@",89:"[",90:"]",92:"..",95:"TRY",97:"FINALLY",98:"CATCH",99:"THROW",100:"(",101:")",103:"WHILE",104:"WHEN",105:"UNTIL",107:"LOOP",109:"FOR",113:"OWN",115:"FORIN",116:"FOROF",117:"BY",118:"SWITCH",120:"ELSE",122:"LEADING_WHEN",124:"IF",125:"POST_IF",126:"UNARY",127:"-",128:"+",129:"--",130:"++",131:"?",132:"MATH",133:"SHIFT",134:"COMPARE",135:"LOGIC",136:"RELATION",137:"COMPOUND_ASSIGN"},productions_:[0,[3,0],[3,1],[3,2],[4,1],[4,3],[4,2],[7,1],[7,1],[9,1],[9,1],[9,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[8,1],[5,2],[5,3],[27,1],[29,1],[29,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[17,3],[17,4],[17,5],[41,1],[41,3],[41,5],[41,1],[42,1],[42,1],[42,1],[10,2],[10,1],[11,1],[15,5],[15,2],[50,1],[50,1],[53,0],[53,1],[48,0],[48,1],[48,3],[48,4],[48,6],[55,1],[55,2],[55,3],[56,1],[56,1],[56,1],[56,1],[60,2],[61,1],[61,2],[61,2],[61,1],[39,1],[39,1],[39,1],[13,1],[13,1],[13,1],[13,1],[13,1],[62,2],[62,2],[62,2],[62,1],[62,1],[69,3],[69,2],[71,1],[71,1],[59,4],[76,0],[76,1],[76,3],[76,4],[76,6],[23,1],[23,2],[23,3],[23,4],[23,2],[23,3],[23,4],[23,5],[14,3],[14,3],[14,1],[14,2],[80,0],[80,1],[81,2],[81,4],[65,1],[65,1],[44,2],[58,2],[58,4],[91,1],[91,1],[64,5],[74,3],[74,2],[74,2],[74,1],[86,1],[86,3],[86,4],[86,4],[86,6],[93,1],[93,1],[94,1],[94,3],[19,2],[19,3],[19,4],[19,5],[96,3],[24,2],[63,3],[63,5],[102,2],[102,4],[102,2],[102,4],[20,2],[20,2],[20,2],[20,1],[106,2],[106,2],[21,2],[21,2],[21,2],[108,2],[108,2],[110,2],[110,3],[114,1],[114,1],[114,1],[114,1],[112,1],[112,3],[111,2],[111,2],[111,4],[111,4],[111,4],[111,6],[111,6],[22,5],[22,7],[22,4],[22,6],[119,1],[119,2],[121,3],[121,4],[123,3],[123,5],[18,1],[18,3],[18,3],[18,3],[16,2],[16,2],[16,2],[16,2],[16,2],[16,2],[16,2],[16,2],[16,3],[16,3],[16,3],[16,3],[16,3],[16,3],[16,3],[16,3],[16,5],[16,3]],performAction:function(e,t,n,r,i,s,o){var u=s.length-1;switch(i){case 1:return this.$=new r.Block;case 2:return this.$=s[u];case 3:return this.$=s[u-1];case 4:this.$=r.Block.wrap([s[u]]);break;case 5:this.$=s[u-2].push(s[u]);break;case 6:this.$=s[u-1];break;case 7:this.$=s[u];break;case 8:this.$=s[u];break;case 9:this.$=s[u];break;case 10:this.$=s[u];break;case 11:this.$=new r.Literal(s[u]);break;case 12:this.$=s[u];break;case 13:this.$=s[u];break;case 14:this.$=s[u];break;case 15:this.$=s[u];break;case 16:this.$=s[u];break;case 17:this.$=s[u];break;case 18:this.$=s[u];break;case 19:this.$=s[u];break;case 20:this.$=s[u];break;case 21:this.$=s[u];break;case 22:this.$=s[u];break;case 23:this.$=s[u];break;case 24:this.$=new r.Block;break;case 25:this.$=s[u-1];break;case 26:this.$=new r.Literal(s[u]);break;case 27:this.$=new r.Literal(s[u]);break;case 28:this.$=new r.Literal(s[u]);break;case 29:this.$=s[u];break;case 30:this.$=new r.Literal(s[u]);break;case 31:this.$=new r.Literal(s[u]);break;case 32:this.$=new r.Literal(s[u]);break;case 33:this.$=new r.Undefined;break;case 34:this.$=new r.Null;break;case 35:this.$=new r.Bool(s[u]);break;case 36:this.$=new r.Assign(s[u-2],s[u]);break;case 37:this.$=new r.Assign(s[u-3],s[u]);break;case 38:this.$=new r.Assign(s[u-4],s[u-1]);break;case 39:this.$=new r.Value(s[u]);break;case 40:this.$=new r.Assign(new r.Value(s[u-2]),s[u],"object");break;case 41:this.$=new r.Assign(new r.Value(s[u-4]),s[u-1],"object");break;case 42:this.$=s[u];break;case 43:this.$=s[u];break;case 44:this.$=s[u];break;case 45:this.$=s[u];break;case 46:this.$=new r.Return(s[u]);break;case 47:this.$=new r.Return;break;case 48:this.$=new r.Comment(s[u]);break;case 49:this.$=new r.Code(s[u-3],s[u],s[u-1]);break;case 50:this.$=new r.Code([],s[u],s[u-1]);break;case 51:this.$="func";break;case 52:this.$="boundfunc";break;case 53:this.$=s[u];break;case 54:this.$=s[u];break;case 55:this.$=[];break;case 56:this.$=[s[u]];break;case 57:this.$=s[u-2].concat(s[u]);break;case 58:this.$=s[u-3].concat(s[u]);break;case 59:this.$=s[u-5].concat(s[u-2]);break;case 60:this.$=new r.Param(s[u]);break;case 61:this.$=new r.Param(s[u-1],null,!0);break;case 62:this.$=new r.Param(s[u-2],s[u]);break;case 63:this.$=s[u];break;case 64:this.$=s[u];break;case 65:this.$=s[u];break;case 66:this.$=s[u];break;case 67:this.$=new r.Splat(s[u-1]);break;case 68:this.$=new r.Value(s[u]);break;case 69:this.$=s[u-1].add(s[u]);break;case 70:this.$=new r.Value(s[u-1],[].concat(s[u]));break;case 71:this.$=s[u];break;case 72:this.$=s[u];break;case 73:this.$=new r.Value(s[u]);break;case 74:this.$=new r.Value(s[u]);break;case 75:this.$=s[u];break;case 76:this.$=new r.Value(s[u]);break;case 77:this.$=new r.Value(s[u]);break;case 78:this.$=new r.Value(s[u]);break;case 79:this.$=s[u];break;case 80:this.$=new r.Access(s[u]);break;case 81:this.$=new r.Access(s[u],"soak");break;case 82:this.$=[new r.Access(new r.Literal("prototype")),new r.Access(s[u])];break;case 83:this.$=new r.Access(new r.Literal("prototype"));break;case 84:this.$=s[u];break;case 85:this.$=s[u-1];break;case 86:this.$=r.extend(s[u],{soak:!0});break;case 87:this.$=new r.Index(s[u]);break;case 88:this.$=new r.Slice(s[u]);break;case 89:this.$=new r.Obj(s[u-2],s[u-3].generated);break;case 90:this.$=[];break;case 91:this.$=[s[u]];break;case 92:this.$=s[u-2].concat(s[u]);break;case 93:this.$=s[u-3].concat(s[u]);break;case 94:this.$=s[u-5].concat(s[u-2]);break;case 95:this.$=new r.Class;break;case 96:this.$=new r.Class(null,null,s[u]);break;case 97:this.$=new r.Class(null,s[u]);break;case 98:this.$=new r.Class(null,s[u-1],s[u]);break;case 99:this.$=new r.Class(s[u]);break;case 100:this.$=new r.Class(s[u-1],null,s[u]);break;case 101:this.$=new r.Class(s[u-2],s[u]);break;case 102:this.$=new r.Class(s[u-3],s[u-1],s[u]);break;case 103:this.$=new r.Call(s[u-2],s[u],s[u-1]);break;case 104:this.$=new r.Call(s[u-2],s[u],s[u-1]);break;case 105:this.$=new r.Call("super",[new r.Splat(new r.Literal("arguments"))]);break;case 106:this.$=new r.Call("super",s[u]);break;case 107:this.$=!1;break;case 108:this.$=!0;break;case 109:this.$=[];break;case 110:this.$=s[u-2];break;case 111:this.$=new r.Value(new r.Literal("this"));break;case 112:this.$=new r.Value(new r.Literal("this"));break;case 113:this.$=new r.Value(new r.Literal("this"),[new r.Access(s[u])],"this");break;case 114:this.$=new r.Arr([]);break;case 115:this.$=new r.Arr(s[u-2]);break;case 116:this.$="inclusive";break;case 117:this.$="exclusive";break;case 118:this.$=new r.Range(s[u-3],s[u-1],s[u-2]);break;case 119:this.$=new r.Range(s[u-2],s[u],s[u-1]);break;case 120:this.$=new r.Range(s[u-1],null,s[u]);break;case 121:this.$=new r.Range(null,s[u],s[u-1]);break;case 122:this.$=new r.Range(null,null,s[u]);break;case 123:this.$=[s[u]];break;case 124:this.$=s[u-2].concat(s[u]);break;case 125:this.$=s[u-3].concat(s[u]);break;case 126:this.$=s[u-2];break;case 127:this.$=s[u-5].concat(s[u-2]);break;case 128:this.$=s[u];break;case 129:this.$=s[u];break;case 130:this.$=s[u];break;case 131:this.$=[].concat(s[u-2],s[u]);break;case 132:this.$=new r.Try(s[u]);break;case 133:this.$=new r.Try(s[u-1],s[u][0],s[u][1]);break;case 134:this.$=new r.Try(s[u-2],null,null,s[u]);break;case 135:this.$=new r.Try(s[u-3],s[u-2][0],s[u-2][1],s[u]);break;case 136:this.$=[s[u-1],s[u]];break;case 137:this.$=new r.Throw(s[u]);break;case 138:this.$=new r.Parens(s[u-1]);break;case 139:this.$=new r.Parens(s[u-2]);break;case 140:this.$=new r.While(s[u]);break;case 141:this.$=new r.While(s[u-2],{guard:s[u]});break;case 142:this.$=new r.While(s[u],{invert:!0});break;case 143:this.$=new r.While(s[u-2],{invert:!0,guard:s[u]});break;case 144:this.$=s[u-1].addBody(s[u]);break;case 145:this.$=s[u].addBody(r.Block.wrap([s[u-1]]));break;case 146:this.$=s[u].addBody(r.Block.wrap([s[u-1]]));break;case 147:this.$=s[u];break;case 148:this.$=(new r.While(new r.Literal("true"))).addBody(s[u]);break;case 149:this.$=(new r.While(new r.Literal("true"))).addBody(r.Block.wrap([s[u]]));break;case 150:this.$=new r.For(s[u-1],s[u]);break;case 151:this.$=new r.For(s[u-1],s[u]);break;case 152:this.$=new r.For(s[u],s[u-1]);break;case 153:this.$={source:new r.Value(s[u])};break;case 154:this.$=function(){return s[u].own=s[u-1].own,s[u].name=s[u-1][0],s[u].index=s[u-1][1],s[u]}();break;case 155:this.$=s[u];break;case 156:this.$=function(){return s[u].own=!0,s[u]}();break;case 157:this.$=s[u];break;case 158:this.$=s[u];break;case 159:this.$=new r.Value(s[u]);break;case 160:this.$=new r.Value(s[u]);break;case 161:this.$=[s[u]];break;case 162:this.$=[s[u-2],s[u]];break;case 163:this.$={source:s[u]};break;case 164:this.$={source:s[u],object:!0};break;case 165:this.$={source:s[u-2],guard:s[u]};break;case 166:this.$={source:s[u-2],guard:s[u],object:!0};break;case 167:this.$={source:s[u-2],step:s[u]};break;case 168:this.$={source:s[u-4],guard:s[u-2],step:s[u]};break;case 169:this.$={source:s[u-4],step:s[u-2],guard:s[u]};break;case 170:this.$=new r.Switch(s[u-3],s[u-1]);break;case 171:this.$=new r.Switch(s[u-5],s[u-3],s[u-1]);break;case 172:this.$=new r.Switch(null,s[u-1]);break;case 173:this.$=new r.Switch(null,s[u-3],s[u-1]);break;case 174:this.$=s[u];break;case 175:this.$=s[u-1].concat(s[u]);break;case 176:this.$=[[s[u-1],s[u]]];break;case 177:this.$=[[s[u-2],s[u-1]]];break;case 178:this.$=new r.If(s[u-1],s[u],{type:s[u-2]});break;case 179:this.$=s[u-4].addElse(new r.If(s[u-1],s[u],{type:s[u-2]}));break;case 180:this.$=s[u];break;case 181:this.$=s[u-2].addElse(s[u]);break;case 182:this.$=new r.If(s[u],r.Block.wrap([s[u-2]]),{type:s[u-1],statement:!0});break;case 183:this.$=new r.If(s[u],r.Block.wrap([s[u-2]]),{type:s[u-1],statement:!0});break;case 184:this.$=new r.Op(s[u-1],s[u]);break;case 185:this.$=new r.Op("-",s[u]);break;case 186:this.$=new r.Op("+",s[u]);break;case 187:this.$=new r.Op("--",s[u]);break;case 188:this.$=new r.Op("++",s[u]);break;case 189:this.$=new r.Op("--",s[u-1],null,!0);break;case 190:this.$=new r.Op("++",s[u-1],null,!0);break;case 191:this.$=new r.Existence(s[u-1]);break;case 192:this.$=new r.Op("+",s[u-2],s[u]);break;case 193:this.$=new r.Op("-",s[u-2],s[u]);break;case 194:this.$=new r.Op(s[u-1],s[u-2],s[u]);break;case 195:this.$=new r.Op(s[u-1],s[u-2],s[u]);break;case 196:this.$=new r.Op(s[u-1],s[u-2],s[u]);break;case 197:this.$=new r.Op(s[u-1],s[u-2],s[u]);break;case 198:this.$=function(){return s[u-1].charAt(0)==="!"?(new r.Op(s[u-1].slice(1),s[u-2],s[u])).invert():new r.Op(s[u-1],s[u-2],s[u])}();break;case 199:this.$=new r.Assign(s[u-2],s[u],s[u-1]);break;case 200:this.$=new r.Assign(s[u-4],s[u-1],s[u-3]);break;case 201:this.$=new r.Extends(s[u-2],s[u])}},table:[{1:[2,1],3:1,4:2,5:3,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,5],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[3]},{1:[2,2],6:[1,74]},{6:[1,75]},{1:[2,4],6:[2,4],26:[2,4],101:[2,4]},{4:77,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,26:[1,76],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,7],6:[2,7],26:[2,7],101:[2,7],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,8],6:[2,8],26:[2,8],101:[2,8],102:90,103:[1,65],105:[1,66],108:91,109:[1,68],110:69,125:[1,89]},{1:[2,12],6:[2,12],25:[2,12],26:[2,12],49:[2,12],54:[2,12],57:[2,12],62:93,66:[1,95],67:[1,96],68:[1,97],69:98,70:[1,99],72:[2,12],73:[1,100],77:[2,12],80:92,83:[1,94],84:[2,107],85:[2,12],90:[2,12],92:[2,12],101:[2,12],103:[2,12],104:[2,12],105:[2,12],109:[2,12],117:[2,12],125:[2,12],127:[2,12],128:[2,12],131:[2,12],132:[2,12],133:[2,12],134:[2,12],135:[2,12],136:[2,12]},{1:[2,13],6:[2,13],25:[2,13],26:[2,13],49:[2,13],54:[2,13],57:[2,13],62:102,66:[1,95],67:[1,96],68:[1,97],69:98,70:[1,99],72:[2,13],73:[1,100],77:[2,13],80:101,83:[1,94],84:[2,107],85:[2,13],90:[2,13],92:[2,13],101:[2,13],103:[2,13],104:[2,13],105:[2,13],109:[2,13],117:[2,13],125:[2,13],127:[2,13],128:[2,13],131:[2,13],132:[2,13],133:[2,13],134:[2,13],135:[2,13],136:[2,13]},{1:[2,14],6:[2,14],25:[2,14],26:[2,14],49:[2,14],54:[2,14],57:[2,14],72:[2,14],77:[2,14],85:[2,14],90:[2,14],92:[2,14],101:[2,14],103:[2,14],104:[2,14],105:[2,14],109:[2,14],117:[2,14],125:[2,14],127:[2,14],128:[2,14],131:[2,14],132:[2,14],133:[2,14],134:[2,14],135:[2,14],136:[2,14]},{1:[2,15],6:[2,15],25:[2,15],26:[2,15],49:[2,15],54:[2,15],57:[2,15],72:[2,15],77:[2,15],85:[2,15],90:[2,15],92:[2,15],101:[2,15],103:[2,15],104:[2,15],105:[2,15],109:[2,15],117:[2,15],125:[2,15],127:[2,15],128:[2,15],131:[2,15],132:[2,15],133:[2,15],134:[2,15],135:[2,15],136:[2,15]},{1:[2,16],6:[2,16],25:[2,16],26:[2,16],49:[2,16],54:[2,16],57:[2,16],72:[2,16],77:[2,16],85:[2,16],90:[2,16],92:[2,16],101:[2,16],103:[2,16],104:[2,16],105:[2,16],109:[2,16],117:[2,16],125:[2,16],127:[2,16],128:[2,16],131:[2,16],132:[2,16],133:[2,16],134:[2,16],135:[2,16],136:[2,16]},{1:[2,17],6:[2,17],25:[2,17],26:[2,17],49:[2,17],54:[2,17],57:[2,17],72:[2,17],77:[2,17],85:[2,17],90:[2,17],92:[2,17],101:[2,17],103:[2,17],104:[2,17],105:[2,17],109:[2,17],117:[2,17],125:[2,17],127:[2,17],128:[2,17],131:[2,17],132:[2,17],133:[2,17],134:[2,17],135:[2,17],136:[2,17]},{1:[2,18],6:[2,18],25:[2,18],26:[2,18],49:[2,18],54:[2,18],57:[2,18],72:[2,18],77:[2,18],85:[2,18],90:[2,18],92:[2,18],101:[2,18],103:[2,18],104:[2,18],105:[2,18],109:[2,18],117:[2,18],125:[2,18],127:[2,18],128:[2,18],131:[2,18],132:[2,18],133:[2,18],134:[2,18],135:[2,18],136:[2,18]},{1:[2,19],6:[2,19],25:[2,19],26:[2,19],49:[2,19],54:[2,19],57:[2,19],72:[2,19],77:[2,19],85:[2,19],90:[2,19],92:[2,19],101:[2,19],103:[2,19],104:[2,19],105:[2,19],109:[2,19],117:[2,19],125:[2,19],127:[2,19],128:[2,19],131:[2,19],132:[2,19],133:[2,19],134:[2,19],135:[2,19],136:[2,19]},{1:[2,20],6:[2,20],25:[2,20],26:[2,20],49:[2,20],54:[2,20],57:[2,20],72:[2,20],77:[2,20],85:[2,20],90:[2,20],92:[2,20],101:[2,20],103:[2,20],104:[2,20],105:[2,20],109:[2,20],117:[2,20],125:[2,20],127:[2,20],128:[2,20],131:[2,20],132:[2,20],133:[2,20],134:[2,20],135:[2,20],136:[2,20]},{1:[2,21],6:[2,21],25:[2,21],26:[2,21],49:[2,21],54:[2,21],57:[2,21],72:[2,21],77:[2,21],85:[2,21],90:[2,21],92:[2,21],101:[2,21],103:[2,21],104:[2,21],105:[2,21],109:[2,21],117:[2,21],125:[2,21],127:[2,21],128:[2,21],131:[2,21],132:[2,21],133:[2,21],134:[2,21],135:[2,21],136:[2,21]},{1:[2,22],6:[2,22],25:[2,22],26:[2,22],49:[2,22],54:[2,22],57:[2,22],72:[2,22],77:[2,22],85:[2,22],90:[2,22],92:[2,22],101:[2,22],103:[2,22],104:[2,22],105:[2,22],109:[2,22],117:[2,22],125:[2,22],127:[2,22],128:[2,22],131:[2,22],132:[2,22],133:[2,22],134:[2,22],135:[2,22],136:[2,22]},{1:[2,23],6:[2,23],25:[2,23],26:[2,23],49:[2,23],54:[2,23],57:[2,23],72:[2,23],77:[2,23],85:[2,23],90:[2,23],92:[2,23],101:[2,23],103:[2,23],104:[2,23],105:[2,23],109:[2,23],117:[2,23],125:[2,23],127:[2,23],128:[2,23],131:[2,23],132:[2,23],133:[2,23],134:[2,23],135:[2,23],136:[2,23]},{1:[2,9],6:[2,9],26:[2,9],101:[2,9],103:[2,9],105:[2,9],109:[2,9],125:[2,9]},{1:[2,10],6:[2,10],26:[2,10],101:[2,10],103:[2,10],105:[2,10],109:[2,10],125:[2,10]},{1:[2,11],6:[2,11],26:[2,11],101:[2,11],103:[2,11],105:[2,11],109:[2,11],125:[2,11]},{1:[2,75],6:[2,75],25:[2,75],26:[2,75],40:[1,103],49:[2,75],54:[2,75],57:[2,75],66:[2,75],67:[2,75],68:[2,75],70:[2,75],72:[2,75],73:[2,75],77:[2,75],83:[2,75],84:[2,75],85:[2,75],90:[2,75],92:[2,75],101:[2,75],103:[2,75],104:[2,75],105:[2,75],109:[2,75],117:[2,75],125:[2,75],127:[2,75],128:[2,75],131:[2,75],132:[2,75],133:[2,75],134:[2,75],135:[2,75],136:[2,75]},{1:[2,76],6:[2,76],25:[2,76],26:[2,76],49:[2,76],54:[2,76],57:[2,76],66:[2,76],67:[2,76],68:[2,76],70:[2,76],72:[2,76],73:[2,76],77:[2,76],83:[2,76],84:[2,76],85:[2,76],90:[2,76],92:[2,76],101:[2,76],103:[2,76],104:[2,76],105:[2,76],109:[2,76],117:[2,76],125:[2,76],127:[2,76],128:[2,76],131:[2,76],132:[2,76],133:[2,76],134:[2,76],135:[2,76],136:[2,76]},{1:[2,77],6:[2,77],25:[2,77],26:[2,77],49:[2,77],54:[2,77],57:[2,77],66:[2,77],67:[2,77],68:[2,77],70:[2,77],72:[2,77],73:[2,77],77:[2,77],83:[2,77],84:[2,77],85:[2,77],90:[2,77],92:[2,77],101:[2,77],103:[2,77],104:[2,77],105:[2,77],109:[2,77],117:[2,77],125:[2,77],127:[2,77],128:[2,77],131:[2,77],132:[2,77],133:[2,77],134:[2,77],135:[2,77],136:[2,77]},{1:[2,78],6:[2,78],25:[2,78],26:[2,78],49:[2,78],54:[2,78],57:[2,78],66:[2,78],67:[2,78],68:[2,78],70:[2,78],72:[2,78],73:[2,78],77:[2,78],83:[2,78],84:[2,78],85:[2,78],90:[2,78],92:[2,78],101:[2,78],103:[2,78],104:[2,78],105:[2,78],109:[2,78],117:[2,78],125:[2,78],127:[2,78],128:[2,78],131:[2,78],132:[2,78],133:[2,78],134:[2,78],135:[2,78],136:[2,78]},{1:[2,79],6:[2,79],25:[2,79],26:[2,79],49:[2,79],54:[2,79],57:[2,79],66:[2,79],67:[2,79],68:[2,79],70:[2,79],72:[2,79],73:[2,79],77:[2,79],83:[2,79],84:[2,79],85:[2,79],90:[2,79],92:[2,79],101:[2,79],103:[2,79],104:[2,79],105:[2,79],109:[2,79],117:[2,79],125:[2,79],127:[2,79],128:[2,79],131:[2,79],132:[2,79],133:[2,79],134:[2,79],135:[2,79],136:[2,79]},{1:[2,105],6:[2,105],25:[2,105],26:[2,105],49:[2,105],54:[2,105],57:[2,105],66:[2,105],67:[2,105],68:[2,105],70:[2,105],72:[2,105],73:[2,105],77:[2,105],81:104,83:[2,105],84:[1,105],85:[2,105],90:[2,105],92:[2,105],101:[2,105],103:[2,105],104:[2,105],105:[2,105],109:[2,105],117:[2,105],125:[2,105],127:[2,105],128:[2,105],131:[2,105],132:[2,105],133:[2,105],134:[2,105],135:[2,105],136:[2,105]},{6:[2,55],25:[2,55],27:109,28:[1,73],44:110,48:106,49:[2,55],54:[2,55],55:107,56:108,58:111,59:112,75:[1,70],88:[1,113],89:[1,114]},{5:115,25:[1,5]},{8:116,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:118,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:119,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{13:121,14:122,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:123,44:63,58:47,59:48,61:120,63:25,64:26,65:27,75:[1,70],82:[1,28],87:[1,58],88:[1,59],89:[1,57],100:[1,56]},{13:121,14:122,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:123,44:63,58:47,59:48,61:124,63:25,64:26,65:27,75:[1,70],82:[1,28],87:[1,58],88:[1,59],89:[1,57],100:[1,56]},{1:[2,72],6:[2,72],25:[2,72],26:[2,72],40:[2,72],49:[2,72],54:[2,72],57:[2,72],66:[2,72],67:[2,72],68:[2,72],70:[2,72],72:[2,72],73:[2,72],77:[2,72],79:[1,128],83:[2,72],84:[2,72],85:[2,72],90:[2,72],92:[2,72],101:[2,72],103:[2,72],104:[2,72],105:[2,72],109:[2,72],117:[2,72],125:[2,72],127:[2,72],128:[2,72],129:[1,125],130:[1,126],131:[2,72],132:[2,72],133:[2,72],134:[2,72],135:[2,72],136:[2,72],137:[1,127]},{1:[2,180],6:[2,180],25:[2,180],26:[2,180],49:[2,180],54:[2,180],57:[2,180],72:[2,180],77:[2,180],85:[2,180],90:[2,180],92:[2,180],101:[2,180],103:[2,180],104:[2,180],105:[2,180],109:[2,180],117:[2,180],120:[1,129],125:[2,180],127:[2,180],128:[2,180],131:[2,180],132:[2,180],133:[2,180],134:[2,180],135:[2,180],136:[2,180]},{5:130,25:[1,5]},{5:131,25:[1,5]},{1:[2,147],6:[2,147],25:[2,147],26:[2,147],49:[2,147],54:[2,147],57:[2,147],72:[2,147],77:[2,147],85:[2,147],90:[2,147],92:[2,147],101:[2,147],103:[2,147],104:[2,147],105:[2,147],109:[2,147],117:[2,147],125:[2,147],127:[2,147],128:[2,147],131:[2,147],132:[2,147],133:[2,147],134:[2,147],135:[2,147],136:[2,147]},{5:132,25:[1,5]},{8:133,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,134],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,95],5:135,6:[2,95],13:121,14:122,25:[1,5],26:[2,95],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:123,44:63,49:[2,95],54:[2,95],57:[2,95],58:47,59:48,61:137,63:25,64:26,65:27,72:[2,95],75:[1,70],77:[2,95],79:[1,136],82:[1,28],85:[2,95],87:[1,58],88:[1,59],89:[1,57],90:[2,95],92:[2,95],100:[1,56],101:[2,95],103:[2,95],104:[2,95],105:[2,95],109:[2,95],117:[2,95],125:[2,95],127:[2,95],128:[2,95],131:[2,95],132:[2,95],133:[2,95],134:[2,95],135:[2,95],136:[2,95]},{8:138,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,47],6:[2,47],8:139,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,26:[2,47],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],101:[2,47],102:39,103:[2,47],105:[2,47],106:40,107:[1,67],108:41,109:[2,47],110:69,118:[1,42],123:37,124:[1,64],125:[2,47],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,48],6:[2,48],25:[2,48],26:[2,48],54:[2,48],77:[2,48],101:[2,48],103:[2,48],105:[2,48],109:[2,48],125:[2,48]},{1:[2,73],6:[2,73],25:[2,73],26:[2,73],40:[2,73],49:[2,73],54:[2,73],57:[2,73],66:[2,73],67:[2,73],68:[2,73],70:[2,73],72:[2,73],73:[2,73],77:[2,73],83:[2,73],84:[2,73],85:[2,73],90:[2,73],92:[2,73],101:[2,73],103:[2,73],104:[2,73],105:[2,73],109:[2,73],117:[2,73],125:[2,73],127:[2,73],128:[2,73],131:[2,73],132:[2,73],133:[2,73],134:[2,73],135:[2,73],136:[2,73]},{1:[2,74],6:[2,74],25:[2,74],26:[2,74],40:[2,74],49:[2,74],54:[2,74],57:[2,74],66:[2,74],67:[2,74],68:[2,74],70:[2,74],72:[2,74],73:[2,74],77:[2,74],83:[2,74],84:[2,74],85:[2,74],90:[2,74],92:[2,74],101:[2,74],103:[2,74],104:[2,74],105:[2,74],109:[2,74],117:[2,74],125:[2,74],127:[2,74],128:[2,74],131:[2,74],132:[2,74],133:[2,74],134:[2,74],135:[2,74],136:[2,74]},{1:[2,29],6:[2,29],25:[2,29],26:[2,29],49:[2,29],54:[2,29],57:[2,29],66:[2,29],67:[2,29],68:[2,29],70:[2,29],72:[2,29],73:[2,29],77:[2,29],83:[2,29],84:[2,29],85:[2,29],90:[2,29],92:[2,29],101:[2,29],103:[2,29],104:[2,29],105:[2,29],109:[2,29],117:[2,29],125:[2,29],127:[2,29],128:[2,29],131:[2,29],132:[2,29],133:[2,29],134:[2,29],135:[2,29],136:[2,29]},{1:[2,30],6:[2,30],25:[2,30],26:[2,30],49:[2,30],54:[2,30],57:[2,30],66:[2,30],67:[2,30],68:[2,30],70:[2,30],72:[2,30],73:[2,30],77:[2,30],83:[2,30],84:[2,30],85:[2,30],90:[2,30],92:[2,30],101:[2,30],103:[2,30],104:[2,30],105:[2,30],109:[2,30],117:[2,30],125:[2,30],127:[2,30],128:[2,30],131:[2,30],132:[2,30],133:[2,30],134:[2,30],135:[2,30],136:[2,30]},{1:[2,31],6:[2,31],25:[2,31],26:[2,31],49:[2,31],54:[2,31],57:[2,31],66:[2,31],67:[2,31],68:[2,31],70:[2,31],72:[2,31],73:[2,31],77:[2,31],83:[2,31],84:[2,31],85:[2,31],90:[2,31],92:[2,31],101:[2,31],103:[2,31],104:[2,31],105:[2,31],109:[2,31],117:[2,31],125:[2,31],127:[2,31],128:[2,31],131:[2,31],132:[2,31],133:[2,31],134:[2,31],135:[2,31],136:[2,31]},{1:[2,32],6:[2,32],25:[2,32],26:[2,32],49:[2,32],54:[2,32],57:[2,32],66:[2,32],67:[2,32],68:[2,32],70:[2,32],72:[2,32],73:[2,32],77:[2,32],83:[2,32],84:[2,32],85:[2,32],90:[2,32],92:[2,32],101:[2,32],103:[2,32],104:[2,32],105:[2,32],109:[2,32],117:[2,32],125:[2,32],127:[2,32],128:[2,32],131:[2,32],132:[2,32],133:[2,32],134:[2,32],135:[2,32],136:[2,32]},{1:[2,33],6:[2,33],25:[2,33],26:[2,33],49:[2,33],54:[2,33],57:[2,33],66:[2,33],67:[2,33],68:[2,33],70:[2,33],72:[2,33],73:[2,33],77:[2,33],83:[2,33],84:[2,33],85:[2,33],90:[2,33],92:[2,33],101:[2,33],103:[2,33],104:[2,33],105:[2,33],109:[2,33],117:[2,33],125:[2,33],127:[2,33],128:[2,33],131:[2,33],132:[2,33],133:[2,33],134:[2,33],135:[2,33],136:[2,33]},{1:[2,34],6:[2,34],25:[2,34],26:[2,34],49:[2,34],54:[2,34],57:[2,34],66:[2,34],67:[2,34],68:[2,34],70:[2,34],72:[2,34],73:[2,34],77:[2,34],83:[2,34],84:[2,34],85:[2,34],90:[2,34],92:[2,34],101:[2,34],103:[2,34],104:[2,34],105:[2,34],109:[2,34],117:[2,34],125:[2,34],127:[2,34],128:[2,34],131:[2,34],132:[2,34],133:[2,34],134:[2,34],135:[2,34],136:[2,34]},{1:[2,35],6:[2,35],25:[2,35],26:[2,35],49:[2,35],54:[2,35],57:[2,35],66:[2,35],67:[2,35],68:[2,35],70:[2,35],72:[2,35],73:[2,35],77:[2,35],83:[2,35],84:[2,35],85:[2,35],90:[2,35],92:[2,35],101:[2,35],103:[2,35],104:[2,35],105:[2,35],109:[2,35],117:[2,35],125:[2,35],127:[2,35],128:[2,35],131:[2,35],132:[2,35],133:[2,35],134:[2,35],135:[2,35],136:[2,35]},{4:140,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,141],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:142,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,146],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:147,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],86:144,87:[1,58],88:[1,59],89:[1,57],90:[1,143],93:145,95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,111],6:[2,111],25:[2,111],26:[2,111],49:[2,111],54:[2,111],57:[2,111],66:[2,111],67:[2,111],68:[2,111],70:[2,111],72:[2,111],73:[2,111],77:[2,111],83:[2,111],84:[2,111],85:[2,111],90:[2,111],92:[2,111],101:[2,111],103:[2,111],104:[2,111],105:[2,111],109:[2,111],117:[2,111],125:[2,111],127:[2,111],128:[2,111],131:[2,111],132:[2,111],133:[2,111],134:[2,111],135:[2,111],136:[2,111]},{1:[2,112],6:[2,112],25:[2,112],26:[2,112],27:148,28:[1,73],49:[2,112],54:[2,112],57:[2,112],66:[2,112],67:[2,112],68:[2,112],70:[2,112],72:[2,112],73:[2,112],77:[2,112],83:[2,112],84:[2,112],85:[2,112],90:[2,112],92:[2,112],101:[2,112],103:[2,112],104:[2,112],105:[2,112],109:[2,112],117:[2,112],125:[2,112],127:[2,112],128:[2,112],131:[2,112],132:[2,112],133:[2,112],134:[2,112],135:[2,112],136:[2,112]},{25:[2,51]},{25:[2,52]},{1:[2,68],6:[2,68],25:[2,68],26:[2,68],40:[2,68],49:[2,68],54:[2,68],57:[2,68],66:[2,68],67:[2,68],68:[2,68],70:[2,68],72:[2,68],73:[2,68],77:[2,68],79:[2,68],83:[2,68],84:[2,68],85:[2,68],90:[2,68],92:[2,68],101:[2,68],103:[2,68],104:[2,68],105:[2,68],109:[2,68],117:[2,68],125:[2,68],127:[2,68],128:[2,68],129:[2,68],130:[2,68],131:[2,68],132:[2,68],133:[2,68],134:[2,68],135:[2,68],136:[2,68],137:[2,68]},{1:[2,71],6:[2,71],25:[2,71],26:[2,71],40:[2,71],49:[2,71],54:[2,71],57:[2,71],66:[2,71],67:[2,71],68:[2,71],70:[2,71],72:[2,71],73:[2,71],77:[2,71],79:[2,71],83:[2,71],84:[2,71],85:[2,71],90:[2,71],92:[2,71],101:[2,71],103:[2,71],104:[2,71],105:[2,71],109:[2,71],117:[2,71],125:[2,71],127:[2,71],128:[2,71],129:[2,71],130:[2,71],131:[2,71],132:[2,71],133:[2,71],134:[2,71],135:[2,71],136:[2,71],137:[2,71]},{8:149,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:150,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:151,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{5:152,8:153,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,5],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1
,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{27:158,28:[1,73],44:159,58:160,59:161,64:154,75:[1,70],88:[1,113],89:[1,57],112:155,113:[1,156],114:157},{111:162,115:[1,163],116:[1,164]},{6:[2,90],11:168,25:[2,90],27:169,28:[1,73],29:170,30:[1,71],31:[1,72],41:166,42:167,44:171,46:[1,46],54:[2,90],76:165,77:[2,90],88:[1,113]},{1:[2,27],6:[2,27],25:[2,27],26:[2,27],43:[2,27],49:[2,27],54:[2,27],57:[2,27],66:[2,27],67:[2,27],68:[2,27],70:[2,27],72:[2,27],73:[2,27],77:[2,27],83:[2,27],84:[2,27],85:[2,27],90:[2,27],92:[2,27],101:[2,27],103:[2,27],104:[2,27],105:[2,27],109:[2,27],117:[2,27],125:[2,27],127:[2,27],128:[2,27],131:[2,27],132:[2,27],133:[2,27],134:[2,27],135:[2,27],136:[2,27]},{1:[2,28],6:[2,28],25:[2,28],26:[2,28],43:[2,28],49:[2,28],54:[2,28],57:[2,28],66:[2,28],67:[2,28],68:[2,28],70:[2,28],72:[2,28],73:[2,28],77:[2,28],83:[2,28],84:[2,28],85:[2,28],90:[2,28],92:[2,28],101:[2,28],103:[2,28],104:[2,28],105:[2,28],109:[2,28],117:[2,28],125:[2,28],127:[2,28],128:[2,28],131:[2,28],132:[2,28],133:[2,28],134:[2,28],135:[2,28],136:[2,28]},{1:[2,26],6:[2,26],25:[2,26],26:[2,26],40:[2,26],43:[2,26],49:[2,26],54:[2,26],57:[2,26],66:[2,26],67:[2,26],68:[2,26],70:[2,26],72:[2,26],73:[2,26],77:[2,26],79:[2,26],83:[2,26],84:[2,26],85:[2,26],90:[2,26],92:[2,26],101:[2,26],103:[2,26],104:[2,26],105:[2,26],109:[2,26],115:[2,26],116:[2,26],117:[2,26],125:[2,26],127:[2,26],128:[2,26],129:[2,26],130:[2,26],131:[2,26],132:[2,26],133:[2,26],134:[2,26],135:[2,26],136:[2,26],137:[2,26]},{1:[2,6],6:[2,6],7:172,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,26:[2,6],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],101:[2,6],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,3]},{1:[2,24],6:[2,24],25:[2,24],26:[2,24],49:[2,24],54:[2,24],57:[2,24],72:[2,24],77:[2,24],85:[2,24],90:[2,24],92:[2,24],97:[2,24],98:[2,24],101:[2,24],103:[2,24],104:[2,24],105:[2,24],109:[2,24],117:[2,24],120:[2,24],122:[2,24],125:[2,24],127:[2,24],128:[2,24],131:[2,24],132:[2,24],133:[2,24],134:[2,24],135:[2,24],136:[2,24]},{6:[1,74],26:[1,173]},{1:[2,191],6:[2,191],25:[2,191],26:[2,191],49:[2,191],54:[2,191],57:[2,191],72:[2,191],77:[2,191],85:[2,191],90:[2,191],92:[2,191],101:[2,191],103:[2,191],104:[2,191],105:[2,191],109:[2,191],117:[2,191],125:[2,191],127:[2,191],128:[2,191],131:[2,191],132:[2,191],133:[2,191],134:[2,191],135:[2,191],136:[2,191]},{8:174,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:175,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:176,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:177,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:178,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:179,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:180,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:181,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,146],6:[2,146],25:[2,146],26:[2,146],49:[2,146],54:[2,146],57:[2,146],72:[2,146],77:[2,146],85:[2,146],90:[2,146],92:[2,146],101:[2,146],103:[2,146],104:[2,146],105:[2,146],109:[2,146],117:[2,146],125:[2,146],127:[2,146],128:[2,146],131:[2,146],132:[2,146],133:[2,146],134:[2,146],135:[2,146],136:[2,146]},{1:[2,151],6:[2,151],25:[2,151],26:[2,151],49:[2,151],54:[2,151],57:[2,151],72:[2,151],77:[2,151],85:[2,151],90:[2,151],92:[2,151],101:[2,151],103:[2,151],104:[2,151],105:[2,151],109:[2,151],117:[2,151],125:[2,151],127:[2,151],128:[2,151],131:[2,151],132:[2,151],133:[2,151],134:[2,151],135:[2,151],136:[2,151]},{8:182,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,145],6:[2,145],25:[2,145],26:[2,145],49:[2,145],54:[2,145],57:[2,145],72:[2,145],77:[2,145],85:[2,145],90:[2,145],92:[2,145],101:[2,145],103:[2,145],104:[2,145],105:[2,145],109:[2,145],117:[2,145],125:[2,145],127:[2,145],128:[2,145],131:[2,145],132:[2,145],133:[2,145],134:[2,145],135:[2,145],136:[2,145]},{1:[2,150],6:[2,150],25:[2,150],26:[2,150],49:[2,150],54:[2,150],57:[2,150],72:[2,150],77:[2,150],85:[2,150],90:[2,150],92:[2,150],101:[2,150],103:[2,150],104:[2,150],105:[2,150],109:[2,150],117:[2,150],125:[2,150],127:[2,150],128:[2,150],131:[2,150],132:[2,150],133:[2,150],134:[2,150],135:[2,150],136:[2,150]},{81:183,84:[1,105]},{1:[2,69],6:[2,69],25:[2,69],26:[2,69],40:[2,69],49:[2,69],54:[2,69],57:[2,69],66:[2,69],67:[2,69],68:[2,69],70:[2,69],72:[2,69],73:[2,69],77:[2,69],79:[2,69],83:[2,69],84:[2,69],85:[2,69],90:[2,69],92:[2,69],101:[2,69],103:[2,69],104:[2,69],105:[2,69],109:[2,69],117:[2,69],125:[2,69],127:[2,69],128:[2,69],129:[2,69],130:[2,69],131:[2,69],132:[2,69],133:[2,69],134:[2,69],135:[2,69],136:[2,69],137:[2,69]},{84:[2,108]},{27:184,28:[1,73]},{27:185,28:[1,73]},{1:[2,83],6:[2,83],25:[2,83],26:[2,83],27:186,28:[1,73],40:[2,83],49:[2,83],54:[2,83],57:[2,83],66:[2,83],67:[2,83],68:[2,83],70:[2,83],72:[2,83],73:[2,83],77:[2,83],79:[2,83],83:[2,83],84:[2,83],85:[2,83],90:[2,83],92:[2,83],101:[2,83],103:[2,83],104:[2,83],105:[2,83],109:[2,83],117:[2,83],125:[2,83],127:[2,83],128:[2,83],129:[2,83],130:[2,83],131:[2,83],132:[2,83],133:[2,83],134:[2,83],135:[2,83],136:[2,83],137:[2,83]},{1:[2,84],6:[2,84],25:[2,84],26:[2,84],40:[2,84],49:[2,84],54:[2,84],57:[2,84],66:[2,84],67:[2,84],68:[2,84],70:[2,84],72:[2,84],73:[2,84],77:[2,84],79:[2,84],83:[2,84],84:[2,84],85:[2,84],90:[2,84],92:[2,84],101:[2,84],103:[2,84],104:[2,84],105:[2,84],109:[2,84],117:[2,84],125:[2,84],127:[2,84],128:[2,84],129:[2,84],130:[2,84],131:[2,84],132:[2,84],133:[2,84],134:[2,84],135:[2,84],136:[2,84],137:[2,84]},{8:188,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],57:[1,192],58:47,59:48,61:36,63:25,64:26,65:27,71:187,74:189,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],91:190,92:[1,191],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{69:193,70:[1,99],73:[1,100]},{81:194,84:[1,105]},{1:[2,70],6:[2,70],25:[2,70],26:[2,70],40:[2,70],49:[2,70],54:[2,70],57:[2,70],66:[2,70],67:[2,70],68:[2,70],70:[2,70],72:[2,70],73:[2,70],77:[2,70],79:[2,70],83:[2,70],84:[2,70],85:[2,70],90:[2,70],92:[2,70],101:[2,70],103:[2,70],104:[2,70],105:[2,70],109:[2,70],117:[2,70],125:[2,70],127:[2,70],128:[2,70],129:[2,70],130:[2,70],131:[2,70],132:[2,70],133:[2,70],134:[2,70],135:[2,70],136:[2,70],137:[2,70]},{6:[1,196],8:195,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,197],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,106],6:[2,106],25:[2,106],26:[2,106],49:[2,106],54:[2,106],57:[2,106],66:[2,106],67:[2,106],68:[2,106],70:[2,106],72:[2,106],73:[2,106],77:[2,106],83:[2,106],84:[2,106],85:[2,106],90:[2,106],92:[2,106],101:[2,106],103:[2,106],104:[2,106],105:[2,106],109:[2,106],117:[2,106],125:[2,106],127:[2,106],128:[2,106],131:[2,106],132:[2,106],133:[2,106],134:[2,106],135:[2,106],136:[2,106]},{8:200,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,146],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:147,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],85:[1,198],86:199,87:[1,58],88:[1,59],89:[1,57],93:145,95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{6:[2,53],25:[2,53],49:[1,201],53:203,54:[1,202]},{6:[2,56],25:[2,56],26:[2,56],49:[2,56],54:[2,56]},{6:[2,60],25:[2,60],26:[2,60],40:[1,205],49:[2,60],54:[2,60],57:[1,204]},{6:[2,63],25:[2,63],26:[2,63],40:[2,63],49:[2,63],54:[2,63],57:[2,63]},{6:[2,64],25:[2,64],26:[2,64],40:[2,64],49:[2,64],54:[2,64],57:[2,64]},{6:[2,65],25:[2,65],26:[2,65],40:[2,65],49:[2,65],54:[2,65],57:[2,65]},{6:[2,66],25:[2,66],26:[2,66],40:[2,66],49:[2,66],54:[2,66],57:[2,66]},{27:148,28:[1,73]},{8:200,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,146],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:147,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],86:144,87:[1,58],88:[1,59],89:[1,57],90:[1,143],93:145,95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,50],6:[2,50],25:[2,50],26:[2,50],49:[2,50],54:[2,50],57:[2,50],72:[2,50],77:[2,50],85:[2,50],90:[2,50],92:[2,50],101:[2,50],103:[2,50],104:[2,50],105:[2,50],109:[2,50],117:[2,50],125:[2,50],127:[2,50],128:[2,50],131:[2,50],132:[2,50],133:[2,50],134:[2,50],135:[2,50],136:[2,50]},{1:[2,184],6:[2,184],25:[2,184],26:[2,184],49:[2,184],54:[2,184],57:[2,184],72:[2,184],77:[2,184],85:[2,184],90:[2,184],92:[2,184],101:[2,184],102:87,103:[2,184],104:[2,184],105:[2,184],108:88,109:[2,184],110:69,117:[2,184],125:[2,184],127:[2,184],128:[2,184],131:[1,78],132:[2,184],133:[2,184],134:[2,184],135:[2,184],136:[2,184]},{102:90,103:[1,65],105:[1,66],108:91,109:[1,68],110:69,125:[1,89]},{1:[2,185],6:[2,185],25:[2,185],26:[2,185],49:[2,185],54:[2,185],57:[2,185],72:[2,185],77:[2,185],85:[2,185],90:[2,185],92:[2,185],101:[2,185],102:87,103:[2,185],104:[2,185],105:[2,185],108:88,109:[2,185],110:69,117:[2,185],125:[2,185],127:[2,185],128:[2,185],131:[1,78],132:[2,185],133:[2,185],134:[2,185],135:[2,185],136:[2,185]},{1:[2,186],6:[2,186],25:[2,186],26:[2,186],49:[2,186],54:[2,186],57:[2,186],72:[2,186],77:[2,186],85:[2,186],90:[2,186],92:[2,186],101:[2,186],102:87,103:[2,186],104:[2,186],105:[2,186],108:88,109:[2,186],110:69,117:[2,186],125:[2,186],127:[2,186],128:[2,186],131:[1,78],132:[2,186],133:[2,186],134:[2,186],135:[2,186],136:[2,186]},{1:[2,187],6:[2,187],25:[2,187],26:[2,187],49:[2,187],54:[2,187],57:[2,187],66:[2,72],67:[2,72],68:[2,72],70:[2,72],72:[2,187],73:[2,72],77:[2,187],83:[2,72],84:[2,72],85:[2,187],90:[2,187],92:[2,187],101:[2,187],103:[2,187],104:[2,187],105:[2,187],109:[2,187],117:[2,187],125:[2,187],127:[2,187],128:[2,187],131:[2,187],132:[2,187],133:[2,187],134:[2,187],135:[2,187],136:[2,187]},{62:93,66:[1,95],67:[1,96],68:[1,97],69:98,70:[1,99],73:[1,100],80:92,83:[1,94],84:[2,107]},{62:102,66:[1,95],67:[1,96],68:[1,97],69:98,70:[1,99],73:[1,100],80:101,83:[1,94],84:[2,107]},{66:[2,75],67:[2,75],68:[2,75],70:[2,75],73:[2,75],83:[2,75],84:[2,75]},{1:[2,188],6:[2,188],25:[2,188],26:[2,188],49:[2,188],54:[2,188],57:[2,188],66:[2,72],67:[2,72],68:[2,72],70:[2,72],72:[2,188],73:[2,72],77:[2,188],83:[2,72],84:[2,72],85:[2,188],90:[2,188],92:[2,188],101:[2,188],103:[2,188],104:[2,188],105:[2,188],109:[2,188],117:[2,188],125:[2,188],127:[2,188],128:[2,188],131:[2,188],132:[2,188],133:[2,188],134:[2,188],135:[2,188],136:[2,188]},{1:[2,189],6:[2,189],25:[2,189],26:[2,189],49:[2,189],54:[2,189],57:[2,189],72:[2,189],77:[2,189],85:[2,189],90:[2,189],92:[2,189],101:[2,189],103:[2,189],104:[2,189],105:[2,189],109:[2,189],117:[2,189],125:[2,189],127:[2,189],128:[2,189],131:[2,189],132:[2,189],133:[2,189],134:[2,189],135:[2,189],136:[2,189]},{1:[2,190],6:[2,190],25:[2,190],26:[2,190],49:[2,190],54:[2,190],57:[2,190],72:[2,190],77:[2,190],85:[2,190],90:[2,190],92:[2,190],101:[2,190],103:[2,190],104:[2,190],105:[2,190],109:[2,190],117:[2,190],125:[2,190],127:[2,190],128:[2,190],131:[2,190],132:[2,190],133:[2,190],134:[2,190],135:[2,190],136:[2,190]},{8:206,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,207],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:208,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{5:209,25:[1,5],124:[1,210]},{1:[2,132],6:[2,132],25:[2,132],26:[2,132],49:[2,132],54:[2,132],57:[2,132],72:[2,132],77:[2,132],85:[2,132],90:[2,132],92:[2,132],96:211,97:[1,212],98:[1,213],101:[2,132],103:[2,132],104:[2,132],105:[2,132],109:[2,132],117:[2,132],125:[2,132],127:[2,132],128:[2,132],131:[2,132],132:[2,132],133:[2,132],134:[2,132],135:[2,132],136:[2,132]},{1:[2,144],6:[2,144],25:[2,144],26:[2,144],49:[2,144],54:[2,144],57:[2,144],72:[2,144],77:[2,144],85:[2,144],90:[2,144],92:[2,144],101:[2,144],103:[2,144],104:[2,144],105:[2,144],109:[2,144],117:[2,144],125:[2,144],127:[2,144],128:[2,144],131:[2,144],132:[2,144],133:[2,144],134:[2,144],135:[2,144],136:[2,144]},{1:[2,152],6:[2,152],25:[2,152],26:[2,152],49:[2,152],54:[2,152],57:[2,152],72:[2,152],77:[2,152],85:[2,152],90:[2,152],92:[2,152],101:[2,152],103:[2,152],104:[2,152],105:[2,152],109:[2,152],117:[2,152],125:[2,152],127:[2,152],128:[2,152],131:[2,152],132:[2,152],133:[2,152],134:[2,152],135:[2,152],136:[2,152]},{25:[1,214],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{119:215,121:216,122:[1,217]},{1:[2,96],6:[2,96],25:[2,96],26:[2,96],49:[2,96],54:[2,96],57:[2,96],72:[2,96],77:[2,96],85:[2,96],90:[2,96],92:[2,96],101:[2,96],103:[2,96],104:[2,96],105:[2,96],109:[2,96],117:[2,96],125:[2,96],127:[2,96],128:[2,96],131:[2,96],132:[2,96],133:[2,96],134:[2,96],135:[2,96],136:[2,96]},{8:218,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,99],5:219,6:[2,99],25:[1,5],26:[2,99],49:[2,99],54:[2,99],57:[2,99],66:[2,72],67:[2,72],68:[2,72],70:[2,72],72:[2,99],73:[2,72],77:[2,99],79:[1,220],83:[2,72],84:[2,72],85:[2,99],90:[2,99],92:[2,99],101:[2,99],103:[2,99],104:[2,99],105:[2,99],109:[2,99],117:[2,99],125:[2,99],127:[2,99],128:[2,99],131:[2,99],132:[2,99],133:[2,99],134:[2,99],135:[2,99],136:[2,99]},{1:[2,137],6:[2,137],25:[2,137],26:[2,137],49:[2,137],54:[2,137],57:[2,137],72:[2,137],77:[2,137],85:[2,137],90:[2,137],92:[2,137],101:[2,137],102:87,103:[2,137],104:[2,137],105:[2,137],108:88,109:[2,137],110:69,117:[2,137],125:[2,137],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,46],6:[2,46],26:[2,46],101:[2,46],102:87,103:[2,46],105:[2,46],108:88,109:[2,46],110:69,125:[2,46],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{6:[1,74],101:[1,221]},{4:222,7:4,8:6,9:7,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{6:[2,128],25:[2,128],54:[2,128],57:[1,224],90:[2,128],91:223,92:[1,191],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,114],6:[2,114],25:[2,114],26:[2,114],40:[2,114],49:[2,114],54:[2,114],57:[2,114],66:[2,114],67:[2,114],68:[2,114],70:[2,114],72:[2,114],73:[2,114],77:[2,114],83:[2,114],84:[2,114],85:[2,114],90:[2,114],92:[2,114],101:[2,114],103:[2,114],104:[2,114],105:[2,114],109:[2,114],115:[2,114],116:[2,114],117:[2,114],125:[2,114],127:[2,114],128:[2,114],131:[2,114],132:[2,114],133:[2,114],134:[2,114],135:[2,114],136:[2,114]},{6:[2,53],25:[2,53],53:225,54:[1,226],90:[2,53]},{6:[2,123],25:[2,123],26:[2,123],54:[2,123],85:[2,123],90:[2,123]},{8:200,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,146],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:147,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],86:227,87:[1,58],88:[1,59],89:[1,57],93:145,95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{6:[2,129],25:[2,129],26:[2,129],54:[2,129],85:[2,129],90:[2,129]},{1:[2,113],6:[2,113],25:[2,113],26:[2,113],40:[2,113],43:[2,113],49:[2,113],54:[2,113],57:[2,113],66:[2,113],67:[2,113],68:[2,113],70:[2,113],72:[2,113],73:[2,113],77:[2,113],79:[2,113],83:[2,113],84:[2,113],85:[2,113],90:[2,113],92:[2,113],101:[2,113],103:[2,113],104:[2,113],105:[2,113],109:[2,113],115:[2,113],116:[2,113],117:[2,113],125:[2,113],127:[2,113],128:[2,113],129:[2,113],130:[2,113],131:[2,113],132:[2,113],133:[2,113],134:[2,113],135:[2,113],136:[2,113],137:[2,113]},{5:228,25:[1,5],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,140],6:[2,140],25:[2,140],26:[2,140],49:[2,140],54:[2,140],57:[2,140],72:[2,140],77:[2,140],85:[2,140],90:[2,140],92:[2,140],101:[2,140],102:87,103:[1,65],104:[1,229],105:[1,66],108:88,109:[1,68],110:69,117:[2,140],125:[2,140],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,142],6:[2,142],25:[2,142],26:[2,142],49:[2,142],54:[2,142],57:[2,142],72:[2,142],77:[2,142],85:[2,142],90:[2,142],92:[2,142],101:[2,142],102:87,103:[1,65],104:[1,230],105:[1,66],108:88,109:[1,68],110:69,117:[2,142],125:[2,142],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,148],6:[2,148],25:[2,148],26:[2,148],49:[2,148],54:[2,148],57:[2,148],72:[2,148],77:[2,148],85:[2,148],90:[2,148],92:[2,148],101:[2,148],103:[2,148],104:[2,148],105:[2,148],109:[2,148],117:[2,148],125:[2,148],127:[2,148],128:[2,148],131:[2,148],132:[2,148],133:[2,148],134:[2,148],135:[2,148],136:[2,148]},{1:[2,149],6:[2,149],25:[2,149],26:[2,149],49:[2,149],54:[2,149],57:[2,149],72:[2,149],77:[2,149],85:[2,149],90:[2,149],92:[2,149],101:[2,149],102:87,103:[1,65],104:[2,149],105:[1,66],108:88,109:[1,68],110:69,117:[2,149],125:[2,149],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,153],6:[2,153],25:[2,153],26:[2,153],49:[2,153],54:[2,153],57:[2,153],72:[2,153],77:[2,153],85:[2,153],90:[2,153],92:[2,153],101:[2,153],103:[2,153],104:[2,153],105:[2,153],109:[2,153],117:[2,153],125:[2,153],127:[2,153],128:[2,153],131:[2,153],132:[2,153],133:[2,153],134:[2,153],135:[2,153],136:[2,153]},{115:[2,155],116:[2,155]},{27:158,28:[1,73],44:159,58:160,59:161,75:[1,70],88:[1,113],89:[1,114],112:231,114:157},{54:[1,232],115:[2,161],116:[2,161]},{54:[2,157],115:[2,157],116:[2,157]},{54:[2,158],115:[2,158],116:[2,158]},{54:[2,159],115:[2,159],116:[2,159]},{54:[2,160],115:[2,160],116:[2,160]},{1:[2,154],6:[2,154],25:[2,154],26:[2,154],49:[2,154],54:[2,154],57:[2,154],72:[2,154],77:[2,154],85:[2,154],90:[2,154],92:[2,154],101:[2,154],103:[2,154],104:[2,154],105:[2,154],109:[2,154],117:[2,154],125:[2,154],127:[2,154],128:[2,154],131:[2,154],132:[2,154],133:[2,154],134:[2,154],135:[2,154],136:[2,154]},{8:233,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:234,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{6:[2,53],25:[2,53],53:235,54:[1,236],77:[2,53]},{6:[2,91],25:[2,91],26:[2,91],54:[2,91],77:[2,91]},{6:[2,39],25:[2,39],26:[2,39],43:[1,237],54:[2,39],77:[2,39]},{6:[2,42],25:[2,42],26:[2,42],54:[2,42],77:[2,42]},{6:[2,43],25:[2,43],26:[2,43],43:[2,43],54:[2,43],77:[2,43]},{6:[2,44],25:[2,44],26:[2,44],43:[2,44],54:[2,44],77:[2,44]},{6:[2,45],25:[2,45],26:[2,45],43:[2,45],54:[2,45],77:[2,45]},{1:[2,5],6:[2,5],26:[2,5],101:[2,5]},{1:[2,25],6:[2,25],25:[2,25],26:[2,25],49:[2,25],54:[2,25],57:[2,25],72:[2,25],77:[2,25],85:[2,25],90:[2,25],92:[2,25],97:[2,25],98:[2,25],101:[2,25],103:[2,25],104:[2,25],105:[2,25],109:[2,25],117:[2,25],120:[2,25],122:[2,25],125:[2,25],127:[2,25],128:[2,25],131:[2,25],132:[2,25],133:[2,25],134:[2,25],135:[2,25],136:[2,25]},{1:[2,192],6:[2,192],25:[2,192],26:[2,192],49:[2,192],54:[2,192],57:[2,192],72:[2,192],77:[2,192],85:[2,192],90:[2,192],92:[2,192],101:[2,192],102:87,103:[2,192],104:[2,192],105:[2,192],108:88,109:[2,192],110:69,117:[2,192],125:[2,192],127:[2,192],128:[2,192],131:[1,78],132:[1,81],133:[2,192],134:[2,192],135:[2,192],136:[2,192]},{1:[2,193],6:[2,193],25:[2,193],26:[2,193],49:[2,193],54:[2,193],57:[2,193],72:[2,193],77:[2,193],85:[2,193],90:[2,193],92:[2,193],101:[2,193],102:87,103:[2,193],104:[2,193],105:[2,193],108:88,109:[2,193],110:69,117:[2,193],125:[2,193],127:[2,193],128:[2,193],131:[1,78],132:[1,81],133:[2,193],134:[2,193],135:[2,193],136:[2,193]},{1:[2,194],6:[2,194],25:[2,194],26:[2,194],49:[2,194],54:[2,194],57:[2,194],72:[2,194],77:[2,194],85:[2,194],90:[2,194],92:[2,194],101:[2,194],102:87,103:[2,194],104:[2,194],105:[2,194],108:88,109:[2,194],110:69,117:[2,194],125:[2,194],127:[2,194],128:[2,194],131:[1,78],132:[2,194],133:[2,194],134:[2,194],135:[2,194],136:[2,194]},{1:[2,195],6:[2,195],25:[2,195],26:[2,195],49:[2,195],54:[2,195],57:[2,195],72:[2,195],77:[2,195],85:[2,195],90:[2,195],92:[2,195],101:[2,195],102:87,103:[2,195],104:[2,195],105:[2,195],108:88,109:[2,195],110:69,117:[2,195],125:[2,195],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[2,195],134:[2,195],135:[2,195],136:[2,195]},{1:[2,196],6:[2,196],25:[2,196],26:[2,196],49:[2,196],54:[2,196],57:[2,196],72:[2,196],77:[2,196],85:[2,196],90:[2,196],92:[2,196],101:[2,196],102:87,103:[2,196],104:[2,196],105:[2,196],108:88,109:[2,196],110:69,117:[2,196],125:[2,196],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[2,196],135:[2,196],136:[1,85]},{1:[2,197],6:[2,197],25:[2,197],26:[2,197],49:[2,197],54:[2,197],57:[2,197],72:[2,197],77:[2,197],85:[2,197],90:[2,197],92:[2,197],101:[2,197],102:87,103:[2,197],104:[2,197],105:[2,197],108:88,109:[2,197],110:69,117:[2,197],125:[2,197],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[2,197],136:[1,85]},{1:[2,198],6:[2,198],25:[2,198],26:[2,198],49:[2,198],54:[2,198],57:[2,198],72:[2,198],77:[2,198],85:[2,198],90:[2,198],92:[2,198],101:[2,198],102:87,103:[2,198],104:[2,198],105:[2,198],108:88,109:[2,198],110:69,117:[2,198],125:[2,198],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[2,198],135:[2,198],136:[2,198]},{1:[2,183],6:[2,183],25:[2,183],26:[2,183],49:[2,183],54:[2,183],57:[2,183],72:[2,183],77:[2,183],85:[2,183],90:[2,183],92:[2,183],101:[2,183],102:87,103:[1,65],104:[2,183],105:[1,66],108:88,109:[1,68],110:69,117:[2,183],125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,182],6:[2,182],25:[2,182],26:[2,182],49:[2,182],54:[2,182],57:[2,182],72:[2,182],77:[2,182],85:[2,182],90:[2,182],92:[2,182],101:[2,182],102:87,103:[1,65],104:[2,182],105:[1,66],108:88,109:[1,68],110:69,117:[2,182],125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,103],6:[2,103],25:[2,103],26:[2,103],49:[2,103],54:[2,103],57:[2,103],66:[2,103],67:[2,103],68:[2,103],70:[2,103],72:[2,103],73:[2,103],77:[2,103],83:[2,103],84:[2,103],85:[2,103],90:[2,103],92:[2,103],101:[2,103],103:[2,103],104:[2,103],105:[2,103],109:[2,103],117:[2,103],125:[2,103],127:[2,103],128:[2,103],131:[2,103],132:[2,103],133:[2,103],134:[2,103],135:[2,103],136:[2,103]},{1:[2,80],6:[2,80],25:[2,80],26:[2,80],40:[2,80],49:[2,80],54:[2,80],57:[2,80],66:[2,80],67:[2,80],68:[2,80],70:[2,80],72:[2,80],73:[2,80],77:[2,80],79:[2,80],83:[2,80],84:[2,80],85:[2,80],90:[2,80],92:[2,80],101:[2,80],103:[2,80],104:[2,80],105:[2,80],109:[2,80],117:[2,80],125:[2,80],127:[2,80],128:[2,80],129:[2,80],130:[2,80],131:[2,80],132:[2,80],133:[2,80],134:[2,80],135:[2,80],136:[2,80],137:[2,80]},{1:[2,81],6:[2,81],25:[2,81],26:[2,81],40:[2,81],49:[2,81],54:[2,81],57:[2,81],66:[2,81],67:[2,81],68:[2,81],70:[2,81],72:[2,81],73:[2,81],77:[2,81],79:[2,81],83:[2,81],84:[2,81],85:[2,81],90:[2,81],92:[2,81],101:[2,81],103:[2,81],104:[2,81],105:[2,81],109:[2,81],117:[2,81],125:[2,81],127:[2,81],128:[2,81],129:[2,81],130:[2,81],131:[2,81],132:[2,81],133:[2,81],134:[2,81],135:[2,81],136:[2,81],137:[2,81]},{1:[2,82],6:[2,82],25:[2,82],26:[2,82],40:[2,82],49:[2,82],54:[2,82],57:[2,82],66:[2,82],67:[2,82],68:[2,82],70:[2,82],72:[2,82],73:[2,82],77:[2,82],79:[2,82],83:[2,82],84:[2,82],85:[2,82],90:[2,82],92:[2,82],101:[2,82],103:[2,82],104:[2,82],105:[2,82],109:[2,82],117:[2,82],125:[2,82],127:[2,82],128:[2,82],129:[2,82],130:[2,82],131:[2,82],132:[2,82],133:[2,82],134:
[2,82],135:[2,82],136:[2,82],137:[2,82]},{72:[1,238]},{57:[1,192],72:[2,87],91:239,92:[1,191],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{72:[2,88]},{8:240,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,72:[2,122],75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{12:[2,116],28:[2,116],30:[2,116],31:[2,116],33:[2,116],34:[2,116],35:[2,116],36:[2,116],37:[2,116],38:[2,116],45:[2,116],46:[2,116],47:[2,116],51:[2,116],52:[2,116],72:[2,116],75:[2,116],78:[2,116],82:[2,116],87:[2,116],88:[2,116],89:[2,116],95:[2,116],99:[2,116],100:[2,116],103:[2,116],105:[2,116],107:[2,116],109:[2,116],118:[2,116],124:[2,116],126:[2,116],127:[2,116],128:[2,116],129:[2,116],130:[2,116]},{12:[2,117],28:[2,117],30:[2,117],31:[2,117],33:[2,117],34:[2,117],35:[2,117],36:[2,117],37:[2,117],38:[2,117],45:[2,117],46:[2,117],47:[2,117],51:[2,117],52:[2,117],72:[2,117],75:[2,117],78:[2,117],82:[2,117],87:[2,117],88:[2,117],89:[2,117],95:[2,117],99:[2,117],100:[2,117],103:[2,117],105:[2,117],107:[2,117],109:[2,117],118:[2,117],124:[2,117],126:[2,117],127:[2,117],128:[2,117],129:[2,117],130:[2,117]},{1:[2,86],6:[2,86],25:[2,86],26:[2,86],40:[2,86],49:[2,86],54:[2,86],57:[2,86],66:[2,86],67:[2,86],68:[2,86],70:[2,86],72:[2,86],73:[2,86],77:[2,86],79:[2,86],83:[2,86],84:[2,86],85:[2,86],90:[2,86],92:[2,86],101:[2,86],103:[2,86],104:[2,86],105:[2,86],109:[2,86],117:[2,86],125:[2,86],127:[2,86],128:[2,86],129:[2,86],130:[2,86],131:[2,86],132:[2,86],133:[2,86],134:[2,86],135:[2,86],136:[2,86],137:[2,86]},{1:[2,104],6:[2,104],25:[2,104],26:[2,104],49:[2,104],54:[2,104],57:[2,104],66:[2,104],67:[2,104],68:[2,104],70:[2,104],72:[2,104],73:[2,104],77:[2,104],83:[2,104],84:[2,104],85:[2,104],90:[2,104],92:[2,104],101:[2,104],103:[2,104],104:[2,104],105:[2,104],109:[2,104],117:[2,104],125:[2,104],127:[2,104],128:[2,104],131:[2,104],132:[2,104],133:[2,104],134:[2,104],135:[2,104],136:[2,104]},{1:[2,36],6:[2,36],25:[2,36],26:[2,36],49:[2,36],54:[2,36],57:[2,36],72:[2,36],77:[2,36],85:[2,36],90:[2,36],92:[2,36],101:[2,36],102:87,103:[2,36],104:[2,36],105:[2,36],108:88,109:[2,36],110:69,117:[2,36],125:[2,36],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{8:241,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:242,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,109],6:[2,109],25:[2,109],26:[2,109],49:[2,109],54:[2,109],57:[2,109],66:[2,109],67:[2,109],68:[2,109],70:[2,109],72:[2,109],73:[2,109],77:[2,109],83:[2,109],84:[2,109],85:[2,109],90:[2,109],92:[2,109],101:[2,109],103:[2,109],104:[2,109],105:[2,109],109:[2,109],117:[2,109],125:[2,109],127:[2,109],128:[2,109],131:[2,109],132:[2,109],133:[2,109],134:[2,109],135:[2,109],136:[2,109]},{6:[2,53],25:[2,53],53:243,54:[1,226],85:[2,53]},{6:[2,128],25:[2,128],26:[2,128],54:[2,128],57:[1,244],85:[2,128],90:[2,128],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{50:245,51:[1,60],52:[1,61]},{6:[2,54],25:[2,54],26:[2,54],27:109,28:[1,73],44:110,55:246,56:108,58:111,59:112,75:[1,70],88:[1,113],89:[1,114]},{6:[1,247],25:[1,248]},{6:[2,61],25:[2,61],26:[2,61],49:[2,61],54:[2,61]},{8:249,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,199],6:[2,199],25:[2,199],26:[2,199],49:[2,199],54:[2,199],57:[2,199],72:[2,199],77:[2,199],85:[2,199],90:[2,199],92:[2,199],101:[2,199],102:87,103:[2,199],104:[2,199],105:[2,199],108:88,109:[2,199],110:69,117:[2,199],125:[2,199],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{8:250,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,201],6:[2,201],25:[2,201],26:[2,201],49:[2,201],54:[2,201],57:[2,201],72:[2,201],77:[2,201],85:[2,201],90:[2,201],92:[2,201],101:[2,201],102:87,103:[2,201],104:[2,201],105:[2,201],108:88,109:[2,201],110:69,117:[2,201],125:[2,201],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,181],6:[2,181],25:[2,181],26:[2,181],49:[2,181],54:[2,181],57:[2,181],72:[2,181],77:[2,181],85:[2,181],90:[2,181],92:[2,181],101:[2,181],103:[2,181],104:[2,181],105:[2,181],109:[2,181],117:[2,181],125:[2,181],127:[2,181],128:[2,181],131:[2,181],132:[2,181],133:[2,181],134:[2,181],135:[2,181],136:[2,181]},{8:251,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,133],6:[2,133],25:[2,133],26:[2,133],49:[2,133],54:[2,133],57:[2,133],72:[2,133],77:[2,133],85:[2,133],90:[2,133],92:[2,133],97:[1,252],101:[2,133],103:[2,133],104:[2,133],105:[2,133],109:[2,133],117:[2,133],125:[2,133],127:[2,133],128:[2,133],131:[2,133],132:[2,133],133:[2,133],134:[2,133],135:[2,133],136:[2,133]},{5:253,25:[1,5]},{27:254,28:[1,73]},{119:255,121:216,122:[1,217]},{26:[1,256],120:[1,257],121:258,122:[1,217]},{26:[2,174],120:[2,174],122:[2,174]},{8:260,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],94:259,95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,97],5:261,6:[2,97],25:[1,5],26:[2,97],49:[2,97],54:[2,97],57:[2,97],72:[2,97],77:[2,97],85:[2,97],90:[2,97],92:[2,97],101:[2,97],102:87,103:[1,65],104:[2,97],105:[1,66],108:88,109:[1,68],110:69,117:[2,97],125:[2,97],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,100],6:[2,100],25:[2,100],26:[2,100],49:[2,100],54:[2,100],57:[2,100],72:[2,100],77:[2,100],85:[2,100],90:[2,100],92:[2,100],101:[2,100],103:[2,100],104:[2,100],105:[2,100],109:[2,100],117:[2,100],125:[2,100],127:[2,100],128:[2,100],131:[2,100],132:[2,100],133:[2,100],134:[2,100],135:[2,100],136:[2,100]},{8:262,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,138],6:[2,138],25:[2,138],26:[2,138],49:[2,138],54:[2,138],57:[2,138],66:[2,138],67:[2,138],68:[2,138],70:[2,138],72:[2,138],73:[2,138],77:[2,138],83:[2,138],84:[2,138],85:[2,138],90:[2,138],92:[2,138],101:[2,138],103:[2,138],104:[2,138],105:[2,138],109:[2,138],117:[2,138],125:[2,138],127:[2,138],128:[2,138],131:[2,138],132:[2,138],133:[2,138],134:[2,138],135:[2,138],136:[2,138]},{6:[1,74],26:[1,263]},{8:264,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{6:[2,67],12:[2,117],25:[2,67],28:[2,117],30:[2,117],31:[2,117],33:[2,117],34:[2,117],35:[2,117],36:[2,117],37:[2,117],38:[2,117],45:[2,117],46:[2,117],47:[2,117],51:[2,117],52:[2,117],54:[2,67],75:[2,117],78:[2,117],82:[2,117],87:[2,117],88:[2,117],89:[2,117],90:[2,67],95:[2,117],99:[2,117],100:[2,117],103:[2,117],105:[2,117],107:[2,117],109:[2,117],118:[2,117],124:[2,117],126:[2,117],127:[2,117],128:[2,117],129:[2,117],130:[2,117]},{6:[1,266],25:[1,267],90:[1,265]},{6:[2,54],8:200,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[2,54],26:[2,54],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:147,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],85:[2,54],87:[1,58],88:[1,59],89:[1,57],90:[2,54],93:268,95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{6:[2,53],25:[2,53],26:[2,53],53:269,54:[1,226]},{1:[2,178],6:[2,178],25:[2,178],26:[2,178],49:[2,178],54:[2,178],57:[2,178],72:[2,178],77:[2,178],85:[2,178],90:[2,178],92:[2,178],101:[2,178],103:[2,178],104:[2,178],105:[2,178],109:[2,178],117:[2,178],120:[2,178],125:[2,178],127:[2,178],128:[2,178],131:[2,178],132:[2,178],133:[2,178],134:[2,178],135:[2,178],136:[2,178]},{8:270,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:271,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{115:[2,156],116:[2,156]},{27:158,28:[1,73],44:159,58:160,59:161,75:[1,70],88:[1,113],89:[1,114],114:272},{1:[2,163],6:[2,163],25:[2,163],26:[2,163],49:[2,163],54:[2,163],57:[2,163],72:[2,163],77:[2,163],85:[2,163],90:[2,163],92:[2,163],101:[2,163],102:87,103:[2,163],104:[1,273],105:[2,163],108:88,109:[2,163],110:69,117:[1,274],125:[2,163],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,164],6:[2,164],25:[2,164],26:[2,164],49:[2,164],54:[2,164],57:[2,164],72:[2,164],77:[2,164],85:[2,164],90:[2,164],92:[2,164],101:[2,164],102:87,103:[2,164],104:[1,275],105:[2,164],108:88,109:[2,164],110:69,117:[2,164],125:[2,164],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{6:[1,277],25:[1,278],77:[1,276]},{6:[2,54],11:168,25:[2,54],26:[2,54],27:169,28:[1,73],29:170,30:[1,71],31:[1,72],41:279,42:167,44:171,46:[1,46],77:[2,54],88:[1,113]},{8:280,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,281],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,85],6:[2,85],25:[2,85],26:[2,85],40:[2,85],49:[2,85],54:[2,85],57:[2,85],66:[2,85],67:[2,85],68:[2,85],70:[2,85],72:[2,85],73:[2,85],77:[2,85],79:[2,85],83:[2,85],84:[2,85],85:[2,85],90:[2,85],92:[2,85],101:[2,85],103:[2,85],104:[2,85],105:[2,85],109:[2,85],117:[2,85],125:[2,85],127:[2,85],128:[2,85],129:[2,85],130:[2,85],131:[2,85],132:[2,85],133:[2,85],134:[2,85],135:[2,85],136:[2,85],137:[2,85]},{8:282,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,72:[2,120],75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{72:[2,121],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,37],6:[2,37],25:[2,37],26:[2,37],49:[2,37],54:[2,37],57:[2,37],72:[2,37],77:[2,37],85:[2,37],90:[2,37],92:[2,37],101:[2,37],102:87,103:[2,37],104:[2,37],105:[2,37],108:88,109:[2,37],110:69,117:[2,37],125:[2,37],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{26:[1,283],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{6:[1,266],25:[1,267],85:[1,284]},{6:[2,67],25:[2,67],26:[2,67],54:[2,67],85:[2,67],90:[2,67]},{5:285,25:[1,5]},{6:[2,57],25:[2,57],26:[2,57],49:[2,57],54:[2,57]},{27:109,28:[1,73],44:110,55:286,56:108,58:111,59:112,75:[1,70],88:[1,113],89:[1,114]},{6:[2,55],25:[2,55],26:[2,55],27:109,28:[1,73],44:110,48:287,54:[2,55],55:107,56:108,58:111,59:112,75:[1,70],88:[1,113],89:[1,114]},{6:[2,62],25:[2,62],26:[2,62],49:[2,62],54:[2,62],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{26:[1,288],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{5:289,25:[1,5],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{5:290,25:[1,5]},{1:[2,134],6:[2,134],25:[2,134],26:[2,134],49:[2,134],54:[2,134],57:[2,134],72:[2,134],77:[2,134],85:[2,134],90:[2,134],92:[2,134],101:[2,134],103:[2,134],104:[2,134],105:[2,134],109:[2,134],117:[2,134],125:[2,134],127:[2,134],128:[2,134],131:[2,134],132:[2,134],133:[2,134],134:[2,134],135:[2,134],136:[2,134]},{5:291,25:[1,5]},{26:[1,292],120:[1,293],121:258,122:[1,217]},{1:[2,172],6:[2,172],25:[2,172],26:[2,172],49:[2,172],54:[2,172],57:[2,172],72:[2,172],77:[2,172],85:[2,172],90:[2,172],92:[2,172],101:[2,172],103:[2,172],104:[2,172],105:[2,172],109:[2,172],117:[2,172],125:[2,172],127:[2,172],128:[2,172],131:[2,172],132:[2,172],133:[2,172],134:[2,172],135:[2,172],136:[2,172]},{5:294,25:[1,5]},{26:[2,175],120:[2,175],122:[2,175]},{5:295,25:[1,5],54:[1,296]},{25:[2,130],54:[2,130],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,98],6:[2,98],25:[2,98],26:[2,98],49:[2,98],54:[2,98],57:[2,98],72:[2,98],77:[2,98],85:[2,98],90:[2,98],92:[2,98],101:[2,98],103:[2,98],104:[2,98],105:[2,98],109:[2,98],117:[2,98],125:[2,98],127:[2,98],128:[2,98],131:[2,98],132:[2,98],133:[2,98],134:[2,98],135:[2,98],136:[2,98]},{1:[2,101],5:297,6:[2,101],25:[1,5],26:[2,101],49:[2,101],54:[2,101],57:[2,101],72:[2,101],77:[2,101],85:[2,101],90:[2,101],92:[2,101],101:[2,101],102:87,103:[1,65],104:[2,101],105:[1,66],108:88,109:[1,68],110:69,117:[2,101],125:[2,101],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{101:[1,298]},{90:[1,299],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,115],6:[2,115],25:[2,115],26:[2,115],40:[2,115],49:[2,115],54:[2,115],57:[2,115],66:[2,115],67:[2,115],68:[2,115],70:[2,115],72:[2,115],73:[2,115],77:[2,115],83:[2,115],84:[2,115],85:[2,115],90:[2,115],92:[2,115],101:[2,115],103:[2,115],104:[2,115],105:[2,115],109:[2,115],115:[2,115],116:[2,115],117:[2,115],125:[2,115],127:[2,115],128:[2,115],131:[2,115],132:[2,115],133:[2,115],134:[2,115],135:[2,115],136:[2,115]},{8:200,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:147,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],93:300,95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:200,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,25:[1,146],27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,60:147,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],86:301,87:[1,58],88:[1,59],89:[1,57],93:145,95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{6:[2,124],25:[2,124],26:[2,124],54:[2,124],85:[2,124],90:[2,124]},{6:[1,266],25:[1,267],26:[1,302]},{1:[2,141],6:[2,141],25:[2,141],26:[2,141],49:[2,141],54:[2,141],57:[2,141],72:[2,141],77:[2,141],85:[2,141],90:[2,141],92:[2,141],101:[2,141],102:87,103:[1,65],104:[2,141],105:[1,66],108:88,109:[1,68],110:69,117:[2,141],125:[2,141],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,143],6:[2,143],25:[2,143],26:[2,143],49:[2,143],54:[2,143],57:[2,143],72:[2,143],77:[2,143],85:[2,143],90:[2,143],92:[2,143],101:[2,143],102:87,103:[1,65],104:[2,143],105:[1,66],108:88,109:[1,68],110:69,117:[2,143],125:[2,143],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{115:[2,162],116:[2,162]},{8:303,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:304,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:305,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,89],6:[2,89],25:[2,89],26:[2,89],40:[2,89],49:[2,89],54:[2,89],57:[2,89],66:[2,89],67:[2,89],68:[2,89],70:[2,89],72:[2,89],73:[2,89],77:[2,89],83:[2,89],84:[2,89],85:[2,89],90:[2,89],92:[2,89],101:[2,89],103:[2,89],104:[2,89],105:[2,89],109:[2,89],115:[2,89],116:[2,89],117:[2,89],125:[2,89],127:[2,89],128:[2,89],131:[2,89],132:[2,89],133:[2,89],134:[2,89],135:[2,89],136:[2,89]},{11:168,27:169,28:[1,73],29:170,30:[1,71],31:[1,72],41:306,42:167,44:171,46:[1,46],88:[1,113]},{6:[2,90],11:168,25:[2,90],26:[2,90],27:169,28:[1,73],29:170,30:[1,71],31:[1,72],41:166,42:167,44:171,46:[1,46],54:[2,90],76:307,88:[1,113]},{6:[2,92],25:[2,92],26:[2,92],54:[2,92],77:[2,92]},{6:[2,40],25:[2,40],26:[2,40],54:[2,40],77:[2,40],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{8:308,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{72:[2,119],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,38],6:[2,38],25:[2,38],26:[2,38],49:[2,38],54:[2,38],57:[2,38],72:[2,38],77:[2,38],85:[2,38],90:[2,38],92:[2,38],101:[2,38],103:[2,38],104:[2,38],105:[2,38],109:[2,38],117:[2,38],125:[2,38],127:[2,38],128:[2,38],131:[2,38],132:[2,38],133:[2,38],134:[2,38],135:[2,38],136:[2,38]},{1:[2,110],6:[2,110],25:[2,110],26:[2,110],49:[2,110],54:[2,110],57:[2,110],66:[2,110],67:[2,110],68:[2,110],70:[2,110],72:[2,110],73:[2,110],77:[2,110],83:[2,110],84:[2,110],85:[2,110],90:[2,110],92:[2,110],101:[2,110],103:[2,110],104:[2,110],105:[2,110],109:[2,110],117:[2,110],125:[2,110],127:[2,110],128:[2,110],131:[2,110],132:[2,110],133:[2,110],134:[2,110],135:[2,110],136:[2,110]},{1:[2,49],6:[2,49],25:[2,49],26:[2,49],49:[2,49],54:[2,49],57:[2,49],72:[2,49],77:[2,49],85:[2,49],90:[2,49],92:[2,49],101:[2,49],103:[2,49],104:[2,49],105:[2,49],109:[2,49],117:[2,49],125:[2,49],127:[2,49],128:[2,49],131:[2,49],132:[2,49],133:[2,49],134:[2,49],135:[2,49],136:[2,49]},{6:[2,58],25:[2,58],26:[2,58],49:[2,58],54:[2,58]},{6:[2,53],25:[2,53],26:[2,53],53:309,54:[1,202]},{1:[2,200],6:[2,200],25:[2,200],26:[2,200],49:[2,200],54:[2,200],57:[2,200],72:[2,200],77:[2,200],85:[2,200],90:[2,200],92:[2,200],101:[2,200],103:[2,200],104:[2,200],105:[2,200],109:[2,200],117:[2,200],125:[2,200],127:[2,200],128:[2,200],131:[2,200],132:[2,200],133:[2,200],134:[2,200],135:[2,200],136:[2,200]},{1:[2,179],6:[2,179],25:[2,179],26:[2,179],49:[2,179],54:[2,179],57:[2,179],72:[2,179],77:[2,179],85:[2,179],90:[2,179],92:[2,179],101:[2,179],103:[2,179],104:[2,179],105:[2,179],109:[2,179],117:[2,179],120:[2,179],125:[2,179],127:[2,179],128:[2,179],131:[2,179],132:[2,179],133:[2,179],134:[2,179],135:[2,179],136:[2,179]},{1:[2,135],6:[2,135],25:[2,135],26:[2,135],49:[2,135],54:[2,135],57:[2,135],72:[2,135],77:[2,135],85:[2,135],90:[2,135],92:[2,135],101:[2,135],103:[2,135],104:[2,135],105:[2,135],109:[2,135],117:[2,135],125:[2,135],127:[2,135],128:[2,135],131:[2,135],132:[2,135],133:[2,135],134:[2,135],135:[2,135],136:[2,135]},{1:[2,136],6:[2,136],25:[2,136],26:[2,136],49:[2,136],54:[2,136],57:[2,136],72:[2,136],77:[2,136],85:[2,136],90:[2,136],92:[2,136],97:[2,136],101:[2,136],103:[2,136],104:[2,136],105:[2,136],109:[2,136],117:[2,136],125:[2,136],127:[2,136],128:[2,136],131:[2,136],132:[2,136],133:[2,136],134:[2,136],135:[2,136],136:[2,136]},{1:[2,170],6:[2,170],25:[2,170],26:[2,170],49:[2,170],54:[2,170],57:[2,170],72:[2,170],77:[2,170],85:[2,170],90:[2,170],92:[2,170],101:[2,170],103:[2,170],104:[2,170],105:[2,170],109:[2,170],117:[2,170],125:[2,170],127:[2,170],128:[2,170],131:[2,170],132:[2,170],133:[2,170],134:[2,170],135:[2,170],136:[2,170]},{5:310,25:[1,5]},{26:[1,311]},{6:[1,312],26:[2,176],120:[2,176],122:[2,176]},{8:313,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{1:[2,102],6:[2,102],25:[2,102],26:[2,102],49:[2,102],54:[2,102],57:[2,102],72:[2,102],77:[2,102],85:[2,102],90:[2,102],92:[2,102],101:[2,102],103:[2,102],104:[2,102],105:[2,102],109:[2,102],117:[2,102],125:[2,102],127:[2,102],128:[2,102],131:[2,102],132:[2,102],133:[2,102],134:[2,102],135:[2,102],136:[2,102]},{1:[2,139],6:[2,139],25:[2,139],26:[2,139],49:[2,139],54:[2,139],57:[2,139],66:[2,139],67:[2,139],68:[2,139],70:[2,139],72:[2,139],73:[2,139],77:[2,139],83:[2,139],84:[2,139],85:[2,139],90:[2,139],92:[2,139],101:[2,139],103:[2,139],104:[2,139],105:[2,139],109:[2,139],117:[2,139],125:[2,139],127:[2,139],128:[2,139],131:[2,139],132:[2,139],133:[2,139],134:[2,139],135:[2,139],136:[2,139]},{1:[2,118],6:[2,118],25:[2,118],26:[2,118],49:[2,118],54:[2,118],57:[2,118],66:[2,118],67:[2,118],68:[2,118],70:[2,118],72:[2,118],73:[2,118],77:[2,118],83:[2,118],84:[2,118],85:[2,118],90:[2,118],92:[2,118],101:[2,118],103:[2,118],104:[2,118],105:[2,118],109:[2,118],117:[2,118],125:[2,118],127:[2,118],128:[2,118],131:[2,118],132:[2,118],133:[2,118],134:[2,118],135:[2,118],136:[2,118]},{6:[2,125],25:[2,125],26:[2,125],54:[2,125],85:[2,125],90:[2,125]},{6:[2,53],25:[2,53],26:[2,53],53:314,54:[1,226]},{6:[2,126],25:[2,126],26:[2,126],54:[2,126],85:[2,126],90:[2,126]},{1:[2,165],6:[2,165],25:[2,165],26:[2,165],49:[2,165],54:[2,165],57:[2,165],72:[2,165],77:[2,165],85:[2,165],90:[2,165],92:[2,165],101:[2,165],102:87,103:[2,165],104:[2,165],105:[2,165],108:88,109:[2,165],110:69,117:[1,315],125:[2,165],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,167],6:[2,167],25:[2,167],26:[2,167],49:[2,167],54:[2,167],57:[2,167],72:[2,167],77:[2,167],85:[2,167],90:[2,167],92:[2,167],101:[2,167],102:87,103:[2,167],104:[1,316],105:[2,167],108:88,109:[2,167],110:69,117:[2,167],125:[2,167],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,166],6:[2,166],25:[2,166],26:[2,166],49:[2,166],54:[2,166],57:[2,166],72:[2,166],77:[2,166],85:[2,166],90:[2,166],92:[2,166],101:[2,166],102:87,103:[2,166],104:[2,166],105:[2,166],108:88,109:[2,166],110:69,117:[2,166],125:[2,166],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{6:[2,93],25:[2,93],26:[2,93],54:[2,93],77:[2,93]},{6:[2,53],25:[2,53],26:[2,53],53:317,54:[1,236]},{26:[1,318],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{6:[1,247],25:[1,248],26:[1,319]},{26:[1,320]},{1:[2,173],6:[2,173],25:[2,173],26:[2,173],49:[2,173],54:[2,173],57:[2,173],72:[2,173],77:[2,173],85:[2,173],90:[2,173],92:[2,173],101:[2,173],103:[2,173],104:[2,173],105:[2,173],109:[2,173],117:[2,173],125:[2,173],127:[2,173],128:[2,173],131:[2,173],132:[2,173],133:[2,173],134:[2,173],135:[2,173],136:[2,173]},{26:[2,177],120:[2,177],122:[2,177]},{25:[2,131],54:[2,131],102:87,103:[1,65],105:[1,66],108:88,109:[1,68],110:69,125:[1,86],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{6:[1,266],25:[1,267],26:[1,321]},{8:322,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{8:323,9:117,10:20,11:21,12:[1,22],13:8,14:9,15:10,16:11,17:12,18:13,19:14,20:15,21:16,22:17,23:18,24:19,27:62,28:[1,73],29:49,30:[1,71],31:[1,72],32:24,33:[1,50],34:[1,51],35:[1,52],36:[1,53],37:[1,54],38:[1,55],39:23,44:63,45:[1,45],46:[1,46],47:[1,29],50:30,51:[1,60],52:[1,61],58:47,59:48,61:36,63:25,64:26,65:27,75:[1,70],78:[1,43],82:[1,28],87:[1,58],88:[1,59],89:[1,57],95:[1,38],99:[1,44],100:[1,56],102:39,103:[1,65],105:[1,66],106:40,107:[1,67],108:41,109:[1,68],110:69,118:[1,42],123:37,124:[1,64],126:[1,31],127:[1,32],128:[1,33],129:[1,34],130:[1,35]},{6:[1,277],25:[1,278],26:[1,324]},{6:[2,41],25:[2,41],26:[2,41],54:[2,41],77:[2,41]},{6:[2,59],25:[2,59],26:[2,59],49:[2,59],54:[2,59]},{1:[2,171],6:[2,171],25:[2,171],26:[2,171],49:[2,171],54:[2,171],57:[2,171],72:[2,171],77:[2,171],85:[2,171],90:[2,171],92:[2,171],101:[2,171],103:[2,171],104:[2,171],105:[2,171],109:[2,171],117:[2,171],125:[2,171],127:[2,171],128:[2,171],131:[2,171],132:[2,171],133:[2,171],134:[2,171],135:[2,171],136:[2,171]},{6:[2,127],25:[2,127],26:[2,127],54:[2,127],85:[2,127],90:[2,127]},{1:[2
,168],6:[2,168],25:[2,168],26:[2,168],49:[2,168],54:[2,168],57:[2,168],72:[2,168],77:[2,168],85:[2,168],90:[2,168],92:[2,168],101:[2,168],102:87,103:[2,168],104:[2,168],105:[2,168],108:88,109:[2,168],110:69,117:[2,168],125:[2,168],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{1:[2,169],6:[2,169],25:[2,169],26:[2,169],49:[2,169],54:[2,169],57:[2,169],72:[2,169],77:[2,169],85:[2,169],90:[2,169],92:[2,169],101:[2,169],102:87,103:[2,169],104:[2,169],105:[2,169],108:88,109:[2,169],110:69,117:[2,169],125:[2,169],127:[1,80],128:[1,79],131:[1,78],132:[1,81],133:[1,82],134:[1,83],135:[1,84],136:[1,85]},{6:[2,94],25:[2,94],26:[2,94],54:[2,94],77:[2,94]}],defaultActions:{60:[2,51],61:[2,52],75:[2,3],94:[2,108],189:[2,88]},parseError:function(e,t){throw new Error(e)},parse:function(e){function t(){var e;return e=r.lexer.lex()||1,typeof e!="number"&&(e=r.symbols_[e]||e),e}function n(e){i.length=i.length-2*e,s.length=s.length-e,o.length=o.length-e}var r=this,i=[0],s=[null],o=[],u=this.table,a="",f=0,l=0,c=0,h=2,p=1;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,typeof this.lexer.yylloc=="undefined"&&(this.lexer.yylloc={});var d=this.lexer.yylloc;o.push(d),typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);var v,m,g,y,b,w,E={},S,x,T,N;for(;;){g=i[i.length-1],this.defaultActions[g]?y=this.defaultActions[g]:(v==null&&(v=t()),y=u[g]&&u[g][v]);if(typeof y=="undefined"||!y.length||!y[0]){if(!c){N=[];for(S in u[g])this.terminals_[S]&&S>2&&N.push("'"+this.terminals_[S]+"'");var C="";this.lexer.showPosition?C="Parse error on line "+(f+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+N.join(", ")+", got '"+this.terminals_[v]+"'":C="Parse error on line "+(f+1)+": Unexpected "+(v==1?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(C,{text:this.lexer.match,token:this.terminals_[v]||v,line:this.lexer.yylineno,loc:d,expected:N})}if(c==3){if(v==p)throw new Error(C||"Parsing halted.");l=this.lexer.yyleng,a=this.lexer.yytext,f=this.lexer.yylineno,d=this.lexer.yylloc,v=t()}for(;;){if(h.toString()in u[g])break;if(g==0)throw new Error(C||"Parsing halted.");n(1),g=i[i.length-1]}m=v,v=h,g=i[i.length-1],y=u[g]&&u[g][h],c=3}if(y[0]instanceof Array&&y.length>1)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+v);switch(y[0]){case 1:i.push(v),s.push(this.lexer.yytext),o.push(this.lexer.yylloc),i.push(y[1]),v=null,m?(v=m,m=null):(l=this.lexer.yyleng,a=this.lexer.yytext,f=this.lexer.yylineno,d=this.lexer.yylloc,c>0&&c--);break;case 2:x=this.productions_[y[1]][1],E.$=s[s.length-x],E._$={first_line:o[o.length-(x||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(x||1)].first_column,last_column:o[o.length-1].last_column},w=this.performAction.call(E,a,l,f,this.yy,y[1],s,o);if(typeof w!="undefined")return w;x&&(i=i.slice(0,-1*x*2),s=s.slice(0,-1*x),o=o.slice(0,-1*x)),i.push(this.productions_[y[1]][0]),s.push(E.$),o.push(E._$),T=u[i[i.length-2]][i[i.length-1]],i.push(T);break;case 3:return!0}}return!0}};return undefined,e}();typeof require!="undefined"&&typeof e!="undefined"&&(e.parser=t,e.parse=function(){return t.parse.apply(t,arguments)},e.main=function(t){if(!t[1])throw new Error("Usage: "+t[0]+" FILE");if(typeof process!="undefined")var n=require("fs").readFileSync(require("path").join(process.cwd(),t[1]),"utf8");else var r=require("file").path(require("file").cwd()),n=r.join(t[1]).read({charset:"utf-8"});return e.parser.parse(n)},typeof module!="undefined"&&require.main===module&&e.main(typeof process!="undefined"?process.argv.slice(1):require("system").args))},require["./scope"]=new function(){var e=this;(function(){var t,n,r,i;i=require("./helpers"),n=i.extend,r=i.last,e.Scope=t=function(){function e(t,n,r){this.parent=t,this.expressions=n,this.method=r,this.variables=[{name:"arguments",type:"arguments"}],this.positions={},this.parent||(e.root=this)}return e.root=null,e.prototype.add=function(e,t,n){return this.shared&&!n?this.parent.add(e,t,n):Object.prototype.hasOwnProperty.call(this.positions,e)?this.variables[this.positions[e]].type=t:this.positions[e]=this.variables.push({name:e,type:t})-1},e.prototype.namedMethod=function(){return this.method.name||!this.parent?this.method:this.parent.namedMethod()},e.prototype.find=function(e){return this.check(e)?!0:(this.add(e,"var"),!1)},e.prototype.parameter=function(e){if(!this.shared||!this.parent.check(e,!0))return this.add(e,"param")},e.prototype.check=function(e){var t;return!!(this.type(e)||((t=this.parent)!=null?t.check(e):void 0))},e.prototype.temporary=function(e,t){return e.length>1?"_"+e+(t>1?t-1:""):"_"+(t+parseInt(e,36)).toString(36).replace(/\d/g,"a")},e.prototype.type=function(e){var t,n,r,i;i=this.variables;for(n=0,r=i.length;n<r;n++){t=i[n];if(t.name===e)return t.type}return null},e.prototype.freeVariable=function(e,t){var n,r;t==null&&(t=!0),n=0;while(this.check(r=this.temporary(e,n)))n++;return t&&this.add(r,"var",!0),r},e.prototype.assign=function(e,t){return this.add(e,{value:t,assigned:!0},!0),this.hasAssignments=!0},e.prototype.hasDeclarations=function(){return!!this.declaredVariables().length},e.prototype.declaredVariables=function(){var e,t,n,r,i,s;e=[],t=[],s=this.variables;for(r=0,i=s.length;r<i;r++)n=s[r],n.type==="var"&&(n.name.charAt(0)==="_"?t:e).push(n.name);return e.sort().concat(t.sort())},e.prototype.assignedVariables=function(){var e,t,n,r,i;r=this.variables,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],e.type.assigned&&i.push(""+e.name+" = "+e.type.value);return i},e}()}).call(this)},require["./nodes"]=new function(){var e=this;(function(){var t,n,r,i,s,o,u,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct={}.hasOwnProperty,ht=function(e,t){function n(){this.constructor=e}for(var r in t)ct.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},pt=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};q=require("./scope").Scope,ft=require("./lexer"),H=ft.RESERVED,I=ft.STRICT_PROSCRIBED,lt=require("./helpers"),Y=lt.compact,nt=lt.flatten,tt=lt.extend,it=lt.merge,Z=lt.del,ot=lt.starts,et=lt.ends,rt=lt.last,e.extend=tt,G=function(){return!0},O=function(){return!1},X=function(){return this},A=function(){return this.negated=!this.negated,this},e.Base=i=function(){function e(){}return e.prototype.compile=function(e,t){var n;return e=tt({},e),t&&(e.level=t),n=this.unfoldSoak(e)||this,n.tab=e.indent,e.level===C||!n.isStatement(e)?n.compileNode(e):n.compileClosure(e)},e.prototype.compileClosure=function(e){if(this.jumps())throw SyntaxError("cannot use a pure statement in an expression.");return e.sharedScope=!0,f.wrap(this).compileNode(e)},e.prototype.cache=function(e,t,n){var i,s;return this.isComplex()?(i=new k(n||e.scope.freeVariable("ref")),s=new r(i,this),t?[s.compile(e,t),i.value]:[s,i]):(i=t?this.compile(e,t):this,[i,i])},e.prototype.compileLoopReference=function(e,t){var n,r;return n=r=this.compile(e,x),-Infinity<+n&&+n<Infinity||v.test(n)&&e.scope.check(n,!0)||(n=""+(r=e.scope.freeVariable(t))+" = "+n),[n,r]},e.prototype.makeReturn=function(e){var t;return t=this.unwrapAll(),e?new o(new k(""+e+".push"),[t]):new j(t)},e.prototype.contains=function(e){var t;return t=!1,this.traverseChildren(!1,function(n){if(e(n))return t=!0,!1}),t},e.prototype.containsType=function(e){return this instanceof e||this.contains(function(t){return t instanceof e})},e.prototype.lastNonComment=function(e){var t;t=e.length;while(t--)if(!(e[t]instanceof c))return e[t];return null},e.prototype.toString=function(e,t){var n;return e==null&&(e=""),t==null&&(t=this.constructor.name),n="\n"+e+t,this.soak&&(n+="?"),this.eachChild(function(t){return n+=t.toString(e+W)}),n},e.prototype.eachChild=function(e){var t,n,r,i,s,o,u,a;if(!this.children)return this;u=this.children;for(r=0,s=u.length;r<s;r++){t=u[r];if(this[t]){a=nt([this[t]]);for(i=0,o=a.length;i<o;i++){n=a[i];if(e(n)===!1)return this}}}return this},e.prototype.traverseChildren=function(e,t){return this.eachChild(function(n){return t(n)===!1?!1:n.traverseChildren(e,t)})},e.prototype.invert=function(){return new _("!",this)},e.prototype.unwrapAll=function(){var e;e=this;while(e!==(e=e.unwrap()))continue;return e},e.prototype.children=[],e.prototype.isStatement=O,e.prototype.jumps=O,e.prototype.isComplex=G,e.prototype.isChainable=O,e.prototype.isAssignable=O,e.prototype.unwrap=X,e.prototype.unfoldSoak=O,e.prototype.assigns=O,e}(),e.Block=s=function(e){function t(e){this.expressions=Y(nt(e||[]))}return ht(t,e),t.prototype.children=["expressions"],t.prototype.push=function(e){return this.expressions.push(e),this},t.prototype.pop=function(){return this.expressions.pop()},t.prototype.unshift=function(e){return this.expressions.unshift(e),this},t.prototype.unwrap=function(){return this.expressions.length===1?this.expressions[0]:this},t.prototype.isEmpty=function(){return!this.expressions.length},t.prototype.isStatement=function(e){var t,n,r,i;i=this.expressions;for(n=0,r=i.length;n<r;n++){t=i[n];if(t.isStatement(e))return!0}return!1},t.prototype.jumps=function(e){var t,n,r,i;i=this.expressions;for(n=0,r=i.length;n<r;n++){t=i[n];if(t.jumps(e))return t}},t.prototype.makeReturn=function(e){var t,n;n=this.expressions.length;while(n--){t=this.expressions[n];if(!(t instanceof c)){this.expressions[n]=t.makeReturn(e),t instanceof j&&!t.expression&&this.expressions.splice(n,1);break}}return this},t.prototype.compile=function(e,n){return e==null&&(e={}),e.scope?t.__super__.compile.call(this,e,n):this.compileRoot(e)},t.prototype.compileNode=function(e){var n,r,i,s,o,u,a;this.tab=e.indent,s=e.level===C,r=[],a=this.expressions;for(o=0,u=a.length;o<u;o++)i=a[o],i=i.unwrapAll(),i=i.unfoldSoak(e)||i,i instanceof t?r.push(i.compileNode(e)):s?(i.front=!0,n=i.compile(e),i.isStatement(e)||(n=""+this.tab+n+";",i instanceof k&&(n=""+n+"\n")),r.push(n)):r.push(i.compile(e,x));return s?this.spaced?"\n"+r.join("\n\n")+"\n":r.join("\n"):(n=r.join(", ")||"void 0",r.length>1&&e.level>=x?"("+n+")":n)},t.prototype.compileRoot=function(e){var t,n,r,i,s,o;return e.indent=e.bare?"":W,e.scope=new q(null,this,null),e.level=C,this.spaced=!0,i="",e.bare||(s=function(){var e,t,i,s;i=this.expressions,s=[];for(r=e=0,t=i.length;e<t;r=++e){n=i[r];if(!(n.unwrap()instanceof c))break;s.push(n)}return s}.call(this),o=this.expressions.slice(s.length),this.expressions=s,s.length&&(i=""+this.compileNode(it(e,{indent:""}))+"\n"),this.expressions=o),t=this.compileWithDeclarations(e),e.bare?t:""+i+"(function() {\n"+t+"\n}).call(this);\n"},t.prototype.compileWithDeclarations=function(e){var t,n,r,i,s,o,u,a,f,l,h,p,d,v;n=o="",p=this.expressions;for(s=l=0,h=p.length;l<h;s=++l){i=p[s],i=i.unwrap();if(!(i instanceof c||i instanceof k))break}e=it(e,{level:C}),s&&(u=this.expressions.splice(s,9e9),d=[this.spaced,!1],f=d[0],this.spaced=d[1],v=[this.compileNode(e),f],n=v[0],this.spaced=v[1],this.expressions=u),o=this.compileNode(e),a=e.scope;if(a.expressions===this){r=e.scope.hasDeclarations(),t=a.hasAssignments;if(r||t)s&&(n+="\n"),n+=""+this.tab+"var ",r&&(n+=a.declaredVariables().join(", ")),t&&(r&&(n+=",\n"+(this.tab+W)),n+=a.assignedVariables().join(",\n"+(this.tab+W))),n+=";\n"}return n+o},t.wrap=function(e){return e.length===1&&e[0]instanceof t?e[0]:new t(e)},t}(i),e.Literal=k=function(e){function t(e){this.value=e}return ht(t,e),t.prototype.makeReturn=function(){return this.isStatement()?this:t.__super__.makeReturn.apply(this,arguments)},t.prototype.isAssignable=function(){return v.test(this.value)},t.prototype.isStatement=function(){var e;return(e=this.value)==="break"||e==="continue"||e==="debugger"},t.prototype.isComplex=O,t.prototype.assigns=function(e){return e===this.value},t.prototype.jumps=function(e){if(this.value==="break"&&!((e!=null?e.loop:void 0)||(e!=null?e.block:void 0)))return this;if(this.value==="continue"&&(e!=null?!e.loop:!void 0))return this},t.prototype.compileNode=function(e){var t,n;return t=this.value==="this"?((n=e.scope.method)!=null?n.bound:void 0)?e.scope.method.context:this.value:this.value.reserved?'"'+this.value+'"':this.value,this.isStatement()?""+this.tab+t+";":t},t.prototype.toString=function(){return' "'+this.value+'"'},t}(i),e.Undefined=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ht(t,e),t.prototype.isAssignable=O,t.prototype.isComplex=O,t.prototype.compileNode=function(e){return e.level>=E?"(void 0)":"void 0"},t}(i),e.Null=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return ht(t,e),t.prototype.isAssignable=O,t.prototype.isComplex=O,t.prototype.compileNode=function(){return"null"},t}(i),e.Bool=function(e){function t(e){this.val=e}return ht(t,e),t.prototype.isAssignable=O,t.prototype.isComplex=O,t.prototype.compileNode=function(){return this.val},t}(i),e.Return=j=function(e){function t(e){e&&!e.unwrap().isUndefined&&(this.expression=e)}return ht(t,e),t.prototype.children=["expression"],t.prototype.isStatement=G,t.prototype.makeReturn=X,t.prototype.jumps=X,t.prototype.compile=function(e,n){var r,i;return r=(i=this.expression)!=null?i.makeReturn():void 0,!r||r instanceof t?t.__super__.compile.call(this,e,n):r.compile(e,n)},t.prototype.compileNode=function(e){return this.tab+("return"+[this.expression?" "+this.expression.compile(e,N):void 0]+";")},t}(i),e.Value=K=function(e){function t(e,n,r){return!n&&e instanceof t?e:(this.base=e,this.properties=n||[],r&&(this[r]=!0),this)}return ht(t,e),t.prototype.children=["base","properties"],t.prototype.add=function(e){return this.properties=this.properties.concat(e),this},t.prototype.hasProperties=function(){return!!this.properties.length},t.prototype.isArray=function(){return!this.properties.length&&this.base instanceof n},t.prototype.isComplex=function(){return this.hasProperties()||this.base.isComplex()},t.prototype.isAssignable=function(){return this.hasProperties()||this.base.isAssignable()},t.prototype.isSimpleNumber=function(){return this.base instanceof k&&F.test(this.base.value)},t.prototype.isString=function(){return this.base instanceof k&&g.test(this.base.value)},t.prototype.isAtomic=function(){var e,t,n,r;r=this.properties.concat(this.base);for(t=0,n=r.length;t<n;t++){e=r[t];if(e.soak||e instanceof o)return!1}return!0},t.prototype.isStatement=function(e){return!this.properties.length&&this.base.isStatement(e)},t.prototype.assigns=function(e){return!this.properties.length&&this.base.assigns(e)},t.prototype.jumps=function(e){return!this.properties.length&&this.base.jumps(e)},t.prototype.isObject=function(e){return this.properties.length?!1:this.base instanceof M&&(!e||this.base.generated)},t.prototype.isSplice=function(){return rt(this.properties)instanceof R},t.prototype.unwrap=function(){return this.properties.length?this:this.base},t.prototype.cacheReference=function(e){var n,i,s,o;return s=rt(this.properties),this.properties.length<2&&!this.base.isComplex()&&(s!=null?!s.isComplex():!void 0)?[this,this]:(n=new t(this.base,this.properties.slice(0,-1)),n.isComplex()&&(i=new k(e.scope.freeVariable("base")),n=new t(new P(new r(i,n)))),s?(s.isComplex()&&(o=new k(e.scope.freeVariable("name")),s=new w(new r(o,s.index)),o=new w(o)),[n.add(s),new t(i||n.base,[o||s])]):[n,i])},t.prototype.compileNode=function(e){var t,n,r,i,s;this.base.front=this.front,r=this.properties,t=this.base.compile(e,r.length?E:null),(this.base instanceof P||r.length)&&F.test(t)&&(t=""+t+".");for(i=0,s=r.length;i<s;i++)n=r[i],t+=n.compile(e);return t},t.prototype.unfoldSoak=function(e){var n,i=this;return this.unfoldedSoak!=null?this.unfoldedSoak:(n=function(){var n,s,o,u,f,l,c,p,d;if(o=i.base.unfoldSoak(e))return Array.prototype.push.apply(o.body.properties,i.properties),o;d=i.properties;for(s=c=0,p=d.length;c<p;s=++c){u=d[s];if(!u.soak)continue;return u.soak=!1,n=new t(i.base,i.properties.slice(0,s)),l=new t(i.base,i.properties.slice(s)),n.isComplex()&&(f=new k(e.scope.freeVariable("ref")),n=new P(new r(f,n)),l.base=f),new y(new h(n),l,{soak:!0})}return null}(),this.unfoldedSoak=n||!1)},t}(i),e.Comment=c=function(e){function t(e){this.comment=e}return ht(t,e),t.prototype.isStatement=G,t.prototype.makeReturn=X,t.prototype.compileNode=function(e,t){var n;return n="/*"+st(this.comment,this.tab)+("\n"+this.tab+"*/\n"),(t||e.level)===C&&(n=e.indent+n),n},t}(i),e.Call=o=function(e){function n(e,t,n){this.args=t!=null?t:[],this.soak=n,this.isNew=!1,this.isSuper=e==="super",this.variable=this.isSuper?null:e}return ht(n,e),n.prototype.children=["variable","args"],n.prototype.newInstance=function(){var e,t;return e=((t=this.variable)!=null?t.base:void 0)||this.variable,e instanceof n&&!e.isNew?e.newInstance():this.isNew=!0,this},n.prototype.superReference=function(e){var n,r,i;r=e.scope.namedMethod();if(!r)throw SyntaxError("cannot call super outside of a function.");i=r.name;if(i==null)throw SyntaxError("cannot call super on an anonymous function.");return r.klass?(n=[new t(new k("__super__"))],r["static"]&&n.push(new t(new k("constructor"))),n.push(new t(new k(i))),(new K(new k(r.klass),n)).compile(e)):""+i+".__super__.constructor"},n.prototype.superThis=function(e){var t;return t=e.scope.method,t&&!t.klass&&t.context||"this"},n.prototype.unfoldSoak=function(e){var t,r,i,s,o,u,a,f,l;if(this.soak){if(this.variable){if(r=ut(e,this,"variable"))return r;f=(new K(this.variable)).cacheReference(e),i=f[0],o=f[1]}else i=new k(this.superReference(e)),o=new K(i);return o=new n(o,this.args),o.isNew=this.isNew,i=new k("typeof "+i.compile(e)+' === "function"'),new y(i,new K(o),{soak:!0})}t=this,s=[];for(;;){if(t.variable instanceof n){s.push(t),t=t.variable;continue}if(!(t.variable instanceof K))break;s.push(t);if(!((t=t.variable.base)instanceof n))break}l=s.reverse();for(u=0,a=l.length;u<a;u++)t=l[u],r&&(t.variable instanceof n?t.variable=r:t.variable.base=r),r=ut(e,t,"variable");return r},n.prototype.filterImplicitObjects=function(e){var t,n,i,s,o,u,a,f,l,h;n=[];for(u=0,f=e.length;u<f;u++){t=e[u];if(!((typeof t.isObject=="function"?t.isObject():void 0)&&t.base.generated)){n.push(t);continue}i=null,h=t.base.properties;for(a=0,l=h.length;a<l;a++)s=h[a],s instanceof r||s instanceof c?(i||n.push(i=new M(o=[],!0)),o.push(s)):(n.push(s),i=null)}return n},n.prototype.compileNode=function(e){var t,n,r,i;return(i=this.variable)!=null&&(i.front=this.front),(r=U.compileSplattedArray(e,this.args,!0))?this.compileSplat(e,r):(n=this.filterImplicitObjects(this.args),n=function(){var r,i,s;s=[];for(r=0,i=n.length;r<i;r++)t=n[r],s.push(t.compile(e,x));return s}().join(", "),this.isSuper?this.superReference(e)+(".call("+this.superThis(e)+(n&&", "+n)+")"):(this.isNew?"new ":"")+this.variable.compile(e,E)+("("+n+")"))},n.prototype.compileSuper=function(e,t){return""+this.superReference(t)+".call("+this.superThis(t)+(e.length?", ":"")+e+")"},n.prototype.compileSplat=function(e,t){var n,r,i,s,o;return this.isSuper?""+this.superReference(e)+".apply("+this.superThis(e)+", "+t+")":this.isNew?(i=this.tab+W,"(function(func, args, ctor) {\n"+i+"ctor.prototype = func.prototype;\n"+i+"var child = new ctor, result = func.apply(child, args), t = typeof result;\n"+i+'return t == "object" || t == "function" ? result || child : child;\n'+this.tab+"})("+this.variable.compile(e,x)+", "+t+", function(){})"):(n=new K(this.variable),(s=n.properties.pop())&&n.isComplex()?(o=e.scope.freeVariable("ref"),r="("+o+" = "+n.compile(e,x)+")"+s.compile(e)):(r=n.compile(e,E),F.test(r)&&(r="("+r+")"),s?(o=r,r+=s.compile(e)):o="null"),""+r+".apply("+o+", "+t+")")},n}(i),e.Extends=p=function(e){function t(e,t){this.child=e,this.parent=t}return ht(t,e),t.prototype.children=["child","parent"],t.prototype.compile=function(e){return(new o(new K(new k(at("extends"))),[this.child,this.parent])).compile(e)},t}(i),e.Access=t=function(e){function t(e,t){this.name=e,this.name.asKey=!0,this.soak=t==="soak"}return ht(t,e),t.prototype.children=["name"],t.prototype.compile=function(e){var t;return t=this.name.compile(e),v.test(t)?"."+t:"["+t+"]"},t.prototype.isComplex=O,t}(i),e.Index=w=function(e){function t(e){this.index=e}return ht(t,e),t.prototype.children=["index"],t.prototype.compile=function(e){return"["+this.index.compile(e,N)+"]"},t.prototype.isComplex=function(){return this.index.isComplex()},t}(i),e.Range=B=function(e){function t(e,t,n){this.from=e,this.to=t,this.exclusive=n==="exclusive",this.equals=this.exclusive?"":"="}return ht(t,e),t.prototype.children=["from","to"],t.prototype.compileVariables=function(e){var t,n,r,i,s;e=it(e,{top:!0}),n=this.from.cache(e,x),this.fromC=n[0],this.fromVar=n[1],r=this.to.cache(e,x),this.toC=r[0],this.toVar=r[1];if(t=Z(e,"step"))i=t.cache(e,x),this.step=i[0],this.stepVar=i[1];s=[this.fromVar.match(F),this.toVar.match(F)],this.fromNum=s[0],this.toNum=s[1];if(this.stepVar)return this.stepNum=this.stepVar.match(F)},t.prototype.compileNode=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d;return this.fromVar||this.compileVariables(e),e.index?(u=this.fromNum&&this.toNum,s=Z(e,"index"),o=Z(e,"name"),f=o&&o!==s,h=""+s+" = "+this.fromC,this.toC!==this.toVar&&(h+=", "+this.toC),this.step!==this.stepVar&&(h+=", "+this.step),p=[""+s+" <"+this.equals,""+s+" >"+this.equals],a=p[0],i=p[1],n=this.stepNum?+this.stepNum>0?""+a+" "+this.toVar:""+i+" "+this.toVar:u?(d=[+this.fromNum,+this.toNum],r=d[0],c=d[1],d,r<=c?""+a+" "+c:""+i+" "+c):(t=""+this.fromVar+" <= "+this.toVar,""+t+" ? "+a+" "+this.toVar+" : "+i+" "+this.toVar),l=this.stepVar?""+s+" += "+this.stepVar:u?f?r<=c?"++"+s:"--"+s:r<=c?""+s+"++":""+s+"--":f?""+t+" ? ++"+s+" : --"+s:""+t+" ? "+s+"++ : "+s+"--",f&&(h=""+o+" = "+h),f&&(l=""+o+" = "+l),""+h+"; "+n+"; "+l):this.compileArray(e)},t.prototype.compileArray=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v;if(this.fromNum&&this.toNum&&Math.abs(this.fromNum-this.toNum)<=20)return f=function(){v=[];for(var e=p=+this.fromNum,t=+this.toNum;p<=t?e<=t:e>=t;p<=t?e++:e--)v.push(e);return v}.apply(this),this.exclusive&&f.pop(),"["+f.join(", ")+"]";o=this.tab+W,s=e.scope.freeVariable("i"),l=e.scope.freeVariable("results"),a="\n"+o+l+" = [];",this.fromNum&&this.toNum?(e.index=s,n=this.compileNode(e)):(c=""+s+" = "+this.fromC+(this.toC!==this.toVar?", "+this.toC:""),r=""+this.fromVar+" <= "+this.toVar,n="var "+c+"; "+r+" ? "+s+" <"+this.equals+" "+this.toVar+" : "+s+" >"+this.equals+" "+this.toVar+"; "+r+" ? "+s+"++ : "+s+"--"),u="{ "+l+".push("+s+"); }\n"+o+"return "+l+";\n"+e.indent,i=function(e){return e!=null?e.contains(function(e){return e instanceof k&&e.value==="arguments"&&!e.asKey}):void 0};if(i(this.from)||i(this.to))t=", arguments";return"(function() {"+a+"\n"+o+"for ("+n+")"+u+"}).apply(this"+(t!=null?t:"")+")"},t}(i),e.Slice=R=function(e){function t(e){this.range=e,t.__super__.constructor.call(this)}return ht(t,e),t.prototype.children=["range"],t.prototype.compileNode=function(e){var t,n,r,i,s,o;return o=this.range,i=o.to,n=o.from,r=n&&n.compile(e,N)||"0",t=i&&i.compile(e,N),i&&(!!this.range.exclusive||+t!==-1)&&(s=", "+(this.range.exclusive?t:F.test(t)?""+(+t+1):(t=i.compile(e,E),""+t+" + 1 || 9e9"))),".slice("+r+(s||"")+")"},t}(i),e.Obj=M=function(e){function t(e,t){this.generated=t!=null?t:!1,this.objects=this.properties=e||[]}return ht(t,e),t.prototype.children=["properties"],t.prototype.compileNode=function(e){var t,n,i,s,o,u,a,f,l,h,p,d,v,m,g,y;p=this.properties,h=[],y=this.properties;for(d=0,m=y.length;d<m;d++){f=y[d],f.isComplex()&&(f=f.variable);if(f!=null){l=f.unwrapAll().value.toString();if(pt.call(h,l)>=0)throw SyntaxError('multiple object literal properties named "'+l+'"');h.push(l)}}if(!p.length)return this.front?"({})":"{}";if(this.generated)for(v=0,g=p.length;v<g;v++){u=p[v];if(u instanceof K)throw new Error("cannot have an implicit value in an implicit object")}return n=e.indent+=W,o=this.lastNonComment(this.properties),p=function(){var u,a,l;l=[];for(t=u=0,a=p.length;u<a;t=++u)f=p[t],s=t===p.length-1?"":f===o||f instanceof c?"\n":",\n",i=f instanceof c?"":n,f instanceof K&&f["this"]&&(f=new r(f.properties[0].name,f,"object")),f instanceof c||(f instanceof r||(f=new r(f,f,"object")),(f.variable.base||f.variable).asKey=!0),l.push(i+f.compile(e,C)+s);return l}(),p=p.join(""),a="{"+(p&&"\n"+p+"\n"+this.tab)+"}",this.front?"("+a+")":a},t.prototype.assigns=function(e){var t,n,r,i;i=this.properties;for(n=0,r=i.length;n<r;n++){t=i[n];if(t.assigns(e))return!0}return!1},t}(i),e.Arr=n=function(e){function t(e){this.objects=e||[]}return ht(t,e),t.prototype.children=["objects"],t.prototype.filterImplicitObjects=o.prototype.filterImplicitObjects,t.prototype.compileNode=function(e){var t,n,r;return this.objects.length?(e.indent+=W,r=this.filterImplicitObjects(this.objects),(t=U.compileSplattedArray(e,r))?t:(t=function(){var t,i,s;s=[];for(t=0,i=r.length;t<i;t++)n=r[t],s.push(n.compile(e,x));return s}().join(", "),t.indexOf("\n")>=0?"[\n"+e.indent+t+"\n"+this.tab+"]":"["+t+"]")):"[]"},t.prototype.assigns=function(e){var t,n,r,i;i=this.objects;for(n=0,r=i.length;n<r;n++){t=i[n];if(t.assigns(e))return!0}return!1},t}(i),e.Class=u=function(e){function n(e,t,n){this.variable=e,this.parent=t,this.body=n!=null?n:new s,this.boundFuncs=[],this.body.classBody=!0}return ht(n,e),n.prototype.children=["variable","parent","body"],n.prototype.determineName=function(){var e,n;if(!this.variable)return null;e=(n=rt(this.variable.properties))?n instanceof t&&n.name.value:this.variable.base.value;if(pt.call(I,e)>=0)throw SyntaxError("variable name may not be "+e);return e&&(e=v.test(e)&&e)},n.prototype.setContext=function(e){return this.body.traverseChildren(!1,function(t){if(t.classBody)return!1;if(t instanceof k&&t.value==="this")return t.value=e;if(t instanceof l){t.klass=e;if(t.bound)return t.context=e}})},n.prototype.addBoundFunctions=function(e){var n,r,i,s,o,u;if(this.boundFuncs.length){o=this.boundFuncs,u=[];for(i=0,s=o.length;i<s;i++)n=o[i],r=(new K(new k("this"),[new t(n)])).compile(e),u.push(this.ctor.body.unshift(new k(""+r+" = "+at("bind")+"("+r+", this)")));return u}},n.prototype.addProperties=function(e,n,i){var s,o,u,a,f;return f=e.base.properties.slice(0),u=function(){var e;e=[];while(s=f.shift()){if(s instanceof r){o=s.variable.base,delete s.context,a=s.value;if(o.value==="constructor"){if(this.ctor)throw new Error("cannot define more than one constructor in a class");if(a.bound)throw new Error("cannot define a constructor as a bound function");a instanceof l?s=this.ctor=a:(this.externalCtor=i.scope.freeVariable("class"),s=new r(new k(this.externalCtor),a))}else s.variable["this"]?(a["static"]=!0,a.bound&&(a.context=n)):(s.variable=new K(new k(n),[new t(new k("prototype")),new t(o)]),a instanceof l&&a.bound&&(this.boundFuncs.push(o),a.bound=!1))}e.push(s)}return e}.call(this),Y(u)},n.prototype.walkBody=function(e,t){var r=this;return this.traverseChildren(!1,function(i){var o,u,f,l,c,h;if(i instanceof n)return!1;if(i instanceof s){h=o=i.expressions;for(u=l=0,c=h.length;l<c;u=++l)f=h[u],f instanceof K&&f.isObject(!0)&&(o[u]=r.addProperties(f,e,t));return i.expressions=o=nt(o)}})},n.prototype.hoistDirectivePrologue=function(){var e,t,n;t=0,e=this.body.expressions;while((n=e[t])&&n instanceof c||n instanceof K&&n.isString())++t;return this.directives=e.splice(0,t)},n.prototype.ensureConstructor=function(e){return this.ctor||(this.ctor=new l,this.parent&&this.ctor.body.push(new k(""+e+".__super__.constructor.apply(this, arguments)")),this.externalCtor&&this.ctor.body.push(new k(""+this.externalCtor+".apply(this, arguments)")),this.ctor.body.makeReturn(),this.body.expressions.unshift(this.ctor)),this.ctor.ctor=this.ctor.name=e,this.ctor.klass=null,this.ctor.noReturn=!0},n.prototype.compileNode=function(e){var t,n,i,s,o,u,a;return n=this.determineName(),o=n||"_Class",o.reserved&&(o="_"+o),s=new k(o),this.hoistDirectivePrologue(),this.setContext(o),this.walkBody(o,e),this.ensureConstructor(o),this.body.spaced=!0,this.ctor instanceof l||this.body.expressions.unshift(this.ctor),this.body.expressions.push(s),(a=this.body.expressions).unshift.apply(a,this.directives),this.addBoundFunctions(e),t=f.wrap(this.body),this.parent&&(this.superClass=new k(e.scope.freeVariable("super",!1)),this.body.expressions.unshift(new p(s,this.superClass)),t.args.push(this.parent),u=t.variable.params||t.variable.base.params,u.push(new D(this.superClass))),i=new P(t,!0),this.variable&&(i=new r(this.variable,i)),i.compile(e)},n}(i),e.Assign=r=function(e){function n(e,t,n,r){var i,s,o;this.variable=e,this.value=t,this.context=n,this.param=r&&r.param,this.subpattern=r&&r.subpattern,i=(o=s=this.variable.unwrapAll().value,pt.call(I,o)>=0);if(i&&this.context!=="object")throw SyntaxError('variable name may not be "'+s+'"')}return ht(n,e),n.prototype.children=["variable","value"],n.prototype.isStatement=function(e){return(e!=null?e.level:void 0)===C&&this.context!=null&&pt.call(this.context,"?")>=0},n.prototype.assigns=function(e){return this[this.context==="object"?"value":"variable"].assigns(e)},n.prototype.unfoldSoak=function(e){return ut(e,this,"variable")},n.prototype.compileNode=function(e){var t,n,r,i,s,o,u,a,f;if(t=this.variable instanceof K){if(this.variable.isArray()||this.variable.isObject())return this.compilePatternMatch(e);if(this.variable.isSplice())return this.compileSplice(e);if((o=this.context)==="||="||o==="&&="||o==="?=")return this.compileConditional(e)}r=this.variable.compile(e,x);if(!this.context){if(!(s=this.variable.unwrapAll()).isAssignable())throw SyntaxError('"'+this.variable.compile(e)+'" cannot be assigned.');if(typeof s.hasProperties=="function"?!s.hasProperties():!void 0)this.param?e.scope.add(r,"var"):e.scope.find(r)}return this.value instanceof l&&(n=L.exec(r))&&(n[1]&&(this.value.klass=n[1]),this.value.name=(u=(a=(f=n[2])!=null?f:n[3])!=null?a:n[4])!=null?u:n[5]),i=this.value.compile(e,x),this.context==="object"?""+r+": "+i:(i=r+(" "+(this.context||"=")+" ")+i,e.level<=x?i:"("+i+")")},n.prototype.compilePatternMatch=function(e){var r,i,s,o,u,a,f,l,c,h,p,d,m,g,y,b,E,S,N,L,A,O,M,_,D,B,j;y=e.level===C,E=this.value,h=this.variable.base.objects;if(!(p=h.length))return s=E.compile(e),e.level>=T?"("+s+")":s;a=this.variable.isObject();if(y&&p===1&&!((c=h[0])instanceof U)){c instanceof n?(A=c,O=A.variable,u=O.base,c=A.value):c.base instanceof P?(M=(new K(c.unwrapAll())).cacheReference(e),c=M[0],u=M[1]):u=a?c["this"]?c.properties[0].name:c:new k(0),r=v.test(u.unwrap().value||0),E=new K(E),E.properties.push(new(r?t:w)(u));if(_=c.unwrap().value,pt.call(H,_)>=0)throw new SyntaxError("assignment to a reserved word: "+c.compile(e)+" = "+E.compile(e));return(new n(c,E,null,{param:this.param})).compile(e,C)}S=E.compile(e,x),i=[],g=!1;if(!v.test(S)||this.variable.assigns(S))i.push(""+(d=e.scope.freeVariable("ref"))+" = "+S),S=d;for(o=N=0,L=h.length;N<L;o=++N){c=h[o],u=o,a&&(c instanceof n?(D=c,B=D.variable,u=B.base,c=D.value):c.base instanceof P?(j=(new K(c.unwrapAll())).cacheReference(e),c=j[0],u=j[1]):u=c["this"]?c.properties[0].name:c);if(!g&&c instanceof U)l=c.name.unwrap().value,c=c.unwrap(),b=""+p+" <= "+S+".length ? "+at("slice")+".call("+S+", "+o,(m=p-o-1)?(f=e.scope.freeVariable("i"),b+=", "+f+" = "+S+".length - "+m+") : ("+f+" = "+o+", [])"):b+=") : []",b=new k(b),g=""+f+"++";else{l=c.unwrap().value;if(c instanceof U)throw c=c.name.compile(e),new SyntaxError("multiple splats are disallowed in an assignment: "+c+"...");typeof u=="number"?(u=new k(g||u),r=!1):r=a&&v.test(u.unwrap().value||0),b=new K(new k(S),[new(r?t:w)(u)])}if(l!=null&&pt.call(H,l)>=0)throw new SyntaxError("assignment to a reserved word: "+c.compile(e)+" = "+b.compile(e));i.push((new n(c,b,null,{param:this.param,subpattern:!0})).compile(e,x))}return!y&&!this.subpattern&&i.push(S),s=i.join(", "),e.level<x?s:"("+s+")"},n.prototype.compileConditional=function(e){var t,r,i;i=this.variable.cacheReference(e),t=i[0],r=i[1];if(!t.properties.length&&t.base instanceof k&&t.base.value!=="this"&&!e.scope.check(t.base.value))throw new Error('the variable "'+t.base.value+"\" can't be assigned with "+this.context+" because it has not been defined.");return pt.call(this.context,"?")>=0&&(e.isExistentialEquals=!0),(new _(this.context.slice(0,-1),t,new n(r,this.value,"="))).compile(e)},n.prototype.compileSplice=function(e){var t,n,r,i,s,o,u,a,f,l,c,h;return l=this.variable.properties.pop().range,r=l.from,u=l.to,n=l.exclusive,o=this.variable.compile(e),c=(r!=null?r.cache(e,T):void 0)||["0","0"],i=c[0],s=c[1],u?(r!=null?r.isSimpleNumber():void 0)&&u.isSimpleNumber()?(u=+u.compile(e)- +s,n||(u+=1)):(u=u.compile(e,E)+" - "+s,n||(u+=" + 1")):u="9e9",h=this.value.cache(e,x),a=h[0],f=h[1],t="[].splice.apply("+o+", ["+i+", "+u+"].concat("+a+")), "+f,e.level>C?"("+t+")":t},n}(i),e.Code=l=function(e){function t(e,t
,n){this.params=e||[],this.body=t||new s,this.bound=n==="boundfunc",this.bound&&(this.context="_this")}return ht(t,e),t.prototype.children=["params","body"],t.prototype.isStatement=function(){return!!this.ctor},t.prototype.jumps=O,t.prototype.compileNode=function(e){var t,i,s,o,u,a,f,l,c,h,p,d,v,m,g,b,w,S,x,T,N,C,L,A,O,M,D,P,H,B,j,F,I;e.scope=new q(e.scope,this.body,this),e.scope.shared=Z(e,"sharedScope"),e.indent+=W,delete e.bare,delete e.isExistentialEquals,c=[],i=[],D=this.paramNames();for(g=0,x=D.length;g<x;g++)a=D[g],e.scope.check(a)||e.scope.parameter(a);P=this.params;for(b=0,T=P.length;b<T;b++){l=P[b];if(!l.splat)continue;H=this.params;for(w=0,N=H.length;w<N;w++)f=H[w].name,f["this"]&&(f=f.properties[0].name),f.value&&e.scope.add(f.value,"var",!0);p=new r(new K(new n(function(){var t,n,r,i;r=this.params,i=[];for(t=0,n=r.length;t<n;t++)f=r[t],i.push(f.asReference(e));return i}.call(this))),new K(new k("arguments")));break}B=this.params;for(S=0,C=B.length;S<C;S++)l=B[S],l.isComplex()?(v=h=l.asReference(e),l.value&&(v=new _("?",h,l.value)),i.push(new r(new K(l.name),v,"=",{param:!0}))):(h=l,l.value&&(u=new k(h.name.value+" == null"),v=new r(new K(l.name),l.value,"="),i.push(new y(u,v)))),p||c.push(h);m=this.body.isEmpty(),p&&i.unshift(p),i.length&&(j=this.body.expressions).unshift.apply(j,i);for(s=O=0,L=c.length;O<L;s=++O)f=c[s],e.scope.parameter(c[s]=f.compile(e));d=[],F=this.paramNames();for(M=0,A=F.length;M<A;M++){a=F[M];if(pt.call(d,a)>=0)throw SyntaxError("multiple parameters named '"+a+"'");d.push(a)}return!m&&!this.noReturn&&this.body.makeReturn(),this.bound&&(((I=e.scope.parent.method)!=null?I.bound:void 0)?this.bound=this.context=e.scope.parent.method.context:this["static"]||e.scope.parent.assign("_this","this")),o=e.indent,t="function",this.ctor&&(t+=" "+this.name),t+="("+c.join(", ")+") {",this.body.isEmpty()||(t+="\n"+this.body.compileWithDeclarations(e)+"\n"+this.tab),t+="}",this.ctor?this.tab+t:this.front||e.level>=E?"("+t+")":t},t.prototype.paramNames=function(){var e,t,n,r,i;e=[],i=this.params;for(n=0,r=i.length;n<r;n++)t=i[n],e.push.apply(e,t.names());return e},t.prototype.traverseChildren=function(e,n){if(e)return t.__super__.traverseChildren.call(this,e,n)},t}(i),e.Param=D=function(e){function t(e,t,n){var r;this.name=e,this.value=t,this.splat=n;if(r=e=this.name.unwrapAll().value,pt.call(I,r)>=0)throw SyntaxError('parameter name "'+e+'" is not allowed')}return ht(t,e),t.prototype.children=["name","value"],t.prototype.compile=function(e){return this.name.compile(e,x)},t.prototype.asReference=function(e){var t;return this.reference?this.reference:(t=this.name,t["this"]?(t=t.properties[0].name,t.value.reserved&&(t=new k(e.scope.freeVariable(t.value)))):t.isComplex()&&(t=new k(e.scope.freeVariable("arg"))),t=new K(t),this.splat&&(t=new U(t)),this.reference=t)},t.prototype.isComplex=function(){return this.name.isComplex()},t.prototype.names=function(e){var t,n,i,s,o,u;e==null&&(e=this.name),t=function(e){var t;return t=e.properties[0].name.value,t.reserved?[]:[t]};if(e instanceof k)return[e.value];if(e instanceof K)return t(e);n=[],u=e.objects;for(s=0,o=u.length;s<o;s++){i=u[s];if(i instanceof r)n.push(i.value.unwrap().value);else if(i instanceof U)n.push(i.name.unwrap().value);else{if(!(i instanceof K))throw SyntaxError("illegal parameter "+i.compile());i.isArray()||i.isObject()?n.push.apply(n,this.names(i.base)):i["this"]?n.push.apply(n,t(i)):n.push(i.base.value)}}return n},t}(i),e.Splat=U=function(e){function t(e){this.name=e.compile?e:new k(e)}return ht(t,e),t.prototype.children=["name"],t.prototype.isAssignable=G,t.prototype.assigns=function(e){return this.name.assigns(e)},t.prototype.compile=function(e){return this.index!=null?this.compileParam(e):this.name.compile(e)},t.prototype.unwrap=function(){return this.name},t.compileSplattedArray=function(e,n,r){var i,s,o,u,a,f,l,c;a=-1;while((f=n[++a])&&!(f instanceof t))continue;if(a>=n.length)return"";if(n.length===1)return o=n[0].compile(e,x),r?o:""+at("slice")+".call("+o+")";i=n.slice(a);for(u=l=0,c=i.length;l<c;u=++l)f=i[u],o=f.compile(e,x),i[u]=f instanceof t?""+at("slice")+".call("+o+")":"["+o+"]";return a===0?i[0]+(".concat("+i.slice(1).join(", ")+")"):(s=function(){var t,r,i,s;i=n.slice(0,a),s=[];for(t=0,r=i.length;t<r;t++)f=i[t],s.push(f.compile(e,x));return s}(),"["+s.join(", ")+"].concat("+i.join(", ")+")")},t}(i),e.While=Q=function(e){function t(e,t){this.condition=(t!=null?t.invert:void 0)?e.invert():e,this.guard=t!=null?t.guard:void 0}return ht(t,e),t.prototype.children=["condition","guard","body"],t.prototype.isStatement=G,t.prototype.makeReturn=function(e){return e?t.__super__.makeReturn.apply(this,arguments):(this.returns=!this.jumps({loop:!0}),this)},t.prototype.addBody=function(e){return this.body=e,this},t.prototype.jumps=function(){var e,t,n,r;e=this.body.expressions;if(!e.length)return!1;for(n=0,r=e.length;n<r;n++){t=e[n];if(t.jumps({loop:!0}))return t}return!1},t.prototype.compileNode=function(e){var t,n,r,i;return e.indent+=W,i="",t=this.body,t.isEmpty()?t="":(this.returns&&(t.makeReturn(r=e.scope.freeVariable("results")),i=""+this.tab+r+" = [];\n"),this.guard&&(t.expressions.length>1?t.expressions.unshift(new y((new P(this.guard)).invert(),new k("continue"))):this.guard&&(t=s.wrap([new y(this.guard,t)]))),t="\n"+t.compile(e,C)+"\n"+this.tab),n=i+this.tab+("while ("+this.condition.compile(e,N)+") {"+t+"}"),this.returns&&(n+="\n"+this.tab+"return "+r+";"),n},t}(i),e.Op=_=function(e){function t(e,t,r,i){if(e==="in")return new b(t,r);if(e==="do")return this.generateDo(t);if(e==="new"){if(t instanceof o&&!t["do"]&&!t.isNew)return t.newInstance();if(t instanceof l&&t.bound||t["do"])t=new P(t)}return this.operator=n[e]||e,this.first=t,this.second=r,this.flip=!!i,this}var n,i;return ht(t,e),n={"==":"===","!=":"!==",of:"in"},i={"!==":"===","===":"!=="},t.prototype.children=["first","second"],t.prototype.isSimpleNumber=O,t.prototype.isUnary=function(){return!this.second},t.prototype.isComplex=function(){var e;return!this.isUnary()||(e=this.operator)!=="+"&&e!=="-"||this.first.isComplex()},t.prototype.isChainable=function(){var e;return(e=this.operator)==="<"||e===">"||e===">="||e==="<="||e==="==="||e==="!=="},t.prototype.invert=function(){var e,n,r,s,o;if(this.isChainable()&&this.first.isChainable()){e=!0,n=this;while(n&&n.operator)e&&(e=n.operator in i),n=n.first;if(!e)return(new P(this)).invert();n=this;while(n&&n.operator)n.invert=!n.invert,n.operator=i[n.operator],n=n.first;return this}return(s=i[this.operator])?(this.operator=s,this.first.unwrap()instanceof t&&this.first.invert(),this):this.second?(new P(this)).invert():this.operator==="!"&&(r=this.first.unwrap())instanceof t&&((o=r.operator)==="!"||o==="in"||o==="instanceof")?r:new t("!",this)},t.prototype.unfoldSoak=function(e){var t;return((t=this.operator)==="++"||t==="--"||t==="delete")&&ut(e,this,"first")},t.prototype.generateDo=function(e){var t,n,i,s,u,a,f,c;s=[],n=e instanceof r&&(u=e.value.unwrap())instanceof l?u:e,c=n.params||[];for(a=0,f=c.length;a<f;a++)i=c[a],i.value?(s.push(i.value),delete i.value):s.push(i);return t=new o(e,s),t["do"]=!0,t},t.prototype.compileNode=function(e){var t,n,r,i;n=this.isChainable()&&this.first.isChainable(),n||(this.first.front=this.front);if(this.operator==="delete"&&e.scope.check(this.first.unwrapAll().value))throw SyntaxError("delete operand may not be argument or var");if(((r=this.operator)==="--"||r==="++")&&(i=this.first.unwrapAll().value,pt.call(I,i)>=0))throw SyntaxError("prefix increment/decrement may not have eval or arguments operand");return this.isUnary()?this.compileUnary(e):n?this.compileChain(e):this.operator==="?"?this.compileExistence(e):(t=this.first.compile(e,T)+" "+this.operator+" "+this.second.compile(e,T),e.level<=T?t:"("+t+")")},t.prototype.compileChain=function(e){var t,n,r,i;return i=this.first.second.cache(e),this.first.second=i[0],r=i[1],n=this.first.compile(e,T),t=""+n+" "+(this.invert?"&&":"||")+" "+r.compile(e)+" "+this.operator+" "+this.second.compile(e,T),"("+t+")"},t.prototype.compileExistence=function(e){var t,n;return this.first.isComplex()?(n=new k(e.scope.freeVariable("ref")),t=new P(new r(n,this.first))):(t=this.first,n=t),(new y(new h(t),n,{type:"if"})).addElse(this.second).compile(e)},t.prototype.compileUnary=function(e){var n,r,i;if(e.level>=E)return(new P(this)).compile(e);r=[n=this.operator],i=n==="+"||n==="-",(n==="new"||n==="typeof"||n==="delete"||i&&this.first instanceof t&&this.first.operator===n)&&r.push(" ");if(i&&this.first instanceof t||n==="new"&&this.first.isStatement(e))this.first=new P(this.first);return r.push(this.first.compile(e,T)),this.flip&&r.reverse(),r.join("")},t.prototype.toString=function(e){return t.__super__.toString.call(this,e,this.constructor.name+" "+this.operator)},t}(i),e.In=b=function(e){function t(e,t){this.object=e,this.array=t}return ht(t,e),t.prototype.children=["object","array"],t.prototype.invert=A,t.prototype.compileNode=function(e){var t,n,r,i,s;if(this.array instanceof K&&this.array.isArray()){s=this.array.base.objects;for(r=0,i=s.length;r<i;r++){n=s[r];if(n instanceof U){t=!0;break}continue}if(!t)return this.compileOrTest(e)}return this.compileLoopTest(e)},t.prototype.compileOrTest=function(e){var t,n,r,i,s,o,u,a,f;return this.array.base.objects.length===0?""+!!this.negated:(a=this.object.cache(e,T),o=a[0],s=a[1],f=this.negated?[" !== "," && "]:[" === "," || "],t=f[0],n=f[1],u=function(){var n,u,a,f;a=this.array.base.objects,f=[];for(r=n=0,u=a.length;n<u;r=++n)i=a[r],f.push((r?s:o)+t+i.compile(e,E));return f}.call(this),u=u.join(n),e.level<T?u:"("+u+")")},t.prototype.compileLoopTest=function(e){var t,n,r,i;return i=this.object.cache(e,x),r=i[0],n=i[1],t=at("indexOf")+(".call("+this.array.compile(e,x)+", "+n+") ")+(this.negated?"< 0":">= 0"),r===n?t:(t=r+", "+t,e.level<x?t:"("+t+")")},t.prototype.toString=function(e){return t.__super__.toString.call(this,e,this.constructor.name+(this.negated?"!":""))},t}(i),e.Try=$=function(e){function t(e,t,n,r){this.attempt=e,this.error=t,this.recovery=n,this.ensure=r}return ht(t,e),t.prototype.children=["attempt","recovery","ensure"],t.prototype.isStatement=G,t.prototype.jumps=function(e){var t;return this.attempt.jumps(e)||((t=this.recovery)!=null?t.jumps(e):void 0)},t.prototype.makeReturn=function(e){return this.attempt&&(this.attempt=this.attempt.makeReturn(e)),this.recovery&&(this.recovery=this.recovery.makeReturn(e)),this},t.prototype.compileNode=function(e){var t,n,r,i;return e.indent+=W,r=this.error?" ("+this.error.compile(e)+") ":" ",i=this.attempt.compile(e,C),t=function(){var t;if(this.recovery){if(t=this.error.value,pt.call(I,t)>=0)throw SyntaxError('catch variable may not be "'+this.error.value+'"');return e.scope.check(this.error.value)||e.scope.add(this.error.value,"param")," catch"+r+"{\n"+this.recovery.compile(e,C)+"\n"+this.tab+"}"}if(!this.ensure&&!this.recovery)return" catch (_error) {}"}.call(this),n=this.ensure?" finally {\n"+this.ensure.compile(e,C)+"\n"+this.tab+"}":"",""+this.tab+"try {\n"+i+"\n"+this.tab+"}"+(t||"")+n},t}(i),e.Throw=V=function(e){function t(e){this.expression=e}return ht(t,e),t.prototype.children=["expression"],t.prototype.isStatement=G,t.prototype.jumps=O,t.prototype.makeReturn=X,t.prototype.compileNode=function(e){return this.tab+("throw "+this.expression.compile(e)+";")},t}(i),e.Existence=h=function(e){function t(e){this.expression=e}return ht(t,e),t.prototype.children=["expression"],t.prototype.invert=A,t.prototype.compileNode=function(e){var t,n,r,i;return this.expression.front=this.front,r=this.expression.compile(e,T),v.test(r)&&!e.scope.check(r)?(i=this.negated?["===","||"]:["!==","&&"],t=i[0],n=i[1],r="typeof "+r+" "+t+' "undefined" '+n+" "+r+" "+t+" null"):r=""+r+" "+(this.negated?"==":"!=")+" null",e.level<=S?r:"("+r+")"},t}(i),e.Parens=P=function(e){function t(e){this.body=e}return ht(t,e),t.prototype.children=["body"],t.prototype.unwrap=function(){return this.body},t.prototype.isComplex=function(){return this.body.isComplex()},t.prototype.compileNode=function(e){var t,n,r;return r=this.body.unwrap(),r instanceof K&&r.isAtomic()?(r.front=this.front,r.compile(e)):(n=r.compile(e,N),t=e.level<T&&(r instanceof _||r instanceof o||r instanceof d&&r.returns),t?n:"("+n+")")},t}(i),e.For=d=function(e){function t(e,t){var n;this.source=t.source,this.guard=t.guard,this.step=t.step,this.name=t.name,this.index=t.index,this.body=s.wrap([e]),this.own=!!t.own,this.object=!!t.object,this.object&&(n=[this.index,this.name],this.name=n[0],this.index=n[1]);if(this.index instanceof K)throw SyntaxError("index cannot be a pattern matching expression");this.range=this.source instanceof K&&this.source.base instanceof B&&!this.source.properties.length,this.pattern=this.name instanceof K;if(this.range&&this.index)throw SyntaxError("indexes do not apply to range loops");if(this.range&&this.pattern)throw SyntaxError("cannot pattern match over range loops");this.returns=!1}return ht(t,e),t.prototype.children=["body","source","guard","step"],t.prototype.compileNode=function(e){var t,n,i,o,u,a,f,l,c,h,p,d,m,g,b,w,E,S,N,L,A,O,M,_,D;return t=s.wrap([this.body]),p=(D=rt(t.expressions))!=null?D.jumps():void 0,p&&p instanceof j&&(this.returns=!1),L=this.range?this.source.base:this.source,N=e.scope,m=this.name&&this.name.compile(e,x),f=this.index&&this.index.compile(e,x),m&&!this.pattern&&N.find(m),f&&N.find(f),this.returns&&(S=N.freeVariable("results")),l=this.object&&f||N.freeVariable("i"),c=this.range&&m||f||l,h=c!==l?""+c+" = ":"",this.step&&!this.range&&(O=N.freeVariable("step")),this.pattern&&(m=l),_="",u="",n="",a=this.tab+W,this.range?i=L.compile(it(e,{index:l,name:m,step:this.step})):(M=this.source.compile(e,x),(m||this.own)&&!v.test(M)&&(n=""+this.tab+(b=N.freeVariable("ref"))+" = "+M+";\n",M=b),m&&!this.pattern&&(g=""+m+" = "+M+"["+c+"]"),this.object||(d=N.freeVariable("len"),o=""+h+l+" = 0, "+d+" = "+M+".length",this.step&&(o+=", "+O+" = "+this.step.compile(e,T)),A=""+h+(this.step?""+l+" += "+O:c!==l?"++"+l:""+l+"++"),i=""+o+"; "+l+" < "+d+"; "+A)),this.returns&&(w=""+this.tab+S+" = [];\n",E="\n"+this.tab+"return "+S+";",t.makeReturn(S)),this.guard&&(t.expressions.length>1?t.expressions.unshift(new y((new P(this.guard)).invert(),new k("continue"))):this.guard&&(t=s.wrap([new y(this.guard,t)]))),this.pattern&&t.expressions.unshift(new r(this.name,new k(""+M+"["+c+"]"))),n+=this.pluckDirectCall(e,t),g&&(_="\n"+a+g+";"),this.object&&(i=""+c+" in "+M,this.own&&(u="\n"+a+"if (!"+at("hasProp")+".call("+M+", "+c+")) continue;")),t=t.compile(it(e,{indent:a}),C),t&&(t="\n"+t+"\n"),""+n+(w||"")+this.tab+"for ("+i+") {"+u+_+t+this.tab+"}"+(E||"")},t.prototype.pluckDirectCall=function(e,t){var n,i,s,u,a,f,c,h,p,d,v,m,g,y,b;i="",d=t.expressions;for(a=h=0,p=d.length;h<p;a=++h){s=d[a],s=s.unwrapAll();if(!(s instanceof o))continue;c=s.variable.unwrapAll();if(!(c instanceof l||c instanceof K&&((v=c.base)!=null?v.unwrapAll():void 0)instanceof l&&c.properties.length===1&&((m=(g=c.properties[0].name)!=null?g.value:void 0)==="call"||m==="apply")))continue;u=((y=c.base)!=null?y.unwrapAll():void 0)||c,f=new k(e.scope.freeVariable("fn")),n=new K(f),c.base&&(b=[n,c],c.base=b[0],n=b[1]),t.expressions[a]=new o(n,s.args),i+=this.tab+(new r(f,u)).compile(e,C)+";\n"}return i},t}(Q),e.Switch=z=function(e){function t(e,t,n){this.subject=e,this.cases=t,this.otherwise=n}return ht(t,e),t.prototype.children=["subject","cases","otherwise"],t.prototype.isStatement=G,t.prototype.jumps=function(e){var t,n,r,i,s,o,u;e==null&&(e={block:!0}),s=this.cases;for(r=0,i=s.length;r<i;r++){o=s[r],n=o[0],t=o[1];if(t.jumps(e))return t}return(u=this.otherwise)!=null?u.jumps(e):void 0},t.prototype.makeReturn=function(e){var t,n,r,i,o;i=this.cases;for(n=0,r=i.length;n<r;n++)t=i[n],t[1].makeReturn(e);return e&&(this.otherwise||(this.otherwise=new s([new k("void 0")]))),(o=this.otherwise)!=null&&o.makeReturn(e),this},t.prototype.compileNode=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g;a=e.indent+W,f=e.indent=a+W,r=this.tab+("switch ("+(((d=this.subject)!=null?d.compile(e,N):void 0)||!1)+") {\n"),v=this.cases;for(u=l=0,h=v.length;l<h;u=++l){m=v[u],s=m[0],t=m[1],g=nt([s]);for(c=0,p=g.length;c<p;c++)i=g[c],this.subject||(i=i.invert()),r+=a+("case "+i.compile(e,N)+":\n");if(n=t.compile(e,C))r+=n+"\n";if(u===this.cases.length-1&&!this.otherwise)break;o=this.lastNonComment(t.expressions);if(o instanceof j||o instanceof k&&o.jumps()&&o.value!=="debugger")continue;r+=f+"break;\n"}return this.otherwise&&this.otherwise.expressions.length&&(r+=a+("default:\n"+this.otherwise.compile(e,C)+"\n")),r+this.tab+"}"},t}(i),e.If=y=function(e){function t(e,t,n){this.body=t,n==null&&(n={}),this.condition=n.type==="unless"?e.invert():e,this.elseBody=null,this.isChain=!1,this.soak=n.soak}return ht(t,e),t.prototype.children=["condition","body","elseBody"],t.prototype.bodyNode=function(){var e;return(e=this.body)!=null?e.unwrap():void 0},t.prototype.elseBodyNode=function(){var e;return(e=this.elseBody)!=null?e.unwrap():void 0},t.prototype.addElse=function(e){return this.isChain?this.elseBodyNode().addElse(e):(this.isChain=e instanceof t,this.elseBody=this.ensureBlock(e)),this},t.prototype.isStatement=function(e){var t;return(e!=null?e.level:void 0)===C||this.bodyNode().isStatement(e)||((t=this.elseBodyNode())!=null?t.isStatement(e):void 0)},t.prototype.jumps=function(e){var t;return this.body.jumps(e)||((t=this.elseBody)!=null?t.jumps(e):void 0)},t.prototype.compileNode=function(e){return this.isStatement(e)?this.compileStatement(e):this.compileExpression(e)},t.prototype.makeReturn=function(e){return e&&(this.elseBody||(this.elseBody=new s([new k("void 0")]))),this.body&&(this.body=new s([this.body.makeReturn(e)])),this.elseBody&&(this.elseBody=new s([this.elseBody.makeReturn(e)])),this},t.prototype.ensureBlock=function(e){return e instanceof s?e:new s([e])},t.prototype.compileStatement=function(e){var n,r,i,s,o;return r=Z(e,"chainChild"),s=Z(e,"isExistentialEquals"),s?(new t(this.condition.invert(),this.elseBodyNode(),{type:"if"})).compile(e):(i=this.condition.compile(e,N),e.indent+=W,n=this.ensureBlock(this.body),o="if ("+i+") {\n"+n.compile(e)+"\n"+this.tab+"}",r||(o=this.tab+o),this.elseBody?o+" else "+(this.isChain?(e.indent=this.tab,e.chainChild=!0,this.elseBody.unwrap().compile(e,C)):"{\n"+this.elseBody.compile(e,C)+"\n"+this.tab+"}"):o)},t.prototype.compileExpression=function(e){var t,n,r,i;return i=this.condition.compile(e,S),n=this.bodyNode().compile(e,x),t=this.elseBodyNode()?this.elseBodyNode().compile(e,x):"void 0",r=""+i+" ? "+n+" : "+t,e.level>=S?"("+r+")":r},t.prototype.unfoldSoak=function(){return this.soak&&this},t}(i),f={wrap:function(e,n,r){var i,u,a,f,c;if(e.jumps())return e;a=new l([],s.wrap([e])),i=[];if((f=e.contains(this.literalArgs))||e.contains(this.literalThis))c=new k(f?"apply":"call"),i=[new k("this")],f&&i.push(new k("arguments")),a=new K(a,[new t(c)]);return a.noReturn=r,u=new o(a,i),n?s.wrap([u]):u},literalArgs:function(e){return e instanceof k&&e.value==="arguments"&&!e.asKey},literalThis:function(e){return e instanceof k&&e.value==="this"&&!e.asKey||e instanceof l&&e.bound||e instanceof o&&e.isSuper}},ut=function(e,t,n){var r;if(!!(r=t[n].unfoldSoak(e)))return t[n]=r.body,r.body=new K(t),r},J={"extends":function(){return"function(child, parent) { for (var key in parent) { if ("+at("hasProp")+".call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; }"},bind:function(){return"function(fn, me){ return function(){ return fn.apply(me, arguments); }; }"},indexOf:function(){return"[].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; }"},hasProp:function(){return"{}.hasOwnProperty"},slice:function(){return"[].slice"}},C=1,N=2,x=3,S=4,T=5,E=6,W="  ",m="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",v=RegExp("^"+m+"$"),F=/^[+-]?\d+$/,L=RegExp("^(?:("+m+")\\.prototype(?:\\.("+m+")|\\[(\"(?:[^\\\\\"\\r\\n]|\\\\.)*\"|'(?:[^\\\\'\\r\\n]|\\\\.)*')\\]|\\[(0x[\\da-fA-F]+|\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\]))|("+m+")$"),g=/^['"]/,at=function(e){var t;return t="__"+e,q.root.assign(t,J[e]()),t},st=function(e,t){return e=e.replace(/\n/g,"$&"+t),e.replace(/\s+$/,"")}}).call(this)},require["./coffee-script"]=new function(){var e=this;(function(){var t,n,r,i,s,o,u,f,l,c={}.hasOwnProperty;i=require("fs"),u=require("path"),l=require("./lexer"),t=l.Lexer,n=l.RESERVED,o=require("./parser").parser,f=require("vm"),require.extensions?require.extensions[".coffee"]=function(e,t){var n;return n=r(i.readFileSync(t,"utf8"),{filename:t}),e._compile(n,t)}:require.registerExtension&&require.registerExtension(".coffee",function(e){return r(e)}),e.VERSION="1.3.3",e.RESERVED=n,e.helpers=require("./helpers"),e.compile=r=function(t,n){var r,i,u;n==null&&(n={}),u=e.helpers.merge;try{i=o.parse(s.tokenize(t)).compile(n);if(!n.header)return i}catch(f){throw n.filename&&(f.message="In "+n.filename+", "+f.message),f}return r="Generated by CoffeeScript "+this.VERSION,"// "+r+"\n"+i},e.tokens=function(e,t){return s.tokenize(e,t)},e.nodes=function(e,t){return typeof e=="string"?o.parse(s.tokenize(e,t)):o.parse(e)},e.run=function(e,t){var n;return t==null&&(t={}),n=require.main,n.filename=process.argv[1]=t.filename?i.realpathSync(t.filename):".",n.moduleCache&&(n.moduleCache={}),n.paths=require("module")._nodeModulePaths(u.dirname(i.realpathSync(t.filename))),u.extname(n.filename)!==".coffee"||require.extensions?n._compile(r(e,t),n.filename):n._compile(e,n.filename)},e.eval=function(e,t){var n,i,s,o,a,l,p,v,m,g,y,b,w,E;t==null&&(t={});if(!!(e=e.trim())){i=f.Script;if(i){if(t.sandbox!=null){if(t.sandbox instanceof i.createContext().constructor)p=t.sandbox;else{p=i.createContext(),b=t.sandbox;for(o in b){if(!c.call(b,o))continue;v=b[o],p[o]=v}}p.global=p.root=p.GLOBAL=p}else p=global;p.__filename=t.filename||"eval",p.__dirname=u.dirname(p.__filename);if(p===global&&!p.module&&!p.require){n=require("module"),p.module=y=new n(t.modulename||"eval"),p.require=E=function(e){return n._load(e,y,!0)},y.filename=p.__filename,w=Object.getOwnPropertyNames(require);for(m=0,g=w.length;m<g;m++)l=w[m],l!=="paths"&&(E[l]=require[l]);E.paths=y.paths=n._nodeModulePaths(process.cwd()),E.resolve=function(e){return n._resolveFilename(e,y)}}}a={};for(o in t){if(!c.call(t,o))continue;v=t[o],a[o]=v}return a.bare=!0,s=r(e,a),p===global?f.runInThisContext(s):f.runInContext(s,p)}},s=new t,o.lexer={lex:function(){var e,t;return t=this.tokens[this.pos++]||[""],e=t[0],this.yytext=t[1],this.yylineno=t[2],e},setInput:function(e){return this.tokens=e,this.pos=0},upcomingInput:function(){return""}},o.yy=require("./nodes")}).call(this)},require["./browser"]=new function(){var exports=this;(function(){var CoffeeScript,runScripts;CoffeeScript=require("./coffee-script"),CoffeeScript.require=require,CoffeeScript.eval=function(code,options){var _ref;return options==null&&(options={}),(_ref=options.bare)==null&&(options.bare=!0),eval(CoffeeScript.compile(code,options))},CoffeeScript.run=function(e,t){return t==null&&(t={}),t.bare=!0,Function(CoffeeScript.compile(e,t))()},typeof window!="undefined"&&window!==null&&(CoffeeScript.load=function(e,t){var n;return n=new(window.ActiveXObject||XMLHttpRequest)("Microsoft.XMLHTTP"),n.open("GET",e,!0),"overrideMimeType"in n&&n.overrideMimeType("text/plain"),n.onreadystatechange=function(){var r;if(n.readyState===4){if((r=n.status)!==0&&r!==200)throw new Error("Could not load "+e);CoffeeScript.run(n.responseText);if(t)return t()}},n.send(null)},runScripts=function(){var e,t,n,r,i,s;return s=document.getElementsByTagName("script"),e=function(){var e,t,n;n=[];for(e=0,t=s.length;e<t;e++)i=s[e],i.type==="text/coffeescript"&&n.push(i);return n}(),n=0,r=e.length,(t=function(){var r;r=e[n++];if((r!=null?r.type:void 0)==="text/coffeescript")return r.src?CoffeeScript.load(r.src,t):(CoffeeScript.run(r.innerHTML),t())})(),null},window.addEventListener?addEventListener("DOMContentLoaded",runScripts,!1):attachEvent("onload",runScripts))}).call(this)},require["./coffee-script"]}();typeof define=="function"&&define.amd?define("coffee-script",[],function(){return CoffeeScript}):root.CoffeeScript=CoffeeScript}(this),define("cs",["coffee-script"],function(e){"use strict";var t,n,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],i=function(){throw new Error("Environment unsupported.")},s={};return typeof process!="undefined"&&process.versions&&!!process.versions.node?(t=require.nodeRequire("fs"),i=function(e,n){n(t.readFileSync(e,"utf8"))}):typeof window!="undefined"&&window.navigator&&window.document||typeof importScripts!="undefined"?(n=function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;for(t=0;t<3;t++){n=r[t];try{e=new ActiveXObject(n)}catch(i){}if(e){r=[n];break}}if(!e)throw new Error("getXhr(): XMLHttpRequest not available");return e},i=function(e,t){var r=n();r.open("GET",e,!0),r.onreadystatechange=function(e){r.readyState===4&&t(r.responseText)},r.send(null)}):typeof Packages!="undefined"&&(i=function(e,t){var n="utf-8",r=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),n)),o,u,a="";try{o=new java.lang.StringBuffer,u=s.readLine(),u&&u.length()&&u.charAt(0)===65279&&(u=u.substring(1)),o.append(u);while((u=s.readLine())!==null)o.append(i),o.append(u);a=String(o.toString())}finally{s.close()}t(a)}),{get:function(){return e},write:function(e,t,n){if(s.hasOwnProperty(t)){var r=s[t];n.asModule(e+"!"+t,r)}},version:"0.4.2",load:function(t,n,r,o){var u=n.toUrl(t+".coffee");i(u,function(i){try{i=e.compile(i,o.CoffeeScript)}catch(a){throw a.message="In "+u+", "+a.message,a}o.isBuild&&(s[t]=i),o.isBuild||(i+="\r\n//@ sourceURL="+u),r.fromText(t,i),n([t],function(e){r(e)})})}}}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("cs!common/components/thermometer",["require"],function(t){var n;return n=function(){function t(t,n,r,i){this.dom_selector=t!=null?t:"#thermometer",this.value=n,this.min=r,this.max=i,this.resize=e(this.resize,this),this.dom_element=typeof this.dom_selector=="string"?$(this.dom_selector):this.dom_selector,this.dom_element.addClass("thermometer"),this.thermometer_fill=$("<div>").addClass("thermometer_fill"),this.dom_element.append(this.thermometer_fill),this.redraw()}return t.prototype.add_value=function(e){return this.value=e,this.redraw()},t.prototype.scaled_value=function(){return(this.value-this.min)/(this.max-this.min)},t.prototype.resize=function(){return this.redraw()},t.prototype.redraw=function(){return this.thermometer_fill.height(""+this.scaled_value()*this.dom_element.height()+"px")},t}()})}.call(this),define("common/controllers/thermometer-controller",["require","cs!common/components/thermometer","common/controllers/interactive-metadata","common/validator"],function(e){var t=e("cs!common/components/thermometer"),n=e("common/controllers/interactive-metadata"),r=e("common/validator");return function(i){var s=i.reading,o,u,a,f,l,c,h,p,d,v,m,g=function(e){e=a*e+u,p.text(e.toFixed(f)+" "+o)},y=function(){var e=model.get("targetTemperature");v.add_value(e),l&&g(e)};return i=r.validateCompleteness(n.thermometer,i),s=i.reading,o=s.units,u=s.offset,a=s.scale,f=s.digits,l=!!i.labelIsReading,c=l?"":"Thermometer",h=$("<div>").attr("id",i.id),p=$('<p class="label">').text(c),d=$('<div class="interactive-thermometer">').append(h).append(p),d.css({height:"100%"}),v=new t(h,null,i.min,i.max),m={modelLoadedCallback:function(){model.addPropertiesListener("targetTemperature",function(){y()}),v.resize(),y()},getViewContainer:function(){return d},getView:function(){return v},resize:function(){h.height(d.height()-p.height())},serialize:function(){return i}},m}}),define("common/layout/semantic-layout",["require","lab.config","common/alert"],function(require){var labConfig=require("lab.config"),alert=require("common/alert"),minModelWidth=150,basicInteractiveWidth=1e3,basicInteractiveHeight=600,fontScale=d3.scale.linear().domain([.4,.6,1.1,5]).range([.6,.8,.9,5]).clamp(!0),containerColors=["rgba(0,0,255,0.1)","rgba(255,0,0,0.1)","rgba(0,255,0,0.1)","rgba(255,255,0,0.1)","rgba(0,255,255,0.1)","rgba(255,255,128,0.1)","rgba(128,255,0,0.1)","rgba(255,128,0,0.1)"];return function SemanticLayout($interactiveContainer,containers,componentLocations,components,modelController){function getDimensionOfContainer(e,t){var n=e.position();switch(t){case"top":return n.top;case"bottom":return n.top+e.outerHeight();case"left":return n.left;case"right":return n.left+e.outerWidth();case"height":return e.outerHeight();case"width":return e.outerWidth()}}function setFontSize(){var e=$interactiveContainer.width()/basicInteractiveWidth,t=$interactiveContainer.height()/basicInteractiveHeight,n=Math.min(e,t);$("#responsive-content").css("font-size",fontScale(n)+"em")}function setMinDimensions(){function r(){var e=0;$(this).children().each(function(){e+=$(this).outerWidth(!0)}),$(this).css("min-width",Math.ceil(e))}var e,t,n;for(t=0,n=containers.length;t<n;t++)e=$containers[containers[t].id],containers[t].width===undefined&&(e.children().each(r),e.css("min-width",e.outerWidth(!0))),containers[t]["min-width"]!==undefined&&e.css("min-width",containers[t]["min-width"])}function setupBackground(){var e,t,n;for(t=0,n=containers.length;t<n;t++)e=containers[t].id,$containers[e].css("background",labConfig.authoring?containerColors[t%containerColors.length]:"")}function createContainers(){var e,t,n,r,i;$containers={},$modelContainer=$interactiveContainer.find("#model-container"),$containers.model=$modelContainer;for(r=0,i=containers.length;r<i;r++){e=containers[r],t=e.id,$containers[t]=$("<div id='"+t+"'>").appendTo($interactiveContainer),$containers[t].css("display","inline-block");for(n in e){if(!e.hasOwnProperty(n))continue;/^padding-/.test(n)&&$containers[t].css(n,e[n])}}}function placeComponentsInContainers(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p;u=$.extend({},components);for(a=0,f=containers.length;a<f;a++){t=containers[a],componentLocations&&(n=componentLocations[t.id]);if(!n)continue;Object.prototype.toString.call(n[0])!=="[object Array]"&&(n=[n]);for(l=0,c=n.length;l<c;l++){r=n[l],i=$('<div class="interactive-'+t.id+'-row"/>'),i.css("width","100%"),c===1&&i.css("height","100%"),$containers[t.id].append(i);for(h=0,p=r.length;h<p;h++)e=r[h],u[e]!==undefined?(i.append(u[e].getViewContainer()),delete u[e]):alert("Incorrect layout definition. Component with ID '"+e+"'' is not defined.")}}s=getObject(containers,"bottom")||containers[containers.length-1];for(e in u){if(!u.hasOwnProperty(e))continue;o=$containers[s.id].children(),i=o.last(),i.length||(i=$('<div class="interactive-'+t.id+'-row"/>'),$containers[t.id].append(i)),i.append(u[e].getViewContainer())}}function positionContainers(){var e,t,n,r,i,s,o,u;$modelContainer.css({width:modelWidth,height:modelController.getHeightForWidth(modelWidth),left:modelLeft,top:modelTop,position:"absolute"});for(o=0,u=containers.length;o<u;o++)e=containers[o],t=$containers[e.id],!e.left&&!e.right&&(e.left="model.left"),!e.top&&!e.bottom&&(e.top="model.top"),!e.top&&!e.bottom&&(e.top="model.top"),!e.left&&!e.right&&(e.left="model.left"),e.left&&(n=parseDimension(e.left),t.css("left",n)),e.top&&(r=parseDimension(e.top),t.css("top",r)),e.height&&t.css("height",parseDimension(e.height)),e.width&&t.css("width",parseDimension(e.width)),e.right&&(i=parseDimension(e.right),n=i-t.outerWidth(),t.css("left",n)),e.bottom&&(s=parseDimension(e.bottom),r=s-t.outerHeight(),t.css("top",r)),t.css("position","absolute")}function resizeModelContainer(){var e=.3,t,n,r,i,s,o,u,a,f;if(isNaN(modelWidth)||modelWidth<minModelWidth)modelWidth=minModelWidth;isNaN(modelLeft)&&(modelLeft=0),isNaN(modelTop)&&(modelTop=0),maxY=-Infinity,maxX=-Infinity,minLeft=Infinity,minTop=Infinity;for(t in $containers){if(!$containers.hasOwnProperty(t))continue;n=$containers[t],r=getDimensionOfContainer(n,"right"),r>maxX&&(maxX=r),i=getDimensionOfContainer(n,"bottom"),i>maxY&&(maxY=i),o=getDimensionOfContainer(n,"left"),o<minLeft&&(minLeft=o),s=getDimensionOfContainer(n,"top"),s<minTop&&(minTop=s)}u=$interactiveContainer.width(),a=$interactiveContainer.height();if(maxX<=u&&maxY<=a&&(u-maxX<1||a-maxY<1)&&minLeft<1&&minTop<1)return!0;if(maxX>u||maxY>a)f=Math.min(1-e*(maxX-u)/u,1-e*(maxY-a)/a);return maxX<u&&maxY<a&&(f=Math.min(1+e*(u-maxX)/u,1+e*(a-maxY)/a)),f!==undefined&&(modelWidth*=f),modelWidth<minModelWidth&&(modelWidth=minModelWidth),modelLeft-=minLeft,modelTop-=minTop,!1}function parseDimension(dim){var vars,i,ii,value;if(typeof dim=="number"||/^[0-9]+(em)?$/
.test(dim))return dim;vars=dim.match(/[a-zA-Z\-]+\.[a-zA-Z]+/g);for(i=0,ii=vars.length;i<ii;i++)value=getDimension(vars[i]),dim=dim.replace(vars[i],value);return/^[^a-zA-Z]*$/.test(dim)?eval(dim):0}function getDimension(e){var t,n,r;return t=e.split(".")[0],t==="interactive"?n=$interactiveContainer:n=$containers[t],r=e.split(".")[1],getDimensionOfContainer(n,r)}function getObject(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].id===t)return e[n]}var layout={},$modelContainer,$containers,minLeft=Infinity,minTop=Infinity,maxX=-Infinity,maxY=-Infinity,modelWidth=minModelWidth,modelTop=0,modelLeft=0;return layout={layoutInteractive:function(){var e=0,t;setFontSize(),setMinDimensions(),modelWidth=$interactiveContainer.width(),positionContainers();while(e<35&&!resizeModelContainer())positionContainers(),e++;modelController.resize();for(t in components)components.hasOwnProperty(t)&&components[t].resize!==undefined&&components[t].resize();setupBackground()}},createContainers(),placeComponentsInContainers(),layout}}),define("common/layout/templates",[],function(){return{simple:[{id:"top",bottom:"model.top"},{id:"right",left:"model.right",height:"model.height","padding-left":"1em"},{id:"bottom",top:"model.bottom",width:"interactive.width","padding-bottom":"1em"}],"narrow-right":[{id:"top",bottom:"model.top"},{id:"right",left:"model.right",height:"model.height","padding-left":"1em",width:"model.width / 4","min-width":"6em"},{id:"bottom",top:"model.bottom",width:"interactive.width","padding-bottom":"1em"}],"wide-right":[{id:"top",bottom:"model.top"},{id:"right",left:"model.right",height:"model.height","padding-left":"1em",width:"model.width","min-width":"6em"},{id:"bottom",top:"model.bottom",width:"interactive.width","padding-bottom":"1em"}],"split-right":[{id:"top",bottom:"model.top"},{id:"right-top",left:"model.right",height:"model.height/2","padding-left":"1em"},{id:"right-bottom",left:"model.right",top:"model.top + model.height/2",height:"model.height/2","padding-left":"1em"},{id:"bottom",top:"model.bottom",width:"interactive.width","padding-top":"1em"}],"big-top":[{id:"top",bottom:"model.top",height:"model.height/3",width:"model.width + right.width","padding-bottom":"1em"},{id:"right",left:"model.right",height:"model.height","padding-left":"1em"},{id:"bottom",top:"model.bottom",width:"interactive.width","padding-top":"1em"}]}}),function(){define("cs!common/components/model_player",["require"],function(e){var t;return t=function(){function e(e){this.model=e}return e.prototype.play=function(){return this.model.resume()},e.prototype.stop=function(){return this.model.stop()},e.prototype.forward=function(){return this.stop(),this.model.stepForward()},e.prototype.back=function(){return this.stop(),this.model.stepBack()},e.prototype.seek=function(e){return this.stop(),this.model.seek(e)},e.prototype.reset=function(){return this.model.reset()},e.prototype.isPlaying=function(){return!this.model.is_stopped()},e}()})}.call(this),define("common/controllers/model-controller",["require","arrays","cs!common/components/model_player"],function(e){var t=e("arrays"),n=e("cs!common/components/model_player");return function(r,i,s,o,u,a,f,l,c){function b(){g.update()}function w(){var e=function(n,r){var i;for(i in n)r[i]===undefined?t.isArray(n[i])?r[i]=$.extend(!0,[],n[i]):typeof n[i]=="object"?r[i]=$.extend(!0,{},n[i]):r[i]=n[i]:typeof r[i]=="object"&&!(r[i]instanceof Array)&&(r[i]=e(n[i],r[i]));return r};v=$.extend(!0,{},o),v=e(s.viewOptions||{},v),d=$.extend(!0,{},u),d=e(s||{},d),d.viewOptions=v}function E(){m=new c(h)}function S(){w(),model=new a(d),model.resetTime(),model.on("tick",b)}function x(){model_player=new n(y,!1),model_player.forward=function(){model.stepForward(),model.isNewStep()||g.update()},model_player.back=function(){model.stepBack(),g.update()},g=new f(r,i,model)}function T(){g.reset(i,model)}function N(e,t,n,r){i=e||i,s=t||s,o=n||o,u=r||u,S(),T(),p.modelReset()}function C(){g.repaint()}function k(){g.resize()}function L(e){return g.getHeightForWidth(e)}function A(){return model.serialize()}var h={},p=d3.dispatch("modelReset"),d,v,m,g,y={resume:function(){model.resume()},stop:function(){model.stop()},reset:function(){model.stop(),model.reset&&model.reset(),N(i,s)},is_stopped:function(){return model.is_stopped()}};if(typeof DEVELOPMENT=="undefined")try{S()}catch(O){throw alert(O),new Error(O)}else S();return E(),x(),p.modelReset(),h.on=function(e,t){p.on(e,t)},h.reload=N,h.repaint=C,h.resize=k,h.getHeightForWidth=L,h.modelContainer=g,h.state=A,h.benchmarks=m,h.type=a.type,h.ScriptingAPI=l,h}}),define("common/array-types",["require","arrays"],function(e){var t=e("arrays"),n=function(){if(typeof navigator=="undefined")return!0;var e=/ AppleWebKit\/([0123456789.+]+) \(KHTML, like Gecko\) Version\/([0123456789.]+) (Safari)\/([0123456789.]+)/,t=navigator.userAgent.match(e);return!t||!t[3]}(),r=t.typed&&n;return{"float":r?"Float32Array":"regular",int32:r?"Int32Array":"regular",int16:r?"Int16Array":"regular",int8:r?"Int8Array":"regular",uint16:r?"Uint16Array":"regular",uint8:r?"Uint8Array":"regular"}}),define("md2d/models/engine/constants/units",["require","exports","module"],function(e,t,n){var r=1.66054e-27,i=1.602177e-19,s=i,o=1e-15,u=1e-9,a=10,f=1e3,l={TIME:"time",LENGTH:"length",MASS:"mass",ENERGY:"energy",ENTROPY:"entropy",CHARGE:"charge",INVERSE_QUANTITY:"inverse quantity",FARADS_PER_METER:"farads per meter",METERS_PER_FARAD:"meters per farad",FORCE:"force",VELOCITY:"velocity",AREA:"area",PRESSURE:"pressure"},c,h,p;t.unit=c={FEMTOSECOND:{name:"femtosecond",value:1,type:l.TIME},SECOND:{name:"second",value:o,type:l.TIME},NANOMETER:{name:"nanometer",value:1,type:l.LENGTH},ANGSTROM:{name:"Angstrom",value:1*a,type:l.LENGTH},METER:{name:"meter",value:1*u,type:l.LENGTH},DALTON:{name:"Dalton",value:1,type:l.MASS},GRAM:{name:"gram",value:1*r*f,type:l.MASS},KILOGRAM:{name:"kilogram",value:1*r,type:l.MASS},MW_ENERGY_UNIT:{name:"MW Energy Unit (Dalton * nm^2 / fs^2)",value:1,type:l.ENERGY},JOULE:{name:"Joule",value:r*u*u*(1/o)*(1/o),type:l.ENERGY},EV:{name:"electron volt",value:r*u*u*(1/o)*(1/o)*(1/s),type:l.ENERGY},EV_PER_KELVIN:{name:"electron volts per Kelvin",value:1,type:l.ENTROPY},JOULES_PER_KELVIN:{name:"Joules per Kelvin",value:1*s,type:l.ENTROPY},ELEMENTARY_CHARGE:{name:"elementary charge",value:1,type:l.CHARGE},COULOMB:{name:"Coulomb",value:i,type:l.CHARGE},INVERSE_MOLE:{name:"inverse moles",value:1,type:l.INVERSE_QUANTITY},FARADS_PER_METER:{name:"Farads per meter",value:1,type:l.FARADS_PER_METER},METERS_PER_FARAD:{name:"meters per Farad",value:1,type:l.METERS_PER_FARAD},MW_FORCE_UNIT:{name:"MW force units (Dalton * nm / fs^2)",value:1,type:l.FORCE},NEWTON:{name:"Newton",value:1*r*u*(1/o)*(1/o),type:l.FORCE},EV_PER_NM:{name:"electron volts per nanometer",value:1*r*u*u*(1/o)*(1/o)*(1/s),type:l.FORCE},MW_VELOCITY_UNIT:{name:"MW velocity units (nm / fs)",value:1,type:l.VELOCITY},METERS_PER_SECOND:{name:"meters per second",value:1*u*(1/o),type:l.VELOCITY}},t.ratio=h=function(e,t){var n=function(e,t){if(e.type!==t.type)throw new Error("Attempt to convert incompatible type '"+e.name+"'' to '"+t.name+"'")};if(t.per)return n(e,t.per),e.value/t.per.value;if(t.as)return n(e,t.as),t.as.value/e.value;throw new Error("units.ratio() received arguments it couldn't understand.")},t.convert=p=function(e,t){var n=t&&t.from,r=t&&t.to;if(!n)throw new Error('units.convert() did not receive a "from" argument');if(!r)throw new Error('units.convert() did not receive a "to" argument');return e*h(r,{per:n})}}),define("md2d/models/engine/constants/index",["require","exports","module","./units"],function(e,t,n){var r=e("./units"),i=r.unit,s=r.ratio,o=r.convert,u={ELEMENTARY_CHARGE:{value:1,unit:i.ELEMENTARY_CHARGE},ATOMIC_MASS:{value:1,unit:i.DALTON},BOLTZMANN_CONSTANT:{value:1.380658e-23,unit:i.JOULES_PER_KELVIN},AVAGADRO_CONSTANT:{value:s(i.DALTON,{per:i.GRAM}),unit:i.INVERSE_MOLE},PERMITTIVITY_OF_FREE_SPACE:{value:8.854187e-12,unit:i.FARADS_PER_METER}},a,f;u.COULOMB_CONSTANT={value:1/(4*Math.PI*u.PERMITTIVITY_OF_FREE_SPACE.value),unit:i.METERS_PER_FARAD},t.unit=i,t.ratio=s,t.convert=o;for(a in u)u.hasOwnProperty(a)&&(f=u[a],t[a]=function(e){return{as:function(t){return r.convert(e.value,{from:e.unit,to:t})}}}(f))}),define("md2d/models/aminoacids-props",[],function(){return[{fullName:"Alanine",abbreviation:"Ala",symbol:"A",molWeight:89.09,charge:0,hydrophobicityRB:2.15,pK:0,surface:115,volume:88.6,solubility:16.65,hydrophobicity:1,property:"Total aliphatic; hydrophobic"},{fullName:"Arginine",abbreviation:"Arg",symbol:"R",molWeight:174.2,charge:1,hydrophobicityRB:2.23,pK:12,surface:225,volume:173.4,solubility:15,hydrophobicity:-2,property:"Acidic side chains; strongly polar; cationic"},{fullName:"Asparagine",abbreviation:"Asn",symbol:"N",molWeight:132.12,charge:0,hydrophobicityRB:1.05,pK:0,surface:160,volume:114.1,solubility:3.53,hydrophobicity:-1,property:"Strongly polar"},{fullName:"Asparticacid",abbreviation:"Asp",symbol:"D",molWeight:133.1,charge:-1,hydrophobicityRB:1.13,pK:4.4,surface:150,volume:111.1,solubility:.778,hydrophobicity:-2,property:"Acidic side chains; strongly polar; anionic"},{fullName:"Cysteine",abbreviation:"Cys",symbol:"C",molWeight:121.15,charge:0,hydrophobicityRB:1.2,pK:8.5,surface:135,volume:108.5,solubility:1e3,hydrophobicity:1,property:"Polar side chains; semipolar"},{fullName:"Glutamine",abbreviation:"Gln",symbol:"Q",molWeight:146.15,charge:0,hydrophobicityRB:1.65,pK:0,surface:180,volume:143.8,solubility:2.5,hydrophobicity:-1,property:"Strongly polar"},{fullName:"Glutamicacid",abbreviation:"Glu",symbol:"E",molWeight:147.13,charge:-1,hydrophobicityRB:1.73,pK:4.4,surface:190,volume:138.4,solubility:.864,hydrophobicity:-2,property:"Acidic side chains; strongly polar; anionic"},{fullName:"Glycine",abbreviation:"Gly",symbol:"G",molWeight:75.07,charge:0,hydrophobicityRB:1.18,pK:0,surface:75,volume:60.1,solubility:24.99,hydrophobicity:1,property:"Semipolar"},{fullName:"Histidine",abbreviation:"His",symbol:"H",molWeight:155.16,charge:1,hydrophobicityRB:2.45,pK:6.5,surface:195,volume:153.2,solubility:4.19,hydrophobicity:-2,property:"Basic side chains; strongly polar; cationic"},{fullName:"Isoleucine",abbreviation:"Ile",symbol:"I",molWeight:131.17,charge:0,hydrophobicityRB:3.88,pK:0,surface:175,volume:166.7,solubility:4.117,hydrophobicity:1,property:"Branched chain aliphatic; hydrophobic"},{fullName:"Leucine",abbreviation:"Leu",symbol:"L",molWeight:131.17,charge:0,hydrophobicityRB:4.1,pK:10,surface:170,volume:166.7,solubility:2.426,hydrophobicity:1,property:"Branched chain aliphatic; hydrophobic"},{fullName:"Lysine",abbreviation:"Lys",symbol:"K",molWeight:146.19,charge:1,hydrophobicityRB:3.05,pK:0,surface:200,volume:168.6,solubility:1e3,hydrophobicity:-2,property:"Acidic side chains; strongly polar; cationic"},{fullName:"Methionine",abbreviation:"Met",symbol:"M",molWeight:149.21,charge:0,hydrophobicityRB:3.43,pK:0,surface:185,volume:162.9,solubility:3.81,hydrophobicity:1,property:"Totally alyphatic"},{fullName:"Phenylalanine",abbreviation:"Phe",symbol:"F",molWeight:165.19,charge:0,hydrophobicityRB:3.46,pK:0,surface:210,volume:189.9,solubility:2.965,hydrophobicity:2,property:"Totally aromatic"},{fullName:"Proline",abbreviation:"Pro",symbol:"P",molWeight:115.13,charge:0,hydrophobicityRB:3.1,pK:0,surface:145,volume:112.7,solubility:162.3,hydrophobicity:1,property:"Totally alyphatic"},{fullName:"Serine",abbreviation:"Ser",symbol:"S",molWeight:105.09,charge:0,hydrophobicityRB:1.4,pK:0,surface:115,volume:89,solubility:5.023,hydrophobicity:-1,property:"Semipolar"},{fullName:"Threonine",abbreviation:"Thr",symbol:"T",molWeight:119.12,charge:0,hydrophobicityRB:2.25,pK:0,surface:140,volume:116.1,solubility:1e3,hydrophobicity:-1,property:"Semipolar"},{fullName:"Tryptophan",abbreviation:"Trp",symbol:"W",molWeight:204.23,charge:0,hydrophobicityRB:4.11,pK:0,surface:255,volume:227.8,solubility:1.136,hydrophobicity:2,property:"Totally aromatic"},{fullName:"Tyrosine",abbreviation:"Tyr",symbol:"Y",molWeight:181.19,charge:0,hydrophobicityRB:2.81,pK:10,surface:230,volume:193.6,solubility:.045,hydrophobicity:1,property:"Hydrophobic; total aromatic"},{fullName:"Valine",abbreviation:"Val",symbol:"V",molWeight:117.15,charge:0,hydrophobicityRB:3.38,pK:0,surface:155,volume:140,solubility:8.85,hydrophobicity:1,property:"Branched chain aliphatic; hydrophobic"}]}),function(){define("cs!md2d/models/aminoacids-helper",["require","md2d/models/aminoacids-props"],function(e){var t,n,r;return r=e("md2d/models/aminoacids-props"),t=5,n={UUU:"Phe",UUC:"Phe",UUA:"Leu",UUG:"Leu",CUU:"Leu",CUC:"Leu",CUA:"Leu",CUG:"Leu",AUU:"Ile",AUC:"Ile",AUA:"Ile",AUG:"Met",GUU:"Val",GUC:"Val",GUA:"Val",GUG:"Val",UCU:"Ser",UCC:"Ser",UCA:"Ser",UCG:"Ser",AGU:"Ser",AGC:"Ser",CCU:"Pro",CCC:"Pro",CCA:"Pro",CCG:"Pro",ACU:"Thr",ACC:"Thr",ACA:"Thr",ACG:"Thr",GCU:"Ala",GCC:"Ala",GCA:"Ala",GCG:"Ala",UAU:"Tyr",UAC:"Tyr",CAU:"His",CAC:"His",CAA:"Gln",CAG:"Gln",AAU:"Asn",AAC:"Asn",AAA:"Lys",AAG:"Lys",GAU:"Asp",GAC:"Asp",GAA:"Glu",GAG:"Glu",UGU:"Cys",UGC:"Cys",UGG:"Trp",CGU:"Arg",CGC:"Arg",CGA:"Arg",CGG:"Arg",AGA:"Arg",AGG:"Arg",GGU:"Gly",GGC:"Gly",GGA:"Gly",GGG:"Gly",UAA:"STOP",UAG:"STOP",UGA:"STOP"},{firstElementID:t,lastElementID:t+r.length-1,cysteineElement:9,abbrToElement:function(e){var t,n,i,s;for(n=i=0,s=r.length;i<s;n=++i){t=r[n];if(t.abbreviation===e)return n+this.firstElementID}},getAminoAcidByElement:function(e){return r[e-this.firstElementID]},isAminoAcid:function(e){return e>=this.firstElementID&&e<=this.lastElementID},getPolarAminoAcids:function(){var e,t,n,r,i;r=["Asn","Gln","Ser","Thr"],i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.abbrToElement(e));return i},codonToAbbr:function(e){return n[e]}}})}.call(this),define("md2d/models/engine/math/distributions",["require","exports","module"],function(e,t,n){t.normal=function(){var e=null;return function(t,n){t==null&&(t=0),n==null&&(n=1);var r,i,s,o,u;return e?(i=e,e=null,i):(o=Math.random(),u=Math.random(),s=2*Math.PI*o,r=Math.sqrt(-2*Math.log(u)),e=t+n*r*Math.sin(s),t+n*r*Math.cos(s))}}()}),define("md2d/models/engine/math/utils",["require","exports","module"],function(e,t,n){t.getWindowedAverager=function(e){e==null&&(e=1e3);var t=0,n=[],r=0;return function(s){return r-=n[t]||0,r+=s,n[t]=s,++t===e&&(t=0),n.length===e?r/e:NaN}}}),define("md2d/models/engine/math/minimizer",["require","exports","module","common/console"],function(e,t,n){var r=e("common/console");t.minimize=function(e,t,n){n=n||{},n.precision==null&&(n.precision=.01);var i=n.precision,s=n.bounds,o=n.maxiter||1e3,u=n.stopval||-Infinity,a=n.maxstep||.01,f=n.eps||.01,l=t.length,c,h,p,d,v,m,g,y,b,w;m=a*a,c=[];for(b=0;b<l;b++)c[b]=t[b];h=e.apply(null,c),p=h[0],v=h[1],y=0;do{if(p<=u)break;if(y>o)return r.log("maxiter reached"),{error:"maxiter reached",f:p,iter:o,x:c};g=0;for(b=0;b<l;b++)g+=v[b]*v[b];if(f*f*g>m){w=Math.sqrt(m/g)/f;for(b=0;b<l;b++)v[b]=w*v[b]}for(b=0;b<l;b++)c[b]-=f*v[b],s&&c[b]<s[b][0]&&(c[b]=s[b][0]),s&&c[b]>s[b][1]&&(c[b]=s[b][1]);d=p,h=e.apply(null,c),p=h[0],v=h[1],y++}while(Math.abs(p-d)>i);return[p,c]}}),define("md2d/models/engine/math/index",["require","exports","module","./distributions","./utils","./minimizer"],function(e,t,n){t.normal=e("./distributions").normal,t.getWindowedAverager=e("./utils").getWindowedAverager,t.minimize=e("./minimizer").minimize}),define("md2d/models/engine/potentials/coulomb",["require","exports","module","../constants/index"],function(e,t,n){var r=e("../constants/index"),i=r.unit,s=.346,o=r.COULOMB_CONSTANT.as(r.unit.METERS_PER_FARAD),u=r.ratio(i.NANOMETER,{per:i.METER}),a=Math.pow(r.ratio(i.COULOMB,{per:i.ELEMENTARY_CHARGE}),2),f=r.ratio(i.EV,{per:i.JOULE}),l=r.ratio(i.MW_FORCE_UNIT,{per:i.NEWTON}),c=s*o*a*u*f,h=s*o*a*u*u*l,p=t.potential=function(e,t,n,r,i){return i&&r>1&&e<1.2&&(r=1+(r-1)/(1+Math.exp(-12*e+7))),c*(t*n/e)/r},d=t.forceFromSquaredDistance=function(e,t,n,r,i){var s=Math.sqrt(e);return i&&r>1&&s<1.2&&(r=1+(r-1)/(1+Math.exp(-12*s+7))),-h*(t*n/e)/r},v=t.forceOverDistanceFromSquaredDistance=function(e,t,n,r,i){return d(e,t,n,r,i)/Math.sqrt(e)},m=t.force=function(e,t,n,r,i){return d(e*e,t,n,r,i)}}),define("md2d/models/engine/potentials/lennard-jones",["require","exports","module","../constants/index"],function(e,t,n){var r=e("../constants/index"),i=r.unit,s=r.ratio(i.NANOMETER,{per:i.METER}),o=r.ratio(i.MW_FORCE_UNIT,{per:i.NEWTON});t.pairwiseEpsilon=function(e,t){return.5*(e+t)},t.pairwiseSigma=function(e,t){return Math.sqrt(e*t)},t.rmin=function(e){return Math.pow(2,1/6)*e},t.radius=function(e){return.5*e},t.newLJCalculator=function(e,n){var u,a,f,l,c,h,p,d=!1,v=function(e,v){u=e,a=v,f=t.rmin(a),u!=null&&a!=null&&(l=4*u*Math.pow(a,12),c=4*u*Math.pow(a,6),h=12*r.convert(l,{from:i.EV,to:i.JOULE})*s*o,p=6*r.convert(c,{from:i.EV,to:i.JOULE})*s*o),d&&typeof n=="function"&&n(m(),this)},m=function(){return{epsilon:u,sigma:a,rmin:f}},g=function(e){if(e==null||parseFloat(e)!==e)throw new Error("lennardJones: epsilon value "+e+" is invalid")},y=function(e){if(e==null||parseFloat(e)!==e||e<=0)throw new Error("lennardJones: sigma value "+e+" is invalid")},b;return g(e.epsilon),y(e.sigma),v(e.epsilon,e.sigma),d=!0,b={getCoefficients:m,setEpsilon:function(e){g(e),v(e,a)},setSigma:function(e){y(e),v(u,e)},potentialFromSquaredDistance:function(e){return e?l*Math.pow(e,-6)-c*Math.pow(e,-3):-Infinity},potential:function(e){return b.potentialFromSquaredDistance(e*e)},forceOverDistanceFromSquaredDistance:function(e){var t=1/e,n=t*t*t,r=n*t,i=r*n;return h*i-p*r},force:function(e){return e*b.forceOverDistanceFromSquaredDistance(e*e)}}}}),define("md2d/models/engine/potentials/index",["require","exports","module","./coulomb","./lennard-jones"],function(e,t,n){t.coulomb=e("./coulomb"),t.lennardJones=e("./lennard-jones")}),define("md2d/models/metadata",[],function(){return{mainProperties:{type:{defaultValue:"md2d",immutable:!0},width:{defaultValue:10,immutable:!0},height:{defaultValue:10,immutable:!0},lennardJonesForces:{defaultValue:!0},coulombForces:{defaultValue:!0},temperatureControl:{defaultValue:!1},targetTemperature:{defaultValue:300},modelSampleRate:{defaultValue:"default"},gravitationalField:{defaultValue:!1},timeStep:{defaultValue:1},dielectricConstant:{defaultValue:1},realisticDielectricEffect:{defaultValue:!0},solventForceFactor:{defaultValue:1.25},solventForceType:{defaultValue:0},additionalSolventForceMult:{defaultValue:4},additionalSolventForceThreshold:{defaultValue:10},polarAAEpsilon:{defaultValue:-2},viscosity:{defaultValue:1},viewRefreshInterval:{defaultValue:50}},viewOptions:{backgroundColor:{defaultValue:"#eeeeee"},showClock:{defaultValue:!0},keShading:{defaultValue:!1},chargeShading:{defaultValue:!1},useThreeLetterCode:{defaultValue:!0},aminoAcidColorScheme:{defaultValue:"hydrophobicity"},showChargeSymbols:{defaultValue:!0},showVDWLines:{defaultValue:!1},VDWLinesCutoff:{defaultValue:"medium"},showVelocityVectors:{defaultValue:!1},showForceVectors:{defaultValue:!1},showAtomTrace:{defaultValue:!1},atomTraceId:{defaultValue:0},images:{defaultValue:[]},imageMapping:{defaultValue:{}},textBoxes:{defaultValue:[]},fitToParent:{defaultValue:!1},xlabel:{defaultValue:!1},ylabel:{defaultValue:!1},xunits:{defaultValue:!1},yunits:{defaultValue:!1},controlButtons:{defaultValue:"play"},gridLines:{defaultValue:!1},atomNumbers:{defaultValue:!1},enableAtomTooltips:{defaultValue:!1},enableKeyboardHandlers:{defaultValue:!0},atomTraceColor:{defaultValue:"#6913c5"},velocityVectors:{defaultValue:{color:"#000",width:.01,length:2}},forceVectors:{defaultValue:{color:"#169C30",width:.01,length:2}}},atom:{x:{required:!0},y:{required:!0},element:{defaultValue:0},vx:{defaultValue:0},vy:{defaultValue:0},ax:{defaultValue:0,serialize:!1},ay:{defaultValue:0,serialize:!1},charge:{defaultValue:0},friction:{defaultValue:0},visible:{defaultValue:1},pinned:{defaultValue:0},marked:{defaultValue:0},draggable:{defaultValue:0},radius:{readOnly:!0,serialize:!1},px:{readOnly:!0,serialize:!1},py:{readOnly:!0,serialize:!1},speed:{readOnly:!0,serialize:!1}},element:{mass:{defaultValue:120},sigma:{defaultValue:.3},epsilon:{defaultValue:-0.1},radius:{readOnly:!0,serialize:!1},color:{defaultValue:-855310}},pairwiseLJProperties:{element1:{defaultValue:0},element2:{defaultValue:0},sigma:{},epsilon:{}},obstacle:{width:{required:!0},height:{required:!0},x:{defaultValue:0},y:{defaultValue:0},mass:{defaultValue:Infinity},vx:{defaultValue:0},vy:{defaultValue:0},externalFx:{defaultValue:0},externalFy:{defaultValue:0},friction:{defaultValue:0},westProbe:{defaultValue:!1},westProbeValue:{readOnly:!0,serialize:!1},northProbe:{defaultValue:!1},northProbeValue:{readOnly:!0,serialize:!1},eastProbe:{defaultValue:!1},eastProbeValue:{readOnly:!0,serialize:!1},southProbe:{defaultValue:!1},southProbeValue:{readOnly:!0,serialize:!1},colorR:{defaultValue:128},colorG:{defaultValue:128},colorB:{defaultValue:128},visible:{defaultValue:!0}},radialBond:{atom1:{defaultValue:0},atom2:{defaultValue:0},length:{required:!0},strength:{required:!0},type:{defaultValue:101}},angularBond:{atom1:{defaultValue:0},atom2:{defaultValue:0},atom3:{defaultValue:0},strength:{required:!0},angle:{required:!0}},restraint:{atomIndex:{required:!0},k:{defaultValue:2e3},x0:{defaultValue:0},y0:{defaultValue:0}},geneticProperties:{DNA:{defaultValue:""},DNAComplement:{readOnly:!0,serialize:!1},mRNA:{immutable:!0},translationStep:{immutable:!0},x:{defaultValue:.01},y:{defaultValue:.01},height:{defaultValue:.12},width:{defaultValue:.08}},textBox:{text:{defaultValue:""},x:{defaultValue:0},y:{defaultValue:0},layer:{defaultValue:1},width:{},frame:{},color:{},backgroundColor:{},hostType:{},hostIndex:{},textAlign:{}}}}),function(){var e={}.hasOwnProperty;define("cs!md2d/models/engine/pairwise-lj-properties",["require","md2d/models/metadata","common/validator"],function(t){var n,r,i;return r=t("md2d/models/metadata"),i=t("common/validator"),n=function(){function t(e){this._engine=e,this._data={}}return t.prototype.registerChangeHooks=function(e,t){return this._changePreHook=e,this._changePostHook=t},t.prototype.set=function(t,n,s){var o;s=i.validate(r.pairwiseLJProperties,s),this._changePreHook(),this._data[t]==null&&(this._data[t]={}),this._data[n]==null&&(this._data[n]={}),this._data[t][n]==null&&(this._data[t][n]=this._data[n][t]={});for(o in s){if(!e.call(s,o))continue;this._data[t][n][o]=s[o]}return this._engine.setPairwiseLJProperties(t,n),this._changePostHook()},t.prototype.remove=function(e,t){return this._changePreHook(),delete this._data[e][t],delete this._data[t][e],this._engine.setPairwiseLJProperties(e,t),this._changePostHook()},t.prototype.get=function(e,t){return this._data[e]&&this._data[e][t]?this._data[e][t]:void 0},t.prototype.deserialize=function(e){var t,n,s,o,u;for(o=0,u=e.length;o<u;o++)s=e[o],s=i.validateCompleteness(r.pairwiseLJProperties,s),t=s.element1,n=s.element2,delete s.element1,delete s.element2,this.set(t,n,s)},t.prototype.serialize=function(){var t,n,r,i,s,o;s=[],o=this._data;for(n in o){if(!e.call(o,n))continue;t=o[n];for(r in t){if(!e.call(t,r))continue;n<r&&(i=this.get(n,r),i.element1=Number(n),i.element2=Number(r),s.push(i))}}return s},t.prototype.clone=function(){return $.extend(!0,{},this._data)},t.prototype.restore=function(t){var n,r,i,s;this._data=t,s=this._data;for(r in s){if(!e.call(s,r))continue;n=s[r];for(i in n){if(!e.call(n,i))continue;r<i&&this._engine.setPairwiseLJProperties(r,i)}}},t}()})}.call(this),define("common/serialize",["require","arrays"],function(e){var t=e("arrays"),n=function(e){var r,i;if(t.isArray(e)){for(r=0,i=e.length;r<i;r++)if(e[r]===Infinity||e[r]===-Infinity)e[r]=e[r].toString()}else for(r in e)if(e.hasOwnProperty(r)){if(e[r]===Infinity||e[r]===-Infinity)e[r]=e[r].toString();(typeof e[r]=="object"||t.isArray(e[r]))&&n(e[r])}};return function(r,i,s){var o={},u,a;for(u in r)r.hasOwnProperty(u)&&i[u]!==undefined&&r[u].serialize!==!1&&(a=i[u],t.isArray(a)?o[u]=s!==undefined?t.copy(t.extend(a,s),[]):t.copy(a,[]):typeof a=="object"?o[u]=$.extend(!0,{},a):o[u]=a);return n(o),o}}),define("md2d/models/engine/genetic-properties",["require","common/validator","common/serialize","md2d/models/metadata","cs!md2d/models/aminoacids-helper"],function(e){var t=e("common/validator"),n=e("common/serialize"),r=e("md2d/models/metadata"),i=e("cs!md2d/models/aminoacids-helper"),s=t.ValidationError;return function(){var o,u,a,f,l,c=d3.dispatch("change"),h=function(){var e=f.DNA.replace(/A/g,"t").replace(/G/g,"c").replace(/T/g,"a").replace(/C/g,"g");f.DNAComplement=e.toUpperCase()},p=function(e){if(e.DNA){e.DNA=e.DNA.toUpperCase();if(e.DNA.search(/[^AGTC]/)!==-1)throw new s("DNA","DNA code on sense strand can be defined using only A, G, T or C characters.")}return e},d=function(e){u(),e=t.validateCompleteness(r.geneticProperties,e),e=p(e),f=e,h(),a(),c.change()},v=function(e){var n;u(),e=t.validate(r.geneticProperties,e),e=p(e);for(n in e)e.hasOwnProperty(n)&&(f[n]=e[n]);e.DNA&&(h(),delete f.mRNA,delete f.translationStep),a(),c.change()};return o={registerChangeHooks:function(e,t){u=e,a=t},set:function(e){f===undefined?d(e):v(e)},get:function(){return f},deserialize:function(e){d(e)},serialize:function(){return f?n(r.geneticProperties,f):undefined},validate:function(e){var n={valid:!0};try{e=t.validate(r.geneticProperties,e),p(e)}catch(i){n.valid=!1,n.errors={},n.errors[i.prop]=i.message}return n},on:function(e,t){c.on(e,t)},transcribeDNA:function(){u();var e=f.DNAComplement.replace(/A/g,"u").replace(/G/g,"c").replace(/T/g,"a").replace(/C/g,"g");f.mRNA=e.toUpperCase(),a(),c.change()},translate:function(){var e=[],t,n,r,s;f.mRNA===undefined&&o.transcribeDNA(),t=f.mRNA;for(r=0,s=t.length;r+3<=s;r+=3){n=i.codonToAbbr(t.substr(r,3));if(n==="STOP"||n===undefined)return e;e.push(n)}return e},translateStepByStep:function(){var e,t;return u(),e=o.translate(),f.translationStep===undefined?f.translationStep=0:f.translationStep+=1,t=e[f.translationStep],t===undefined&&(f.translationStep="end"),a(),c.change(),t}},o}}),define("common/models/engines/clone-restore-wrapper",["require","arrays"],function(e){var t=e("arrays");return function(n){return{clone:function(){var e={},r;for(r in n)n.hasOwnProperty(r)&&(e[r]=t.clone(n[r]));return e},restore:function(e){var r;for(r in n)n.hasOwnProperty(r)&&t.copy(e[r],n[r])}}}}),define("md2d/models/engine/cell-list",[],function(){return function(t,n,r){var i,s,o,u,a,f=function(){var e;s=Math.ceil(t/r),o=Math.ceil(n/r),u=s*o,a=new Array(u);for(e=0;e<u;e++)a[e]=[]};return f(),i={reinitialize:function(e){e!==r&&(r=e,f())},addToCell:function(e,t,n){var i=Math.floor(n/r)*s+Math.floor(t/r);a[i].push(e)},getCell:function(e){return a[e]},getRowsNum:function(){return o},getColsNum:function(){return s},getNeighboringCells:function(e,t){var n=e*s+t,r=[];return t+1<s&&e+1<o&&r.push(a[n+s+1]),t+1<s&&r.push(a[n+1]),t+1<s&&e-1>=0&&r.push(a[n-s+1]),e-1>=0&&r.push(a[n-s]),r},clear:function(){var e;for(e=0;e<u;e++)a[e].length=0}},i}}),define("md2d/models/engine/neighbor-list",["require","arrays","common/array-types"],function(e){var t=e("arrays"),n=e("common/array-types");return function(r,i){var s,o,u,a,f,l,c,h,p,d,v=function(){o=r+10,u=0,a=o*(o-1)/2,d=!0,f=t.create(a,0,n.int16),l=t.create(o,-1,n.int16),c=t.create(o,-1,n.int16),h=t.create(o,Infinity,n.float),p=t.create(o,Infinity,n.float)};return v(),s={reinitialize:function(e,t){r=e,i=t,d=!0,r>o&&v()},clear:function(){var e;u=0;for(e=0;e<r;e++)l[e]=c[e]=-1},getList:function(){return f},markNeighbors:function(e,t){l[e]<0&&(l[e]=u),f[u]=t,u++,c[e]=u},getStartIdxFor:function(e){return l[e]},getEndIdxFor:function(e){return c[e]},saveAtomPosition:function(e,t,n){h[e]=t,p[e]=n},invalidate:function(){d=!0},shouldUpdate:function(e,t){var n=-Infinity,s=-Infinity,o;if(d)return d=!1,!0;for(o=0;o<r;o++)Math.abs(e[o]-h[o])>n&&(n=Math.abs(e[o]-h[o])),Math.abs(t[o]-p[o])>s&&(s=Math.abs(t[o]-p[o]));return Math.sqrt(n*n+s*s)>i}},s}}),define("md2d/models/engine/md2d",["require","exports","module","arrays","common/array-types","common/console","./constants/index","cs!md2d/models/aminoacids-helper","./math/index","./potentials/index","./potentials/index","cs!./pairwise-lj-properties","./genetic-properties","common/models/engines/clone-restore-wrapper","./cell-list","./neighbor-list"],function(e,t,n){var r=e("arrays"),i=e("common/array-types"),s=e("common/console"),o=e("./constants/index"),u=o.unit,a=e("cs!md2d/models/aminoacids-helper"),f=e("./math/index"),l=e("./potentials/index").coulomb,c=e("./potentials/index").lennardJones,h=e("cs!./pairwise-lj-properties"),p=e("./genetic-properties"),d=e("common/models/engines/clone-restore-wrapper"),v=e("./cell-list"),m=e("./neighbor-list"),g=-120*o.BOLTZMANN_CONSTANT.as(u.EV_PER_KELVIN),y=.34,b=39.95,w=o.convert(b,{from:u.DALTON,to:u.KILOGRAM}),E=o.BOLTZMANN_CONSTANT.as(u.JOULES_PER_KELVIN),S=function(e,t,n,r){return e*r-t*n},x=function(e,t){return e*e+t*t},T=function(e,t){var n=2*t,r=2/n*e,i=o.convert(r,{from:u.MW_ENERGY_UNIT,to:u.JOULE});return i/E},N=function(e,t){var n=2*t,r=e*E,i=o.convert(r,{from:u.JOULE,to:u.MW_ENERGY_UNIT}),s=i*n/2;return s},C=function(e){var t=parseFloat(e);if(isNaN(t))throw new Error("md2d: requested temperature "+e+" could not be understood.");if(t<0)throw new Error("md2d: requested temperature "+t+" was less than zero");if(t===Infinity)throw new Error("md2d: requested temperature was Infinity!")};t.createEngine=function(){var e,t=!1,n=!1,g=1,y=!0,b=0,w=1,E=25,N=3,k=!0,L=!1,A=1.67,O=!1,M=!1,_,D=.001,P=[10,10],H,B=0,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt=0,it,st,ot,ut,at,ft,lt=0,ct=[],ht,pt,dt,vt,mt,gt,yt,bt,wt,Et=0,St,xt,Tt,Nt,Ct,kt=0,Lt,At,Ot,Mt,_t,Dt,Pt=0,Ht,Bt,jt,Ft,It,qt,Rt,Ut,zt,Wt,Xt,Vt,$t,Jt,Kt,Qt,Gt,Yt,Zt,en,tn,nn,rn,sn,on,un=0,an,fn,ln,cn,hn,pn,dn,vn,mn,gn,yn=0,bn,wn,En,Sn,xn,Tn,Nn,Cn,kn,Ln,An,On,Mn,_n=2,Dn=[],Pn=2.5,Hn=[],Bn=[],jn=!1,Fn=[],In=[],qn=function(){Qn(0),Gn(0),er(0),Yn(0),Zn(0),tr(0),nr(0),rr(0),ht=new h(e),an=new p,wt=[],bt=e.radialBondResults=[]},Rn=function(){throw new Error("md2d: Don't change the epsilon or sigma parameters of the LJ calculator being used by MD2D. Use the setElementProperties method instead.")},Un=function(e,t){var n=st[e],r=st[t],i=ot[e],s=ot[t],o=ht.get(e,t),u,a;o&&o.epsilon!==undefined?u=o.epsilon:u=c.pairwiseEpsilon(n,r),o&&o.sigma!==undefined?a=o.sigma:a=c.pairwiseSigma(i,s),Dn[e][t]=Dn[t][e]=_n*a*_n*a,Hn[e][t]=Hn[t][e]=Pn*a*Pn*a,Bn[e][t]=Bn[t][e]=c.newLJCalculator({epsilon:u,sigma:a},Rn)},zn=function(){var e=0,t,n,r,i;for(r=0;r<lt;r++)for(i=0;i<=r;i++)ct[r]&&ct[i]&&(t=ht.get(r,i),t&&t.sigma!==undefined?n=t.sigma:n=c.pairwiseSigma(ot[r],ot[i]),Pn*n>e&&(e=Pn*n));return e||Math.max(P[0],P[1])},Wn=function(){var e=Infinity,t,n,r,i;for(r=0;r<lt;r++)for(i=0;i<=r;i++)ct[r]&&ct[i]&&(t=ht.get(r,i),t&&t.sigma!==undefined?n=t.sigma:n=c.pairwiseSigma(ot[r],ot[i]),(Pn-_n)*n<e&&(e=(Pn-_n)*n));return e},Xn=function(){bn===undefined?bn=new v(P[0],P[1],zn()):bn.reinitialize(zn())},Vn=function(){wn===undefined?wn=new m(rt,Wn()):wn.reinitialize(rt,Wn())},$n=function(){var e,t,n;wt=[];for(e=0;e<Et;e++)t=pt[e],n=dt[e],wt[t]=wt[t]||[],wt[t][n]=!0,wt[n]=wt[n]||[],wt[n][t]=!0},Jn=function(e,t){var n,i;if(Array.isArray(e))for(n=0,i=e.length;n<i;n++)r.isArray(e[n])&&(e[n]=r.extend(e[n],t));else for(n in e)e.hasOwnProperty(n)&&r.isArray(e[n])&&(e[n]=r.extend(e[n],t))},Kn={atoms:function(){I=nt.radius,q=nt.px,R=nt.py,U=nt.x,z=nt.y,W=nt.vx,X=nt.vy,V=nt.speed,$=nt.ax,J=nt.ay,K=nt.charge,G=nt.friction,Q=nt.element,Y=nt.pinned,Z=nt.mass,et=nt.hydrophobicity,tt=nt.visited},radialBonds:function(){pt=yt.atom1,dt=yt.atom2,vt=yt.length,mt=yt.strength,gt=yt.type},restraints:function(){St=Ct.atomIndex,xt=Ct.k,Tt=Ct.x0,Nt=Ct.y0},angularBonds:function(){Lt=Dt.atom1,At=Dt.atom2,Ot=Dt.atom3,Mt=Dt.angle,_t=Dt.strength},elements:function(){it=ft.mass,st=ft.epsilon,ot=ft.sigma,ut=ft.radius,at=ft.color},obstacles:function(){Ht=on.x,Bt=on.y,jt=on.width,Ft=on.height,Wt=on.mass,It=on.vx,qt=on.vy,Rt=on.externalFx,Ut=on.externalFy,zt=on.friction,Xt=on.westProbe,Vt=on.northProbe,$t=on.eastProbe,Jt=on.southProbe,tn=on.westProbeValue,nn=on.northProbeValue,rn=on.eastProbeValue,sn=on.southProbeValue,Zt=on.xPrev,en=on.yPrev,Kt=on.colorR,Qt=on.colorG,Gt=on.colorB,Yt=on.visible},springForces:function(){pn=gn[0],dn=gn[1],vn=gn[2],mn=gn[3]},vdwPairs:function(){cn=fn.atom1,hn=fn.atom2}},Qn=function(t){ft=e.elements={},ft.mass=r.create(t,0,i.float),ft.epsilon=r.create(t,0,i.float),ft.sigma=r.create(t,0,i.float),ft.radius=r.create(t,0,i.float),ft.color=r.create(t,0,i.Int32Array),Kn.elements()},Gn=function(t){nt=e.atoms={},nt.radius=r.create(t,0,i.float),nt.px=r.create(t,0,i.float),nt.py=r.create(t,0,i.float),nt.x=r.create(t,0,i.float),nt.y=r.create(t,0,i.float),nt.vx=r.create(t,0,i.float),nt.vy=r.create(t,0,i.float),nt.speed=r.create(t,0,i.float),nt.ax=r.create(t,0,i.float),nt.ay=r.create(t,0,i.float),nt.charge=
r.create(t,0,i.float),nt.friction=r.create(t,0,i.float),nt.element=r.create(t,0,i.uint8),nt.pinned=r.create(t,0,i.uint8),nt.mass=r.create(t,0,i.float),nt.hydrophobicity=r.create(t,0,i.int8),nt.visited=r.create(t,0,i.uint8),nt.marked=r.create(t,0,i.uint8),nt.visible=r.create(t,0,i.uint8),nt.draggable=r.create(t,0,i.uint8),Kn.atoms()},Yn=function(t){yt=e.radialBonds={},yt.atom1=r.create(t,0,i.uint16),yt.atom2=r.create(t,0,i.uint16),yt.length=r.create(t,0,i.float),yt.strength=r.create(t,0,i.float),yt.type=r.create(t,0,i.uint8),Kn.radialBonds()},Zn=function(t){Ct=e.restraints={},Ct.atomIndex=r.create(t,0,i.uint16),Ct.k=r.create(t,0,i.float),Ct.x0=r.create(t,0,i.float),Ct.y0=r.create(t,0,i.float),Kn.restraints()},er=function(t){Dt=e.angularBonds={},Dt.atom1=r.create(t,0,i.uint16),Dt.atom2=r.create(t,0,i.uint16),Dt.atom3=r.create(t,0,i.uint16),Dt.angle=r.create(t,0,i.float),Dt.strength=r.create(t,0,i.float),Kn.angularBonds()},tr=function(t){fn=e.vdwPairs={},fn.count=0,fn.atom1=r.create(t,0,i.uint16),fn.atom2=r.create(t,0,i.uint16)},nr=function(t){gn=e.springForces=[],gn[0]=r.create(t,0,i.uint16),gn[1]=r.create(t,0,i.float),gn[2]=r.create(t,0,i.float),gn[3]=r.create(t,0,i.float),Kn.springForces()},rr=function(t){on=e.obstacles={},on.x=r.create(t,0,i.float),on.y=r.create(t,0,i.float),on.width=r.create(t,0,i.float),on.height=r.create(t,0,i.float),on.mass=r.create(t,0,i.float),on.vx=r.create(t,0,i.float),on.vy=r.create(t,0,i.float),on.externalFx=r.create(t,0,i.float),on.externalFy=r.create(t,0,i.float),on.friction=r.create(t,0,i.float),on.westProbe=r.create(t,0,i.uint8),on.northProbe=r.create(t,0,i.uint8),on.eastProbe=r.create(t,0,i.uint8),on.southProbe=r.create(t,0,i.uint8),on.westProbeValue=r.create(t,0,i.float),on.northProbeValue=r.create(t,0,i.float),on.eastProbeValue=r.create(t,0,i.float),on.southProbeValue=r.create(t,0,i.float),on.xPrev=r.create(t,0,i.float),on.yPrev=r.create(t,0,i.float),on.colorR=r.create(t,0,i.float),on.colorG=r.create(t,0,i.float),on.colorB=r.create(t,0,i.float),on.visible=r.create(t,0,i.uint8),Kn.obstacles()},ir,sr=function(){return n&&jn?1e3:1e3},or=function(){M=!0,ir=f.getWindowedAverager(sr())},ur=function(){var e=0,t;for(t=0;t<rt;t++)e+=Z[t]*(W[t]*W[t]+X[t]*X[t]);for(t=0;t<un;t++)Wt[t]!==Infinity&&(e+=Wt[t]*(It[t]*It[t]+qt[t]*qt[t]));return T(e/2,rt)},ar=function(e,t,n){W[e]+=t,X[e]+=n,q[e]=W[e]*Z[e],R[e]=X[e]*Z[e]},fr=function(e,t){W[e]-=t*(z[e]-xn),X[e]+=t*(U[e]-Sn),q[e]=W[e]*Z[e],R[e]=X[e]*Z[e]},lr=function(){for(var e=0;e<rt;e++)ar(e,-Cn,-kn),fr(e,-On)},cr=function(){var t=0,n=0,r=0,i=0,s=e.getTotalMass(),o;for(o=0;o<rt;o++)t+=U[o],n+=z[o],r+=q[o],i+=R[o];Sn=t/rt,xn=n/rt,Tn=r,Nn=i,Cn=r/s,kn=i/s},hr=function(){var e=0,t=0,n,r;for(r=0;r<rt;r++)n=Z[r],e+=n*S(U[r]-Sn,z[r]-xn,W[r]-Cn,X[r]-kn),t+=n*x(U[r]-Sn,z[r]-xn);Ln=e,An=t,On=Ln/An},pr=function(){cr(),hr()},dr=function(e){var t=0,n=0,r=P[0],i=P[1],s=r-jt[e],o=i-Ft[e];if(Ht[e]<t){while(Ht[e]<t-r)Ht[e]+=r;Ht[e]=t+(t-Ht[e]),It[e]*=-1}else if(Ht[e]>s){while(Ht[e]>s+r)Ht[e]-=r;Ht[e]=s-(Ht[e]-s),It[e]*=-1}if(Bt[e]<n){while(Bt[e]<n-i)Bt[e]+=i;Bt[e]=n+(n-Bt[e]),qt[e]*=-1}else if(Bt[e]>o){while(Bt[e]>o+r)Bt[e]-=r;Bt[e]=o-(Bt[e]-o),qt[e]*=-1}},vr=function(e){var t=I[e],n=t,r=t,i=P[0],s=P[1],o=i-t,u=s-t;if(U[e]<n){while(U[e]<n-i)U[e]+=i;U[e]=n+(n-U[e]),W[e]*=-1,q[e]*=-1}else if(U[e]>o){while(U[e]>o+i)U[e]-=i;U[e]=o-(U[e]-o),W[e]*=-1,q[e]*=-1}if(z[e]<r){while(z[e]<r-s)z[e]+=s;z[e]=r+(r-z[e]),X[e]*=-1,R[e]*=-1}else if(z[e]>u){while(z[e]>u+s)z[e]-=s;z[e]=u-(z[e]-u),X[e]*=-1,R[e]*=-1}},mr=function(e,t,n,r){if(un<1)return;var i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;i=I[e],s=U[e],o=z[e];for(u=0;u<un;u++)a=Ht[u]-i,f=Ht[u]+jt[u]+i,l=Bt[u]+Ft[u]+i,c=Bt[u]-i,h=Zt[u]-i,p=Zt[u]+jt[u]+i,d=en[u]+Ft[u]+i,v=en[u]-i,x=0,s>a&&s<f&&o>c&&o<l&&(t<=h?(U[e]=a-(s-a),x=1):t>=p?(U[e]=f+(f-s),x=2):n<=v?(z[e]=c-(o-c),x=-1):n>=d&&(z[e]=l+(l-o),x=-2)),E=Wt[u],x!==0&&(E!==Infinity?(w=Z[e],S=E+w,x>0?(m=W[e],y=It[u],W[e]=(m*(w-E)+2*E*y)/S,It[u]=(y*(E-w)+2*q[e])/S):(g=X[e],b=qt[u],X[e]=(g*(w-E)+2*E*b)/S,qt[u]=(b*(E-w)+2*R[e])/S)):x>0?W[e]*=-1:X[e]*=-1,r&&(Xt[u]&&x===1?tn[u]+=Z[e]*((m?m:-W[e])-W[e]):$t[u]&&x===2?rn[u]+=Z[e]*(W[e]-(m?m:-W[e])):Jt[u]&&x===-1?sn[u]+=Z[e]*((g?g:-X[e])-X[e]):Vt[u]&&x===-2&&(nn[u]+=Z[e]*(X[e]-(g?g:-X[e])))))},gr=function(e,t){if(wt&&wt[e]&&wt[e][t])return;var n=Q[e],r=Q[t],i=U[t]-U[e],s=z[t]-z[e],o=i*i+s*s,u,a,f;En&&o<Hn[n][r]&&wn.markNeighbors(e,t),o<Dn[n][r]&&(u=Bn[n][r].forceOverDistanceFromSquaredDistance(o),a=u*i,f=u*s,$[e]+=a,J[e]+=f,$[t]-=a,J[t]-=f)},yr=function(){if(!k)return;En?(s.time("cell lists"),br(),s.timeEnd("cell lists")):(s.time("neighbor list"),wr(),s.timeEnd("neighbor list"))},br=function(){var e=bn.getRowsNum(),t=bn.getColsNum(),n,r,i,s,o,u,a,f,l,c,h,p,d,v;for(n=0;n<e;n++){i=n*t;for(r=0;r<t;r++){s=i+r,o=bn.getCell(s),v=bn.getNeighboringCells(n,r);for(a=0,c=o.length;a<c;a++){l=o[a];for(f=0;f<a;f++)gr(l,o[f]);for(p=0,d=v.length;p<d;p++){u=v[p];for(f=0,h=u.length;f<h;f++)gr(l,u[f])}}}}},wr=function(){var e=wn.getList(),t,n,r,i;for(t=0;t<rt;t++)for(r=wn.getStartIdxFor(t),i=wn.getEndIdxFor(t);r<i;r++)n=e[r],gr(t,n)},Er=function(){if(!n||!jn)return;var e,t,r,i,s,o,u,a,f,c,h,p,d;for(e=0,r=Fn.length;e<r;e++){h=Fn[e],c=K[h],d=wt&&wt[h];for(t=0;t<e;t++){p=Fn[t];if(d&&d[p])continue;i=U[p]-U[h],s=z[p]-z[h],o=i*i+s*s,u=l.forceOverDistanceFromSquaredDistance(o,c,K[p],g,y),a=u*i,f=u*s,$[h]+=a,J[h]+=f,$[p]-=a,J[p]-=f}}},Sr=function(){if(!H)return;var e,t;for(e=0;e<rt;e++)t=H*G[e],$[e]+=-W[e]*t,J[e]+=-X[e]*t},xr=function(){if(Et<1)return;var e,t,n,r,i,s,a,f,l,c,h,p;for(e=0;e<Et;e++)t=pt[e],n=dt[e],r=U[n]-U[t],i=z[n]-z[t],s=r*r+i*i,a=Math.sqrt(s),f=mt[e],l=vt[e],c=o.convert(f*(a-l),{from:u.EV_PER_NM,to:u.MW_FORCE_UNIT})/a,h=c*r,p=c*i,$[t]+=h,J[t]+=p,$[n]-=h,J[n]-=p},Tr=function(){if(Pt<1)return;var e,t,n,r,i,s,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T;for(e=0;e<Pt;e++)t=Lt[e],n=At[e],r=Ot[e],v=Mt[e],d=_t[e],i=U[t]-U[r],a=U[n]-U[r],s=z[t]-z[r],f=z[n]-z[r],l=i*i+s*s,c=a*a+f*f,h=Math.sqrt(l),p=Math.sqrt(c),g=(i*a+s*f)/(h*p),g>1?g=1:g<-1&&(g=-1),y=Math.sqrt(1-g*g),m=Math.acos(g),y<1e-4&&(y=1e-4),x=o.convert(d*(m-v)/(y*h),{from:u.EV_PER_NM,to:u.MW_FORCE_UNIT})/p,T=i*a+s*f,b=x*(a-T*i/l),w=x*(f-T*s/l),E=x*(i-T*a/c),S=x*(s-T*f/c),$[t]+=b,J[t]+=w,$[n]+=E,J[n]+=S,$[r]-=b+E,J[r]-=w+S},Nr=function(){if(kt<1)return;var e,t,n,r,i,s,a,f,l,c;for(e=0;e<kt;e++){c=St[e],t=Tt[e]-U[c],n=Nt[e]-z[c];if(t===0&&n===0)continue;i=t*t+n*n,r=Math.sqrt(i),s=xt[e],a=o.convert(s*r,{from:u.EV_PER_NM,to:u.MW_FORCE_UNIT})/r,f=a*t,l=a*n,$[c]+=f,J[c]+=l}},Cr=function(){if(yn<1)return;var e,t,n,r,i,s,a,f,l,c;for(e=0;e<yn;e++){c=pn[e],t=dn[e]-U[c],n=vn[e]-z[c];if(t===0&&n===0)continue;i=t*t+n*n,r=Math.sqrt(i),s=mn[e],a=o.convert(s*r,{from:u.EV_PER_NM,to:u.MW_FORCE_UNIT})/r,f=a*t,l=a*n,$[c]+=f,J[c]+=l}},kr=function(e){var t=0,n=0,r=0,i,s,o,u;for(o=0,u=e.length;o<u;o++)i=e[o],s=Z[i],t+=U[i]*s,n+=z[i]*s,r+=s;return t/=r,n/=r,{x:t,y:n}},Lr=function(){if(b===0||w===0||rt<2)return;var t,n,r,i,s,o,u,a,f,l,c,h,p;for(c=0;c<rt;c++)tt[c]=0;i=6e-5*b*w;for(c=0;c<rt;c++){if(tt[c]===1)continue;t=e.getMoleculeAtoms(c),t.push(c),r=kr(t);for(h=0,p=t.length;h<p;h++)n=t[h],tt[n]=1,et[n]!==0&&(s=U[n]-r.x,o=z[n]-r.y,u=Math.sqrt(s*s+o*o),l=et[n]*i,l>0&&u<N&&(l*=(1-E)*u/N+E),a=l*s/u,f=l*o/u,$[n]-=a,J[n]-=f)}},Ar=function(){if(!O)return;var e;for(e=0;e<rt;e++)J[e]-=O},Or=function(){var e=a.cysteineElement,t,n;In.length=0;for(n=0;n<rt;n++)Q[n]===e&&In.push(n);for(n=0;n<Et;n++)Q[pt[n]]===e&&Q[dt[n]]===e&&(t=In.indexOf(pt[n]),t!==-1&&r.remove(In,t),t=In.indexOf(dt[n]),t!==-1&&r.remove(In,t))},Mr=function(){var e,t;if(rt===0)return;for(e=0;e<rt;e++)$[e]=J[e]=0;En=wn.shouldUpdate(U,z);if(En){bn.clear(),wn.clear();for(e=0;e<rt;e++)bn.addToCell(e,U[e],z[e]),wn.saveAtomPosition(e,U[e],z[e])}s.time("short-range forces"),yr(),s.timeEnd("short-range forces"),s.time("long-range forces"),Er(),s.timeEnd("long-range forces"),xr(),Tr(),Nr(),Cr(),Sr(),Lr();for(e=0;e<rt;e++)t=1/Z[e],$[e]*=t,J[e]*=t;Ar()},_r=function(){var e,t;for(e=0;e<rt;e++)t=Z[e],W[e]+=.5*$[e]*j,q[e]=t*W[e],X[e]+=.5*J[e]*j,R[e]=t*X[e]},Dr=function(){var e=P[0]*100,t=P[1]*100,n,r,i;for(i=0;i<rt;i++){n=U[i],r=z[i],U[i]+=W[i]*j,z[i]+=X[i]*j;if(isNaN(U[i])||isNaN(z[i])||Math.abs(U[i])>e||Math.abs(z[i])>t)throw new Error("Model has diverged!");vr(i),mr(i,n,r,!0)}},Pr=function(){var e;for(e=0;e<rt;e++)Y[e]&&(W[e]=X[e]=$[e]=J[e]=0)},Hr=function(){var e;for(e=0;e<rt;e++)V[e]=Math.sqrt(W[e]*W[e]+X[e]*X[e])},Br=function(){var e,t,n,r,i,s,o,u;for(u=0;u<un;u++){if(Wt[u]===Infinity)continue;n=It[u],r=qt[u],s=Rt[u],o=Ut[u];if(n||r||s||o||O)i=H*zt[u],e=s-i*n,t=o-i*r-O,Zt[u]=Ht[u],en[u]=Bt[u],Ht[u]+=n*j+.5*e*F,Bt[u]+=r*j+.5*t*F,It[u]+=e*j,qt[u]+=t*j,dr(u)}},jr=function(){var t,n,r,i,s,o,u,a;for(o=0;o<rt;o++)tt[o]=0;for(o=0;o<rt;o++){if(tt[o]===1)continue;t=e.getMoleculeAtoms(o);if(t.length===0)continue;t.push(o),r=i=s=0;for(u=0,a=t.length;u<a;u++)n=t[u],tt[n]=1,Y[n]||(r+=W[n]*Z[n],i+=X[n]*Z[n],s+=Z[n]);s=1/s;for(u=0,a=t.length;u<a;u++)n=t[u],Y[n]||(W[n]-=r*s,X[n]-=i*s,q[n]=W[n]*Z[n],R[n]=X[n]*Z[n])}},Fr=function(e,t){var n,r;e==null&&(e=_),Mn=ur();if(Mn===0){for(r=0;r<rt;r++)Y[r]===!1&&(W[r]=Math.random()*.02-.01,X[r]=Math.random()*.02-.01);Mn=ur();if(Mn===0)return}M&&Math.abs(ir(Mn)-e)<=e*D&&(M=!1);if(t||L||M&&Mn>0){n=Math.sqrt(e/Mn);for(r=0;r<rt;r++)W[r]*=n,X[r]*=n,q[r]*=n,R[r]*=n;for(r=0;r<un;r++)It[r]*=n,qt[r]*=n;Mn=e}},Ir=function(){var t,n,i,s,o,u,a,f;for(u=0,f=In.length;u<f;u++){t=In[u];for(a=u+1;a<f;a++)n=In[a],i=U[t]-U[n],s=z[t]-z[n],o=i*i+s*s,o<.07&&(e.addRadialBond({atom1:t,atom2:n,length:Math.sqrt(o),strength:1e4,type:109}),r.remove(In,u),r.remove(In,a),f=In.length,t=In[u],a=u+1)}},qr=function(){var e;for(e=0;e<un;e++)Vt[e]&&(nn[e]=0),Jt[e]&&(sn[e]=0),$t[e]&&(rn[e]=0),Xt[e]&&(tn[e]=0)},Rr=function(e){var t,n;t=13888.89/e;for(n=0;n<un;n++)Vt[n]&&(nn[n]*=t/jt[n]),Jt[n]&&(sn[n]*=t/jt[n]),$t[n]&&(rn[n]*=t/Ft[n]),Xt[n]&&(tn[n]*=t/Ft[n])};return e={useCoulombInteraction:function(e){n=!!e},useLennardJonesInteraction:function(e){k=!!e},useThermostat:function(e){L=!!e},setVDWLinesRatio:function(e){typeof e=="number"&&e!==0&&(A=e)},setGravitationalField:function(e){typeof e=="number"&&e!==0?O=e:O=!1},setTargetTemperature:function(e){C(e),_=e},setDielectricConstant:function(e){g=e},setRealisticDielectricEffect:function(e){y=e},setSolventForceType:function(e){b=e},setSolventForceFactor:function(e){w=e},setAdditionalSolventForceMult:function(e){E=e},setAdditionalSolventForceThreshold:function(e){N=e},setTime:function(e){B=e},setSize:function(e){if(t)throw new Error("The molecular model's size has already been set, and cannot be reset.");var n=e[0]&&e[0]>0?e[0]:10,r=e[1]&&e[1]>0?e[1]:10;P=[n,r],t=!0},getSize:function(){return[P[0],P[1]]},getLJCalculator:function(){return Bn},setAtomProperties:function(t,n){var r=a.cysteineElement,i,s,o,u,f;if(n.element!==undefined){if(n.element<0||n.element>=lt)throw new Error("md2d: Unknown element "+n.element+", an atom can't be created.");if(Q[t]===r&&n.element!==r)for(f=0;f<Et;f++)if((pt[f]===t||dt[f]===t)&&gt[f]===109){e.removeRadialBond(f);break}ct[n.element]=!0,n.mass=it[n.element],n.radius=ut[n.element],a.isAminoAcid(n.element)&&(u=a.getAminoAcidByElement(n.element),n.charge=u.charge,n.hydrophobicity=u.hydrophobicity)}!K[t]&&n.charge?Fn.push(t):K[t]&&n.charge===0&&(s=Fn.indexOf(t),o=Fn.slice(s+1),Fn.length=s,Array.prototype.push.apply(Fn,o)),jn=!!Fn.length;for(i in n)n.hasOwnProperty(i)&&(nt[i][t]=n[i]);q[t]=W[t]*Z[t],R[t]=X[t]*Z[t],V[t]=Math.sqrt(W[t]*W[t]+X[t]*X[t])},setRadialBondProperties:function(e,t){var n,r,i;r=pt[e],i=dt[e],wt[r]&&wt[r][i]&&(wt[r][i]=!1),wt[i]&&wt[i][r]&&(wt[i][r]=!1);for(n in t)t.hasOwnProperty(n)&&(yt[n][e]=t[n],bt[e][n]=t[n]);r=pt[e],i=dt[e],wt[r]||(wt[r]=[]),wt[r][i]=!0,wt[i]||(wt[i]=[]),wt[i][r]=!0},setAngularBondProperties:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(Dt[n][e]=t[n])},setRestraintProperties:function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&(Ct[n][e]=t[n])},setElementProperties:function(e,t){var n,r;if(t.mass!=null&&t.mass!==it[e]){it[e]=t.mass;for(n=0;n<rt;n++)Q[n]===e&&(Z[n]=t.mass)}if(t.sigma!=null){ot[e]=t.sigma,r=c.radius(t.sigma);if(ut[e]!==r){ut[e]=r;for(n=0;n<rt;n++)Q[n]===e&&(I[n]=r)}}t.epsilon!=null&&(st[e]=t.epsilon),t.color!=null&&(at[e]=t.color);for(n=0;n<lt;n++)Un(e,n);Xn(),Vn()},setPairwiseLJProperties:function(e,t){Un(e,t),Xn(),Vn()},setObstacleProperties:function(t,n){var r;if(!e.canPlaceObstacle(n.x,n.y,n.width,n.height,t))throw new Error("Obstacle can't be placed at "+n.x+", "+n.y);n.x!==undefined&&(n.xPrev=n.x),n.y!==undefined&&(n.yPrev=n.y),typeof n.mass=="string"&&(n.mass=parseFloat(n.mass));for(r in n)n.hasOwnProperty(r)&&(on[r][t]=n[r])},addAtom:function(t){rt+1>nt.x.length&&(Jn(nt,rt+10),Kn.atoms()),t.ax=t.ay=0,rt++,e.setAtomProperties(rt-1,t),Xn(),Vn()},removeAtom:function(t){var n,i,s,o,u,a;if(t>=rt)throw new Error("Atom "+t+" doesn't exist, so it can't be removed.");n=0;while(n<Et)pt[n]===t||dt[n]===t?e.removeRadialBond(n):n++;n=Fn.indexOf(t),n!==-1&&r.remove(Fn,n);for(n=t;n<rt;n++)for(s in nt)nt.hasOwnProperty(s)&&(n===rt-1?nt[s][n]=0:nt[s][n]=nt[s][n+1]);rt--,a=[Fn,pt,dt,Lt,At,Ot];for(o=0;o<a.length;o++){u=a[o];for(n=0,i=u.length;n<i;n++)u[n]>t&&u[n]--}for(n=0,i=bt.length;n<i;n++)bt[n].atom1>t&&bt[n].atom1--,bt[n].atom2>t&&bt[n].atom2--;$n(),Xn(),Vn(),wn.invalidate(),Mr()},addElement:function(e){var t;lt>=st.length&&(Jn(ft,lt+10),Kn.elements()),it[lt]=e.mass,st[lt]=e.epsilon,ot[lt]=e.sigma,ut[lt]=c.radius(e.sigma),at[lt]=e.color,Bn[lt]=[],Dn[lt]=[],Hn[lt]=[];for(t=0;t<=lt;t++)Un(lt,t);lt++},addRadialBond:function(t){Et+1>pt.length&&(Jn(yt,Et+10),Kn.radialBonds()),Et++,bt[Et-1]={idx:Et-1},e.setRadialBondProperties(Et-1,t)},removeRadialBond:function(t){var n,i,s,o;if(t>=Et)throw new Error("Radial bond "+t+" doesn't exist, so it can't be removed.");s=pt[t],o=dt[t],n=0;while(n<Pt)Ot[n]===s||Ot[n]===o?e.removeAngularBond(n):n++;for(n=t;n<Et;n++)for(i in yt)yt.hasOwnProperty(i)&&(n===Et-1?yt[i][n]=0:yt[i][n]=yt[i][n+1]);Et--,r.remove(bt,t),$n()},addRestraint:function(t){kt+1>Ct.atomIndex.length&&(Jn(Ct,kt+10),Kn.restraints()),kt++,e.setRestraintProperties(kt-1,t)},addAngularBond:function(t){Pt+1>Dt.atom1.length&&(Jn(Dt,Pt+10),Kn.angularBonds()),Pt++,e.setAngularBondProperties(Pt-1,t)},removeAngularBond:function(e){var t,n;if(e>=Pt)throw new Error("Angular bond "+e+" doesn't exist, so it can't be removed.");for(t=e;t<Pt;t++)for(n in Dt)Dt.hasOwnProperty(n)&&(t===Pt-1?Dt[n][t]=0:Dt[n][t]=Dt[n][t+1]);Pt--},addSpringForce:function(e,t,n,r){return yn+1>gn[0].length&&(Jn(gn,yn+1),Kn.springForces()),pn[yn]=e,dn[yn]=t,vn[yn]=n,mn[yn]=r,yn++},updateSpringForce:function(e,t,n){dn[e]=t,vn[e]=n},removeSpringForce:function(e){if(e>=yn)return;yn--},springForceAtomIndex:function(e){return pn[e]},addObstacle:function(t){if(!e.canPlaceObstacle(t.x,t.y,t.width,t.height))throw new Error("Obstacle can't be placed at "+t.x+", "+t.y+".");un+1>on.x.length&&(Jn(on,un+1),Kn.obstacles()),un++,e.setObstacleProperties(un-1,t)},removeObstacle:function(e){var t,n;if(e>=un)throw new Error("Obstacle "+e+" doesn't exist, so it can't be removed.");un--;for(t=e;t<un;t++)for(n in on)on.hasOwnProperty(n)&&(on[n][t]=on[n][t+1]);Jn(on,un),Kn.obstacles()},atomInBounds:function(e,t,n){var r=I[n],i;if(e<r||e>P[0]-r||t<r||t>P[1]-r)return!1;for(i=0;i<un;i++)if(e>Ht[i]-r&&e<Ht[i]+jt[i]+r&&t>Bt[i]-r&&t<Bt[i]+Ft[i]+r)return!1;return!0},canPlaceAtom:function(t,n,r,i){var s,o,u;return e.atomInBounds(n,r,i)?(typeof i=="number"&&(s=U[i],o=z[i],U[i]=z[i]=Infinity),u=e.newPotentialCalculator(t,0,!1)(n,r),typeof i=="number"&&(U[i]=s,z[i]=o),u<=0):!1},canPlaceObstacle:function(e,t,n,r,i){var s=e+n,o=t+r,u,a,f,l,c,h;if(e<0||s>P[0]||t<0||o>P[0])return!1;for(h=0;h<rt;h++){c=I[h];if(U[h]>e-c&&U[h]<s+c&&z[h]>t-c&&z[h]<o+c)return!1}for(h=0;h<un;h++){if(i!==undefined&&i===h)continue;u=Ht[h],a=Bt[h],f=u+jt[h],l=a+Ft[h];if(s>u&&e<f&&o>a&&t<l)return!1}return!0},setupAtomsRandomly:function(t){var n=t.temperature||100,r=Math.floor(Math.sqrt(rt)),i=Math.ceil(rt/r),s,o,u,a,l,c,h,p;C(n),l=P[0]/(1+i),a=P[1]/(1+r),s=-1;for(o=1;o<=r;o++)for(u=1;u<=i;u++){s++;if(s===rt)break;c=f.normal(1,.25),h=2*Math.random()*Math.PI,p={element:Math.floor(Math.random()*t.userElements),x:u*l,y:o*a,vx:c*Math.cos(h),vy:c*Math.sin(h),charge:2*(s%2)-1},e.setAtomProperties(s,p)}pr(),lr(),Fr(n,!0)},generateProtein:function(t,n){var r=P[0],i=P[1],s=0,o=0,u=a.lastElementID-a.firstElementID+1,f,l,c,h,p,d=.6,v=function(e){return e>i-d||e<d?.1:.02-Math.random()*.04},m=.3,g=function(e,t){return t===0?e>.5*P[1]?-0.1:.1:c>i-m||c<m?0:t},y=function(){return Math.floor(u*Math.random())+a.firstElementID};t!==undefined&&(n=t.length);while(rt>0)e.removeAtom(rt-1);l=.1,c=.1,h=t?a.abbrToElement(t[0]):y(),e.addAtom({x:l,y:c,element:h,visible:!0}),e.minimizeEnergy();for(f=1;f<n;f++){l=U[rt-1],c=z[rt-1],s=v(c),o=g(c,o),l+=s,c+=o;if(l>r-.1)return f;h=t?a.abbrToElement(t[f]):y(),e.addAtom({x:l,y:c,element:h,visible:!0}),p=(I[rt-1]+I[rt-2])*1.25,e.addRadialBond({atom1:rt-1,atom2:rt-2,length:p,strength:1e4}),e.minimizeEnergy()}s=(r-l)/2;for(f=0;f<rt;f++)U[f]+=s;return f},extendProtein:function(t,n,r){var i=a.lastElementID-a.firstElementID+1,s=P[0]/2,o=P[1]/2,u,f,l,c=function(){return Math.floor(i*Math.random())+a.firstElementID},h,p,d=function(){var e=0,t,n;h=p=0;for(n=0;n<rt;n++)t=Z[n],h+=U[n]*t,p+=z[n]*t,e+=t;h/=e,p/=e};t=t!==undefined?t:s/10,n=n!==undefined?n:o/2;if(rt===0)u=r?a.abbrToElement(r):c(),e.addAtom({x:t,y:n,element:u,pinned:!0,visible:!0}),e.minimizeEnergy();else{d();for(l=0;l<rt;l++)Y[l]=!1,U[l]+=(s-h)/5+Math.random()*.04-.02,z[l]+=(o-p)/5+Math.random()*.04-.02;u=r?a.abbrToElement(r):c(),e.addAtom({x:t,y:n,element:u,pinned:!0,visible:!0}),f=(I[rt-1]+I[rt-2])*1.25,e.addRadialBond({atom1:rt-1,atom2:rt-2,length:f,strength:1e4}),e.minimizeEnergy()}},getVdwPairsArray:function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v=A*A;ln=0;for(e=0;e<rt;e++){c=Q[e],u=ot[c],a=ot[c],s=U[e],o=z[e];for(t=e+1;t<rt;t++){if(Et!==0&&wt[e]&&wt[e][t])continue;h=Q[t],f=ot[h],l=ot[h],K[e]*K[t]<=0&&(n=U[t]-s,r=z[t]-o,i=n*n+r*r,p=.5*(u+f),p*=p,d=a*l,i<p*v&&d>0&&(ln+1>fn.atom1.length&&(Jn(fn,(ln+1)*2),Kn.vdwPairs()),cn[ln]=e,hn[ln]=t,ln++))}}return fn.count=ln,fn},relaxToTemperature:function(t){t!=null&&(_=t),C(_),or();while(M)e.integrate()},integrate:function(e,t){var n,r,i=B;e===undefined&&(e=100),t===undefined&&(t=1),j=t,F=j*j,Or(),B===0&&Mr(),n=Math.floor(e/j),qr();for(r=1;r<=n;r++)B=i+r*j,_r(),Dr(),Mr(),Pr(),_r(),Hr(),Br(),Fr(),b!==0&&jr();Rr(e),Ir()},minimizeEnergy:function(){var e=.001,t=1e-4,n=3e3,r,i,s,o,u,a;Mr(),Pr(),r=0;for(u=0;u<rt;u++)r<Math.abs($[u])&&(r=Math.abs($[u])),r<Math.abs(J[u])&&(r=Math.abs(J[u]));a=0;while(r>t&&a<n){a++,i=e/r;for(u=0;u<rt;u++)s=U[u],o=z[u],U[u]+=$[u]*i,z[u]+=J[u]*i,vr(u),mr(u,s,o,!1);Mr(),Pr(),r=0;for(u=0;u<rt;u++)r<Math.abs($[u])&&(r=Math.abs($[u])),r<Math.abs(J[u])&&(r=Math.abs(J[u]))}},getTotalMass:function(){var e=0,t;for(t=0;t<rt;t++)e+=Z[t];return e},getRadiusOfElement:function(e){return ut[e]},getNumberOfAtoms:function(){return rt},getNumberOfElements:function(){return lt},getNumberOfObstacles:function(){return un},getNumberOfRadialBonds:function(){return Et},getNumberOfAngularBonds:function(){return Pt},getNumberOfRestraints:function(){return kt},computeOutputState:function(e){var t,r,i,s,a,f,c,h,p,d,v,m,b,w,E,S,x,N,C,L,A,M,_,D;D=0,_=0;for(t=0;t<rt;t++){O&&(M=Z[t]*O*z[t],D+=o.convert(M,{from:u.MW_ENERGY_UNIT,to:u.EV})),_+=.5*Z[t]*(W[t]*W[t]+X[t]*X[t]);for(r=t+1;r<rt;r++)h=U[r]-U[t],p=z[r]-z[t],S=h*h+p*p,k&&(D-=Bn[Q[t]][Q[r]].potentialFromSquaredDistance(S)),n&&jn&&(D+=l.potential(Math.sqrt(S),K[t],K[r],g,y))}for(t=0;t<Et;t++)i=pt[t],s=dt[t],f=Q[i],c=Q[s],h=U[s]-U[i],p=z[s]-z[i],S=h*h+p*p,C=mt[t],L=Math.sqrt(S)-vt[t],D+=.5*C*L*L,k&&(D+=Bn[f][c].potentialFromSquaredDistance(S)),n&&K[i]&&K[s]&&(D-=l.potential(Math.sqrt(S),K[i],K[s],g,y)),bt[t].x1=U[i],bt[t].y1=z[i],bt[t].x2=U[s],bt[t].y2=z[s];for(t=0;t<Pt;t++)i=Lt[t],s=At[t],a=Ot[t],d=U[i]-U[a],m=U[s]-U[a],v=z[i]-z[a],b=z[s]-z[a],x=Math.sqrt(d*d+v*v),N=Math.sqrt(m*m+b*b),w=(d*m+v*b)/(x*N),w>1?w=1:w<-1&&(w=-1),E=Math.acos(w),A=E-Mt[t],D+=.5*_t[t]*A*A;for(t=0;t<kt;t++)i=St[t],f=Q[i],h=Tt[t]-U[i],p=Nt[t]-z[i],S=h*h+p*p,C=xt[t],L=Math.sqrt(S),D+=.5*C*L*L;for(t=0;t<un;t++)Wt[t]!==Infinity&&(O&&(M=Wt[t]*O*Bt[t],D+=o.convert(M,{from:u.MW_ENERGY_UNIT,to:u.EV})),_+=.5*Wt[t]*(It[t]*It[t]+qt[t]*qt[t]));Mn=T(_,rt),e.time=B,e.PE=D,e.KE=o.convert(_,{from:u.MW_ENERGY_UNIT,to:u.EV}),e.temperature=Mn,e.pCM=[Tn,Nn],e.CM=[Sn,xn],e.vCM=[Cn,kn],e.omega_CM=On},newPotentialCalculator:function(e,t,r){return function(i,s){var a=0,f=0,c=0,h,p,d=Bn[e],v,m,b,w,E,S,x;for(v=0;v<rt;v++)m=i-U[v],b=s-z[v],w=m*m+b*b,S=0,k&&(x=d[Q[v]],a+=-x.potentialFromSquaredDistance(w,e,Q[v]),r&&(S+=x.forceOverDistanceFromSquaredDistance(w))),n&&jn&&t&&(E=Math.sqrt(w),a+=-l.potential(E,t,K[v],g,y),r&&(S+=l.forceOverDistanceFromSquaredDistance(w,t,K[v],g,y))),S&&(f+=S*m,c+=S*b);return r?(h=o.convert(f,{from:u.MW_FORCE_UNIT,to:u.EV_PER_NM}),p=o.convert(c,{from:u.MW_FORCE_UNIT,to:u.EV_PER_NM}),[a,[h,p]]):a}},findMinimumPELocation:function(t,n,r,i){var s=e.newPotentialCalculator(t,i,!0),o=ut[t],u=f.minimize(s,[n,r],{bounds:[[o,P[0]-o],[o,P[1]-o]]});return u.error?!1:u[1]},findMinimumPESquaredLocation:function(t,n,r,i){var s=e.newPotentialCalculator(t,i,!0),o=function(e,t){var n,r,i;return n=s(e,t),r=n[0],i=n[1],i[0]*=2*r,i[1]*=2*r,[r*r,i]},u=ut[t],a=f.minimize(o,[n,r],{bounds:[[u,P[0]-u],[u,P[1]-u]],stopval:1e-4,precision:1e-6});return a.error?!1:a[1]},atomsInMolecule:[],depth:0,getMoleculeAtoms:function(e){this.atomsInMolecule.push(e);var t=[],n=this.getBondedAtoms(e),r=this.depth,i,s,o;this.depth++;for(i=0,s=n.length;i<s;i++)o=n[i],~this.atomsInMolecule.indexOf(o)||(t=t.concat(this.getMoleculeAtoms(o)));return r===0?(this.depth=0,this.atomsInMolecule=[]):t.push(e),t},getBondedAtoms:function(e){var t=[],n,r;if(yt)for(n=0,r=Et;n<r;n++)pt[n]===e&&t.push(dt[n]),dt[n]===e&&t.push(pt[n]);return t},getAtomKineticEnergy:function(e){var t=.5*Z[e]*(W[e]*W[e]+X[e]*X[e]);return o.convert(t,{from:u.MW_ENERGY_UNIT,to:u.EV})},getAtomNeighbors:function(e){var t=[],n=wn.getList(),r,i;for(r=wn.getStartIdxFor(e),i=wn.getEndIdxFor(e);r<i;r++)t.push(n[r]);return t},getNeighborList:function(){return wn},setViscosity:function(e){H=e},getState:function(){return[new d(ft),new d(nt),new d(on),new d(yt),new d(Dt),new d(Ct),new d(gn),ht,{clone:function(){return B},restore:function(t){e.setTime(t)}}]}},qn(),e.pairwiseLJProperties=ht,e.geneticProperties=an,e}}),define("common/models/tick-history",[],function(){return function(t,n,r){function l(){return{input:{},state:[],parameters:{}}}function c(){o=[],u={length:0,maxSize:r,index:-1,counter:-1,startCounter:0}}function h(e){var r,i,s,o,u;for(r=0;r<t.input.length;r++)i=t.input[r],e.input[i]=n.get(i);o=t.parameters;for(u in o)o.hasOwnProperty(u)&&o[u].isDefined&&(e.parameters[u]=n.get(u));s=t.state;for(r=0;r<s.length;r++)e.state[r]=s[r].clone()}function p(){var e=l(),t;h(e),o[u.index+1]=e,o.length>u.maxSize?(o.splice(0,1),u.startCounter++):u.index++,u.counter=u.index+u.startCounter;for(t=0;t<f.length;t++)f[t].push();d(),u.length=o.length}function d(){var e;o.length=u.index+1,u.length=o.length;for(e=0;e<f.length;e++)f[e].invalidate(u.index)}function v(e){var n,r;t.restoreProperties(e.input),t.restoreParameters(e.parameters),r=e.state;for(n=0;n<r.length;n++)t.state[n].restore(r[n]);for(n=0;n<f.length;n++)f[n].extract(u.index)}function m(e){if(e<0)throw new Error("TickHistory: extract index ["+e+"] less than 0");if(e>=o.length)throw new Error("TickHistory: extract index ["+e+"] greater than list.length: "+o.length);return e}var i={},s,o,u,a=1e3,f=[];return i.isEmpty=function(){return u.index===0},i.push=function(){p()},i.returnTick=function(e){var t;return typeof e=="number"?t=e:t=u.index,m(t),o[t]},i.extract=function(e){var t;typeof e=="number"?t=e:t=u.index,m(t),v(o[t])},i.restoreInitialState=function(){c(),v(s),p()},i.reset=c,i.decrementExtract=function(){u.counter>u.startCounter&&(u.index--,u.counter--,v(o[u.index]))},i.incrementExtract=function(){u.index++,u.counter++,v(o[u.index])},i.seekExtract=function(e){e<u.startCounter&&(e=u.startCounter),e>=u.startCounter+u.length&&(e=u.startCounter+u.length-1),u.counter=e,u.index=e-u.startCounter,v(o[u.index])},i.invalidateFollowingState=d,i.get=function(e){return u[e]},i.set=function(e,t){return u[e]=t},i.registerExternalObject=function(e){e.setHistoryLength(u.maxSize),f.push(e)},r==null&&(r=a),s=l(),h(s),c(),p(),i}}),function(){define("cs!md2d/models/running-average-filter",["require"],function(e){var t;return t=function(){function e(e){this.periodLength=e,this._value=[],this._time=[],this._idx=-1,this._maxBufferLength=this.periodLength}return e.prototype.addSample=function(e,t){var n;if(this._time[this._idx]===e){this._value[this._idx]=t;return}if(this._time[this._idx]>e)throw new Error("RunningAverageFilter: cannot add sample with @_time less than previous sample.");this._idx++,this._value.push(t),this._time.push(e),n=[];while(this._value.length>this._maxBufferLength)this._time.shift(),this._value.shift(),n.push(this._idx--);return n},e.prototype.calculate=function(){var e,t,n,r,i,s;t=Math.max(this._time[this._idx]-this.periodLength,0),s=0,i=0,e=this._idx;while(e>0&&this._time[e-1]>=t)r=this._time[e]-this._time[e-1],i+=r,s+=r*(this._value[e-1]+this._value[e])/2,e--;return e>0&&this._time[e]>t&&this._time[e-1]<t&&(r=this._time[e]-t,i+=r,n=this._value[e-1]+(this._value[e]-this._value[e-1])*(t-this._time[e-1])/(this._time[e]-this._time[e-1]),s+=r*(this._value[e]+n)/2),i?s/i:this._value[0]||0},e.prototype.getCurrentBufferLength=function(){return this._value.length},e.prototype.setMaxBufferLength=function(e){return this._maxBufferLength=e},e.prototype.getCurrentTime=function(){return this._time[this._idx]},e.prototype.getCurrentStep=function(){return this._idx},e.prototype.setCurrentStep=function(e){if(e<-1||e>=this._value.length)throw new Error("RunningAverageFilter: cannot seek, location outside available range.");return this._idx=e},e.prototype.invalidate=function(e){return this._value.length=e+1,this._time.length=e+1},e}()})}.call(this),function(){define("cs!md2d/models/solvent",["require"],function(e){var t,n;return n={vacuum:{forceType:0,dielectricConstant:1,color:"#eee"},oil:{forceType:-1,dielectricConstant:10,color:"#f5f1dd"},water:{forceType:1,dielectricConstant:80,color:"#a5d9da"}},t=function(){function e(e){var t,r,i;this.type=e,r=n[this.type];if(r==null)throw new Error("Solvent: unknown type. Use 'vacuum', 'oil' or 'water'.");for(t in r)i=r[t],this[t]=i}return e}()})}.call(this),define("md2d/models/modeler",["require","arrays","common/console","md2d/models/engine/md2d","md2d/models/metadata","common/models/tick-history","cs!md2d/models/running-average-filter","cs!md2d/models/solvent","common/serialize","common/validator","md2d/models/aminoacids-props","cs!md2d/models/aminoacids-helper","md2d/models/engine/constants/units","underscore"],function(e){var t=e("arrays"),n=e("common/console"),r=e("md2d/models/engine/md2d"),i=e("md2d/models/metadata"),s=e("common/models/tick-history"),o=e("cs!md2d/models/running-average-filter"),u=e("cs!md2d/models/solvent"),a=e("common/serialize"),f=e("common/validator"),l=e("md2d/models/aminoacids-props"),c=e("cs!md2d/models/aminoacids-helper"),h=e("md2d/models/engine/constants/units"),p=e("underscore");return function(d){function $(e){e=p.uniq(e);for(var t=0,n=e.length;t<n;t++)e[t]()}function J(e){var t,n,r=[],i,s;typeof e=="string"?n=[e]:n=e;for(i=0,s=n.length;i<s;i++)t=n[i],q[t]&&(r=r.concat(q[t]));q.all&&(r=r.concat(q.all)),$(r)}function K(e){var t,n=[],r;for(t in e)if(e.hasOwnProperty(t)){if(z[t])throw new Error('Attempt to restore output property "'+t+'".');r=e[t],R[t]!==r&&(R["set_"+t]?R["set_"+t](r):R[t]=r,n.push(t))}J(n)}function Q(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&(R[t]!==e[t]||!V[t].isDefined)&&(R[t]=e[t],V[t].isDefined=!0,n.push(t));for(t in V)V.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(V[t].isDefined=!1,R[t]=undefined);J(n)}function G(){var e,t=0,n=v.get_num_atoms();e=-1;while(++e<n)t+=k.atoms.speed[e];return t/n}function Y(e,t){var r=v.get("timeStep"),i=k.getNumberOfRadialBonds(),s,o;return b||(s=Date.now(),x?(o=s-x,T.push(o),T.splice(0,T.length-128)):x=s),n.time("integration"),k.integrate(v.get("viewRefreshInterval")*r,r),n.timeEnd("integration"),n.time("reading model state"),tt(),n.timeEnd("reading model state"),n.time("tick history push"),C.push(),n.timeEnd("tick history push"),E=!0,t||m.tick(),i<k.getNumberOfRadialBonds()&&m.addRadialBond(),b}function Z(){var e,t,n=0,r=T.length;e=-1;while(++e<r)n+=T[e];return t=n/r,t?1/t*1e3:0}function et(e){var t,n=[];for(t in e)if(e.hasOwnProperty(t)&&e[t]!==undefined&&e[t]!==null){if(z[t])throw new Error('Attempt to set read-only output property "'+t+'".');R["set_"+t]?R["set_"+t](e[t]):R[t]=e[t],n.push(t)}J(n)}function tt(){var e,t,n;ot();for(e=0;e<U.length;e++)z[U[e]].hasCachedValue=!1;for(e=0;e<W.length;e++)X[W[e]].addSample();for(e=0;e<U.length;e++)if(n=q[U[e]])for(t=0;t<n.length;t++)n[t]()}function nt(){it()}function rt(){st(),C&&C.invalidateFollowingState(),m.invalidation()}function it(){var e,t,n,r;for(e=0;e<U.length;e++)t=U[e],(r=q[t])&&r.length>0&&(n=z[t],n.previousValue=n.hasCachedValue?n.cachedValue:n.calculate())}function st(){var e,t,n,r,i,s=[];ot();for(e=0;e<U.length;e++)n=z[U[e]],n.hasCachedValue=!1;for(e=0;e<W.length;e++)X[W[e]].addSample();for(e=0;e<U.length;e++){r=U[e],n=z[r];if((i=q[r])&&i.length>0){n.hasCachedValue||(n.cachedValue=n.calculate(),n.hasCachedValue=!0);if(n.cachedValue!==n.previousValue)for(t=0;t<i.length;t++)s.push(i[t])}n.previousValue=null}for(e=0;e<s.length;e++)s[e]()}function ot(){var e,t,n,r;k.computeOutputState(N),ut();for(e=0,n=v.get_num_atoms();e<n;e++){for(t in A)A.hasOwnProperty(t)&&(B[e][t]=A[t][e]);c.isAminoAcid(A.element[e])&&(r=c.getAminoAcidByElement(A.element[e]),B[e].symbol=r.symbol,B[e].label=r.abbreviation)}}function ut(){var e=function(){return c.isAminoAcid(this.element)},t,n;B||(B=[]);for(t=B.length,n=v.get_num_atoms();t<n;t++)B[t]||(B[t]={idx:t,isAminoAcid:e})}function at(){var e,t,n,r;for(n=k.getNumberOfElements();n<=c.lastElementID;n++)v.addElement({id:n});for(n=0,r=l.length;n<r;n++)e=18*Math.pow(l[n].volume/l[0].volume,.3333333333333),t=h.convert(e/10,{from:h.unit.ANGSTROM,to:h.unit.NANOMETER}),k.setElementProperties(c.firstElementID+n,{mass:l[n].molWeight,sigma:t})}this.constructor.type="md2d";var v={},m=d3.dispatch("tick","play","stop","reset","stepForward","stepBack","seek","addAtom","removeAtom","addRadialBond","removeRadialBond","removeAngularBond","invalidation","textBoxesChanged"),g={"short":1.33,medium:1.67,"long":2},y=1e3,b=!0,w=!1,E=!1,S=!1,x,T=[],N,C,k,L,A,O,M,D,P,H,B,j,F,I,q={},R={set_targetTemperature:function(e){this.targetTemperature=e,k&&k.setTargetTemperature(e)},set_temperatureControl:function(e){this.temperatureControl=e,k&&k.useThermostat(e)},set_lennardJonesForces:function(e){this.lennardJonesForces=e,k&&k.useLennardJonesInteraction(e)},set_coulombForces:function(e){this.coulombForces=e,k&&k.useCoulombInteraction(e)},set_solventForceType:function(e){this.solventForceType=e,k&&k.setSolventForceType(e)},set_solventForceFactor:function(e){this.solventForceFactor=e,k&&k.setSolventForceFactor(e)},set_additionalSolventForceMult:function(e){this.additionalSolventForceMult=e,k&&k.setAdditionalSolventForceMult(e)},set_additionalSolventForceThreshold:function(e){this.additionalSolventForceThreshold=e,k&&k.setAdditionalSolventForceThreshold(e)},set_dielectricConstant:function(e){this.dielectricConstant=e,k&&k.setDielectricConstant(e)},set_realisticDielectricEffect:function(e){this.realisticDielectricEffect=e,k&&k.setRealisticDielectricEffect(e)},set_VDWLinesCutoff:function(e){var t;this.VDWLinesCutoff=e,t=g[e],t&&k&&k.setVDWLinesRatio(t)},set_gravitationalField:function(e){this.gravitationalField=e,k&&k.setGravitationalField(e)},set_modelSampleRate:function(e){this.modelSampleRate=e,b||v.restart()},set_timeStep:function(e){this.timeStep=e},set_viscosity:function(e){this.viscosity=e,k&&k.setViscosity(e)},set_polarAAEpsilon:function(e){var t,n,r,i,s,o;this.polarAAEpsilon=e;if(k){t=c.getPolarAminoAcids();for(i=0,o=t.length;i<o;i++){n=t[i];for(s=i+1;s<o;s++)r=t[s],k.pairwiseLJProperties.set(n,r,{epsilon:e})}}}},U=[],z={},W=[],X={},V={};return v.getStats=function(){return{time:v.get("time"),speed:G(),ke:v.get("kineticEnergy"),temperature:v.get("temperature"),current_step:C.get("counter"),steps:C.get("length")-1}},v.getStatsHistory=function(e){var t,n,r,i,s,o,u=[];n=C.get("length"),arguments.length?r=Math.max(n-e,0):r=0,u.push("time (fs)	total PE (eV)	total KE (eV)	total energy (eV)");for(t=r;t<n;t++)i=C.returnTick(t),o=i.output.PE,s=i.output.KE,u.push(i.output.time+"	"+o+"	"+s+"	"+(o+s));return u.join("\n")},v.stepCounter=function(){return C.get("counter")},v
.stepStartCounter=function(){return C.get("startCounter")},v.steps=function(){return C.get("length")},v.isNewStep=function(){return E},v.seek=function(e){return arguments.length||(e=0),b=!0,E=!1,C.seekExtract(e),tt(),m.seek(),C.get("counter")},v.stepBack=function(e){arguments.length||(e=1);var t,n;b=!0,E=!1,t=-1;while(++t<e)n=C.get("index"),n>0&&(C.decrementExtract(),tt(),m.stepBack());return C.get("counter")},v.stepForward=function(e){arguments.length||(e=1);var t,n,r;b=!0,t=-1;while(++t<e)n=C.get("index"),r=C.get("length"),n<r-1?(C.incrementExtract(),tt(),m.stepForward()):Y();return C.get("counter")},v.initializeEngine=function(){k=r.createEngine(),k.setSize([v.get("width"),v.get("height")]),k.useLennardJonesInteraction(v.get("lennardJonesForces")),k.useCoulombInteraction(v.get("coulombForces")),k.useThermostat(v.get("temperatureControl")),k.setViscosity(v.get("viscosity")),k.setVDWLinesRatio(g[v.get("VDWLinesCutoff")]),k.setGravitationalField(v.get("gravitationalField")),k.setTargetTemperature(v.get("targetTemperature")),k.setDielectricConstant(v.get("dielectricConstant")),k.setRealisticDielectricEffect(v.get("realisticDielectricEffect")),k.setSolventForceType(v.get("solventForceType")),k.setSolventForceFactor(v.get("solventForceFactor")),k.setAdditionalSolventForceMult(v.get("additionalSolventForceMult")),k.setAdditionalSolventForceThreshold(v.get("additionalSolventForceThreshold")),k.pairwiseLJProperties.registerChangeHooks(nt,rt),k.geneticProperties.registerChangeHooks(nt,rt),window.state=N={},A=k.atoms,O=k.elements,D=k.radialBonds,j=k.radialBondResults,P=k.angularBonds,H=k.restraints,M=k.obstacles},v.createElements=function(e){var t={deserialization:!0},n,r,i,s;nt();if(e===undefined){v.addElement({id:0},t);return}for(n=0,r=e.mass.length;n<r;n++){s={};for(i in e)e.hasOwnProperty(i)&&(s[i]=e[i][n]);v.addElement(s,t)}return rt(),v},v.createNewAtoms=function(e){return v.initializeEngine(),v.createElements(L),v.createAtoms(e),v},v.createAtoms=function(e){var t={supressCheck:!0,deserialization:!0},n,r,i,s;nt(),typeof e=="number"?r=e:e.num!=null?r=e.num:e.x&&(r=e.x.length);if(e.x&&e.y)for(n=0;n<r;n++){s={};for(i in e)e.hasOwnProperty(i)&&(s[i]=e[i][n]);v.addAtom(s,t)}else{for(n=0;n<r;n++)s={x:0,y:0},v.addAtom(s,t);k.setupAtomsRandomly({temperature:v.get("targetTemperature"),userElements:L===undefined?1:L.mass.length}),e.relax&&k.relaxToTemperature()}return rt(),m.reset(),v},v.createRadialBonds=function(e){var t={deserialization:!0},n=e.strength.length,r,i,s;nt();for(r=0;r<n;r++){s={};for(i in e)e.hasOwnProperty(i)&&(s[i]=e[i][r]);v.addRadialBond(s,t)}return rt(),v},v.createAngularBonds=function(e){var t={deserialization:!0},n=e.strength.length,r,i,s;nt();for(r=0;r<n;r++){s={};for(i in e)e.hasOwnProperty(i)&&(s[i]=e[i][r]);v.addAngularBond(s,t)}return rt(),v},v.createRestraints=function(e){var t=e.atomIndex.length,n,r,i;for(n=0;n<t;n++){i={};for(r in e)e.hasOwnProperty(r)&&(i[r]=e[r][n]);v.addRestraint(i)}return v},v.createObstacles=function(e){var t=e.x.length,n,r,i;for(n=0;n<t;n++){i={};for(r in e)e.hasOwnProperty(r)&&(i[r]=e[r][n]);v.addObstacle(i)}return v},v.reset=function(){v.resetTime(),C.restoreInitialState(),m.reset()},v.resetTime=function(){k.setTime(0)},v.getTotalMass=function(){return k.getTotalMass()},v.getAtomKineticEnergy=function(e){return k.getAtomKineticEnergy(e)},v.addRandomAtom=function(e,t){e==null&&(e=Math.floor(Math.random()*O.mass.length)),t==null&&(t=0);var n=v.size(),r=k.getRadiusOfElement(e),i,s,o,u=0,a=10;do{i=Math.random()*n[0]-2*r,s=Math.random()*n[1]-2*r,o=k.findMinimumPELocation(e,i,s,0,0,t);if(o&&v.addAtom({element:e,x:o[0],y:o[1],charge:t}))return!0}while(++u<a);return!1},v.addAtom=function(e,t){var n=v.size(),r;return t=t||{},e=f.validateCompleteness(i.atom,e),r=k.getRadiusOfElement(e.element),e.x<r&&(e.x=r),e.x>n[0]-r&&(e.x=n[0]-r),e.y<r&&(e.y=r),e.y>n[1]-r&&(e.y=n[1]-r),!t.supressCheck&&!k.canPlaceAtom(e.element,e.x,e.y)?!1:(t.deserialization||nt(),k.addAtom(e),t.deserialization||rt(),t.supressEvent||m.addAtom(),!0)},v.removeAtom=function(e,t){var n=k.getNumberOfRadialBonds(),r=k.getNumberOfAngularBonds();t=t||{},nt(),k.removeAtom(e),B.length=0,rt(),t.supressEvent||(m.removeAtom(),k.getNumberOfRadialBonds()!==n&&m.removeRadialBond(),k.getNumberOfAngularBonds()!==r&&m.removeAngularBond())},v.addElement=function(e){e=f.validateCompleteness(i.element,e),k.addElement(e)},v.addObstacle=function(e){var t;e.color!==undefined&&e.colorR===undefined&&(e.colorR=e.color[0],e.colorG=e.color[1],e.colorB=e.color[2]),t=f.validateCompleteness(i.obstacle,e),nt(),k.addObstacle(t),rt()},v.removeObstacle=function(e){nt(),k.removeObstacle(e),rt()},v.addRadialBond=function(e,t){e=f.validateCompleteness(i.radialBond,e),(!t||!t.deserialization)&&nt(),k.addRadialBond(e),(!t||!t.deserialization)&&rt(),m.addRadialBond()},v.removeRadialBond=function(e){nt(),k.removeRadialBond(e),nt(),m.removeRadialBond()},v.addAngularBond=function(e,t){e=f.validateCompleteness(i.angularBond,e),(!t||!t.deserialization)&&nt(),k.addAngularBond(e),(!t||!t.deserialization)&&rt()},v.removeAngularBond=function(e){nt(),k.removeAngularBond(e),rt(),m.removeAngularBond()},v.addRestraint=function(e){e=f.validateCompleteness(i.restraint,e),nt(),k.addRestraint(e),rt()},v.getMoleculeBoundingBox=function(e){var t,n,r,i,s,o=-Infinity,u=Infinity,a=Infinity,f=-Infinity,l,c;t=k.getMoleculeAtoms(e),t.push(e);for(n=0;n<t.length;n++)r=A.x[t[n]],i=A.y[t[n]],s=A.radius[t[n]],r-s<u&&(u=r-s),r+s>f&&(f=r+s),i-s<a&&(a=i-s),i+s>o&&(o=i+s);return l=A.x[e],c=A.y[e],{top:o-c,left:u-l,bottom:a-c,right:f-l}},v.setAtomProperties=function(e,t,n,r){var s,o,u,a,l,c,h;t=f.validate(i.atom,t);if(r){s=k.getMoleculeAtoms(e);if(s.length>0){o=typeof t.x=="number"?t.x-A.x[e]:0,u=typeof t.y=="number"?t.y-A.y[e]:0;for(c=0,h=s.length;c<h;c++){a=A.x[s[c]]+o,l=A.y[s[c]]+u;if(!v.setAtomProperties(s[c],{x:a,y:l},n,!1))return!1}}}if(n){var p=typeof t.x=="number"?t.x:A.x[e],d=typeof t.y=="number"?t.y:A.y[e],m=typeof t.element=="number"?t.y:A.element[e];if(!k.canPlaceAtom(m,p,d,e))return!1}return nt(),k.setAtomProperties(e,t),rt(),!0},v.getAtomProperties=function(e){var t=i.atom,n={},r;for(r in t)t.hasOwnProperty(r)&&(n[r]=A[r][e]);return n},v.setElementProperties=function(e,t){t=f.validate(i.element,t);if(c.isAminoAcid(e))throw new Error("Elements: elements with ID "+e+" cannot be edited, as they define amino acids.");nt(),k.setElementProperties(e,t),rt()},v.getElementProperties=function(e){var t=i.element,n={},r;for(r in t)t.hasOwnProperty(r)&&(n[r]=O[r][e]);return n},v.setObstacleProperties=function(e,t){t=f.validate(i.obstacle,t),nt(),k.setObstacleProperties(e,t),rt()},v.getObstacleProperties=function(e){var t=i.obstacle,n={},r;for(r in t)t.hasOwnProperty(r)&&(n[r]=M[r][e]);return n},v.setRadialBondProperties=function(e,t){t=f.validate(i.radialBond,t),nt(),k.setRadialBondProperties(e,t),rt()},v.getRadialBondProperties=function(e){var t=i.radialBond,n={},r;for(r in t)t.hasOwnProperty(r)&&(n[r]=D[r][e]);return n},v.setRestraintProperties=function(e,t){t=f.validate(i.restraint,t),nt(),k.setRestraintProperties(e,t),rt()},v.getRestraintProperties=function(e){var t=i.restraint,n={},r;for(r in t)t.hasOwnProperty(r)&&(n[r]=H[r][e]);return n},v.setAngularBondProperties=function(e,t){t=f.validate(i.angularBond,t),nt(),k.setAngularBondProperties(e,t),rt()},v.getAngularBondProperties=function(e){var t=i.angularBond,n={},r;for(r in t)t.hasOwnProperty(r)&&(n[r]=P[r][e]);return n},v.setSolvent=function(e){var t=new u(e),n={solventForceType:t.forceType,dielectricConstant:t.dielectricConstant,backgroundColor:t.color};v.set(n)},v.addSpringForce=function(e,t,n,r){return r==null&&(r=500),k.addSpringForce(e,t,n,r)},v.updateSpringForce=function(e,t,n){k.updateSpringForce(e,t,n)},v.removeSpringForce=function(e){k.removeSpringForce(e)},v.addTextBox=function(e){e=f.validateCompleteness(i.textBox,e),R.textBoxes.push(e),m.textBoxesChanged()},v.removeTextBox=function(e){var t=R.textBoxes;if(!(e>=0&&e<t.length))throw new Error('Text box "'+e+'" does not exist, so it cannot be removed.');R.textBoxes=t.slice(0,e).concat(t.slice(e+1)),m.textBoxesChanged()},v.setTextBoxProperties=function(e,t){var n=R.textBoxes[e];if(!n)throw new Error('Text box "'+e+'" does not exist, so it cannot have properties set.');t=f.validate(i.textBox,t);for(prop in t)n[prop]=t[prop];m.textBoxesChanged()},v.liveDragStart=function(e,t,n){t==null&&(t=A.x[e]),n==null&&(n=A.y[e]),I=v.getAtomProperties(e).friction,v.setAtomProperties(e,{friction:v.LIVE_DRAG_FRICTION}),F=v.addSpringForce(e,t,n,500)},v.liveDrag=function(e,t){v.updateSpringForce(F,e,t)},v.liveDragEnd=function(){var e=k.springForceAtomIndex(F);v.setAtomProperties(e,{friction:I}),v.removeSpringForce(F)},v.get_speed=function(){return t.copy(k.atoms.speed,[])},v.get_rate=function(){return Z()},v.is_stopped=function(){return b},v.get_atoms=function(){return A},v.get_elements=function(){return O},v.get_results=function(){return B},v.get_radial_bond_results=function(){return j},v.get_num_atoms=function(){return k.getNumberOfAtoms()},v.get_obstacles=function(){return M},v.getNumberOfElements=function(){return k.getNumberOfElements()},v.getNumberOfObstacles=function(){return k.getNumberOfObstacles()},v.getNumberOfRadialBonds=function(){return k.getNumberOfRadialBonds()},v.getNumberOfAngularBonds=function(){return k.getNumberOfAngularBonds()},v.get_radial_bonds=function(){return D},v.get_restraints=function(){return H},v.getPairwiseLJProperties=function(){return k.pairwiseLJProperties},v.getGeneticProperties=function(){return k.geneticProperties},v.get_vdw_pairs=function(){return k.getVdwPairsArray()},v.on=function(e,t){return m.on(e,t),v},v.tickInPlace=function(){return m.tick(),v},v.tick=function(e,t){arguments.length||(e=1);var n=t&&t.dontDispatchTickEvent||!1,r=-1;while(++r<e)Y(null,n);return v},v.relax=function(){return k.relaxToTemperature(),v},v.minimizeEnergy=function(){return nt(),k.minimizeEnergy(),rt(),v},v.generateProtein=function(e,t){var n;return nt(),n=k.generateProtein(e,t),B.length=0,rt(),m.addAtom(),n},v.extendProtein=function(e,t,n){nt(),k.extendProtein(e,t,n),B.length=0,rt(),m.addAtom()},v.translateStepByStep=function(){var e=k.geneticProperties.translateStepByStep(),t=k.geneticProperties.get().translationStep,n=k.geneticProperties.get().height,r=k.geneticProperties.get().width,i=r*t*3+1.5*r,s=n*5,o=v.get("width"),u=v.get("height"),a;while(i>o)i-=r*3;while(s>u)s-=n;return e!==undefined?v.extendProtein(i,s,e):(a=v.get_num_atoms()-1,v.setAtomProperties(a,{pinned:!1})),e===undefined},v.animateTranslation=function(){var e=function(){var t=v.translateStepByStep();t===!1&&setTimeout(e,1e3)};if(S===!0)return;S=!0,b&&v.resume(),e()},v.start=function(){return v.resume()},v.restart=function(){w=!0},v.resume=function(){return n.time("gap between frames"),v.timer(function(t){return n.timeEnd("gap between frames"),b?!0:w?(setTimeout(v.resume,0),!0):(Y(t,!1),n.time("gap between frames"),!1)}),w=!1,b&&(b=!1,m.play()),v},v.timer=function(e){var t,n=v.get("modelSampleRate");n==="default"?d3.timer(e):t=window.setInterval(function(){e()&&window.clearInterval(t)},1e3/n)},v.stop=function(){return b=!0,m.stop(),v},v.ave_ke=function(){return N.KE/v.get_num_atoms()},v.ave_pe=function(){return N.PE/v.get_num_atoms()},v.speed=function(){return G()},v.size=function(e){return arguments.length?(k.setSize(e),v):k.getSize()},v.set=function(e){f.validate(i.mainProperties,e),f.validate(i.viewOptions,e),k&&nt(),et(e),k&&rt()},v.get=function(e){var t;if(R.hasOwnProperty(e))return R[e];if(t=z[e])return t.hasCachedValue?t.cachedValue:(t.hasCachedValue=!0,t.cachedValue=t.calculate(),t.cachedValue)},v.addPropertiesListener=function(e,t){function r(e){q[e]||(q[e]=[]),q[e].push(t)}var n;if(typeof e=="string")r(e);else for(n=0;n<e.length;n++)r(e[n])},v.defineOutput=function(e,t,n){U.push(e),z[e]={description:t,calculate:n,hasCachedValue:!1,previousValue:null}},v.defineFilteredOutput=function(e,t,n,r,i){var s,u;if(r!=="RunningAverage")throw new Error("FilteredOutput: unknown filter type "+r+".");s=new o(i),u=v.get(n);if(u===undefined||isNaN(Number(u)))throw new Error("FilteredOutput: property is not a valid numeric value or it is undefined.");s.addSample(v.get("time"),u),W.push(e),X[e]={addSample:function(){s.addSample(v.get("time"),v.get(n))}},C.registerExternalObject({push:function(){},extract:function(e){s.setCurrentStep(e)},invalidate:function(e){s.invalidate(e)},setHistoryLength:function(e){s.setMaxBufferLength(e)}}),t.property=n,t.type=r,t.period=i,v.defineOutput(e,t,function(){return s.calculate()})},v.defineParameter=function(e,t,n){V[e]={description:t,setter:n,isDefined:!1},R["set_"+e]=function(t){R[e]=t,V[e].isDefined=!0,V[e].setter.call(v,t)}},v.getPropertyDescription=function(e){var t=z[e]||V[e];if(t)return p.extend({},t.description)},v.getPropertyType=function(e){if(z[e])return"output";if(V[e])return"parameter"},v.serialize=function(){var e={},t,n,r,s=function(t,n){e.atoms[t].every(function(e){return e===n})&&delete e.atoms[t]};e=a(i.mainProperties,R),e.viewOptions=a(i.viewOptions,R),e.atoms=a(i.atom,A,k.getNumberOfAtoms()),k.getNumberOfRadialBonds()&&(e.radialBonds=a(i.radialBond,D,k.getNumberOfRadialBonds())),k.getNumberOfAngularBonds()&&(e.angularBonds=a(i.angularBond,P,k.getNumberOfAngularBonds()));if(k.getNumberOfObstacles()){e.obstacles=a(i.obstacle,M,k.getNumberOfObstacles()),e.obstacles.color=[];for(n=0,r=e.obstacles.colorR.length;n<r;n++)e.obstacles.color.push([e.obstacles.colorR[n],e.obstacles.colorG[n],e.obstacles.colorB[n]]),e.obstacles.westProbe[n]=Boolean(e.obstacles.westProbe[n]),e.obstacles.northProbe[n]=Boolean(e.obstacles.northProbe[n]),e.obstacles.eastProbe[n]=Boolean(e.obstacles.eastProbe[n]),e.obstacles.southProbe[n]=Boolean(e.obstacles.southProbe[n]);delete e.obstacles.colorR,delete e.obstacles.colorG,delete e.obstacles.colorB}k.getNumberOfRestraints()>0&&(e.restraints=a(i.restraint,H,k.getNumberOfRestraints())),k.geneticProperties.get()!==undefined&&(e.geneticProperties=k.geneticProperties.serialize()),e.elements=a(i.element,O,5),e.pairwiseLJProperties=[],t=k.pairwiseLJProperties.serialize();for(n=0,r=t.length;n<r;n++)t[n].element1<=5&&t[n].element2<=5&&e.pairwiseLJProperties.push(t[n]);return e.temperatureControl===!1&&delete e.targetTemperature,e.viewOptions.showAtomTrace===!1&&delete e.viewOptions.atomTraceId,e.modelSampleRate==="default"&&delete e.modelSampleRate,s("marked",i.atom.marked.defaultValue),s("visible",i.atom.visible.defaultValue),s("draggable",i.atom.draggable.defaultValue),e},v.LIVE_DRAG_FRICTION=10,v.defineOutput("time",{label:"Time",units:"fs"},function(){return N.time}),v.defineOutput("kineticEnergy",{label:"Kinetic Energy",units:"eV"},function(){return N.KE}),v.defineOutput("potentialEnergy",{label:"Potential Energy",units:"eV"},function(){return N.PE}),v.defineOutput("totalEnergy",{label:"Total Energy",units:"eV"},function(){return N.KE+N.PE}),v.defineOutput("temperature",{label:"Temperature",units:"K"},function(){return N.temperature}),et(f.validateCompleteness(i.mainProperties,d)),et(f.validateCompleteness(i.viewOptions,d.viewOptions||{})),v.initializeEngine(),L=d.elements,v.createElements(L),at(),v.set({polarAAEpsilon:v.get("polarAAEpsilon")}),d.atoms?v.createAtoms(d.atoms):d.mol_number&&(v.createAtoms(d.mol_number),d.relax&&v.relax()),d.radialBonds&&v.createRadialBonds(d.radialBonds),d.angularBonds&&v.createAngularBonds(d.angularBonds),d.restraints&&v.createRestraints(d.restraints),d.obstacles&&v.createObstacles(d.obstacles),d.pairwiseLJProperties&&k.pairwiseLJProperties.deserialize(d.pairwiseLJProperties),d.geneticProperties&&k.geneticProperties.deserialize(d.geneticProperties),C=new s({input:["targetTemperature","lennardJonesForces","coulombForces","temperatureControl","keShading","chargeShading","showVDWLines","showVelocityVectors","showForceVectors","showClock","viewRefreshInterval","timeStep","viscosity","gravitationalField"],restoreProperties:K,parameters:V,restoreParameters:Q,state:k.getState()},v,y),E=!0,tt(),v}}),function(){define("cs!common/components/model_controller_component",["require","common/console"],function(e){var t,n;return n=e("common/console"),t=function(){function e(e,t,n,r,i){var s=this;this.svg_element=e,this.playable=t!=null?t:null,this.width=200,this.height=34,this.xpos=n,this.ypos=r,this.scale=i||1,this.unit_width=this.width/9,this.vertical_padding=(this.height-this.unit_width)/2,this.stroke_width=this.unit_width/10,this.init_view(),this.setup_buttons(),this.playable.isPlaying()?this.hide(this.play):this.hide(this.stop),model.on("play",function(){return s.update_ui()}),model.on("stop",function(){return s.update_ui()})}return e.prototype.offset=function(e){return e*this.unit_width*2+this.unit_width},e.prototype.setup_buttons=function(){},e.prototype.make_button=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b=this;t=e.action,u=e.offset,h=e.type,f=e.point_set,h==null&&(h="svg:polyline"),f==null&&(f=this.icon_shapes[t]),u=this.offset(u),s=this.group.append("svg:g"),s.attr("class","component playbacksvgbutton").attr("x",u).attr("y",this.vertical_padding).attr("width",this.unit_width).attr("height",this.unit_width*2).attr("style","fill: #cccccc"),i=s.append("rect"),i.attr("class","bg").attr("x",u).attr("y",this.vertical_padding/3).attr("width",this.unit_width*2).attr("height",this.unit_width*1.5).attr("rx","0");for(v=0,g=f.length;v<g;v++){l=f[v],n=s.append(h),n.attr("class",""+t+" button-art"),c="";for(m=0,y=l.length;m<y;m++)a=l[m],p=u+10+a.x*this.unit_width,d=this.vertical_padding/.75+a.y*this.unit_width,c+=" "+p+","+d,n.attr("points",c);t==="stop"&&(r=s.append("rect"),r.attr("class","pause-center").attr("x",p+this.unit_width/3).attr("y",this.vertical_padding/.75-1).attr("width",this.unit_width/3).attr("height",this.unit_width+2))}return o=s.append("rect"),o.attr("class","highlight").attr("x",u+1).attr("y",this.vertical_padding/1.85).attr("width",this.unit_width*2-2).attr("height",this.unit_width/1.4).attr("rx","0"),s.on("click",function(){return b.action(t)}),s},e.prototype.action=function(e){n.log("running "+e+" ");if(this.playable)switch(e){case"play":this.playable.play();break;case"stop":this.playable.stop();break;case"forward":this.playable.forward();break;case"back":this.playable.back();break;case"seek":this.playable.seek(1);break;case"reset":this.playable.reset();break;default:n.log("cant find action for "+e)}else n.log("no @playable defined");return this.update_ui()},e.prototype.init_view=function(){return this.svg=this.svg_element.append("svg:svg").attr("class","component model-controller playbacksvg").attr("x",this.xpos).attr("y",this.ypos),this.group=this.svg.append("g").attr("transform","scale("+this.scale+","+this.scale+")").attr("width",this.width).attr("height",this.height)},e.prototype.position=function(e,t,n){return this.xpos=e,this.ypos=t,this.scale=n||1,this.svg.attr("x",this.xpos).attr("y",this.ypos),this.group.attr("transform","scale("+this.scale+","+this.scale+")").attr("width",this.width).attr("height",this.height)},e.prototype.update_ui=function(){if(this.playable)return this.playable.isPlaying()?(this.hide(this.play),this.show(this.stop)):(this.hide(this.stop),this.show(this.play))},e.prototype.hide=function(e){return e.style("visibility","hidden")},e.prototype.show=function(e){return e.style("visibility","visible")},e.prototype.icon_shapes={play:[[{x:0,y:0},{x:1,y:.5},{x:0,y:1}]],stop:[[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1},{x:0,y:0}]],reset:[[{x:1,y:0},{x:.3,y:.5},{x:1,y:1}],[{x:0,y:0},{x:.3,y:0},{x:.3,y:1},{x:0,y:1},{x:0,y:0}]],back:[[{x:.5,y:0},{x:0,y:.5},{x:.5,y:1}],[{x:1,y:0},{x:.5,y:.5},{x:1,y:1}]],forward:[[{x:.5,y:0},{x:1,y:.5},{x:.5,y:1}],[{x:0,y:0},{x:.5,y:.5},{x:0,y:1}]]},e}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("cs!common/components/play_reset_svg",["require","cs!common/components/model_controller_component"],function(e){var n,r;return n=e("cs!common/components/model_controller_component"),r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.setup_buttons=function(){return this.reset=this.make_button({action:"reset",offset:0}),this.play=this.make_button({action:"play",offset:1}),this.stop=this.make_button({action:"stop",offset:1})},n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("cs!common/components/play_only_svg",["require","cs!common/components/model_controller_component"],function(e){var n,r;return n=e("cs!common/components/model_controller_component"),r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.setup_buttons=function(){return this.play=this.make_button({action:"play",offset:0}),this.stop=this.make_button({action:"stop",offset:0})},n}(n)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};define("cs!common/components/playback_svg",["require","cs!common/components/model_controller_component"],function(e){var n,r;return n=e("cs!common/components/model_controller_component"),r=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.setup_buttons=function(){return this.reset=this.make_button({action:"reset",offset:0}),this.back=this.make_button({action:"back",offset:1}),this.play=this.make_button({action:"play",offset:2}),this.stop=this.make_button({action:"stop",offset:2}),this.forward=this.make_button({action:"forward",offset:3})},n}(n)})}.call(this),define("common/views/gradients",["require"],function(e){var t;return t={mainColorOfGradient:{},createRadialGradient:function(e,n,r,i,s){var o,u=s.append("defs").append("radialGradient").attr("id",e).attr("cx","50%").attr("cy","47%").attr("r","53%").attr("fx","35%").attr("fy","30%");return u.append("stop").attr("stop-color",n).attr("offset","0%"),u.append("stop").attr("stop-color",r).attr("offset","40%"),u.append("stop").attr("stop-color",i).attr("offset","80%"),u.append("stop").attr("stop-color",r).attr("offset","100%"),o="url(#"+e+")",t.mainColorOfGradient[o]=i,o}},t}),define("common/views/model-view",["require","lab.config","cs!common/components/play_reset_svg","cs!common/components/play_only_svg","cs!common/components/playback_svg","common/views/gradients"],function(e){var t=e("lab.config"),n=e("cs!common/components/play_reset_svg"),r=e("cs!common/components/play_only_svg"),i=e("cs!common/components/playback_svg"),s=e("common/views/gradients");return function(o,u,a,f){function V(e,n){u=e||u,a=n||a,u&&(E=t.actualRoot+u.slice(0,u.lastIndexOf("/")+1))}function J(){w=$(o).css("font-size"),w=Number(w.substring(0,w.length-2)),w/=18,C={top:10*w,right:10*w,bottom:10*w,left:10*w},a.get("xunits")&&(C.bottom+=15*w),a.get("yunits")&&(C.left+=15*w),a.get("controlButtons")?C.bottom+=40*w:C.bottom+=15*w}function K(){var e=a.get("width"),t=a.get("height"),n=e/t;J(),m=p.property("clientWidth"),y=m-C.left-C.right,b=y/n,g=b+C.top+C.bottom,d.style.height=g+"px",k={width:y,height:b},L={width:e,height:t},X=d.offsetTop+C.top,W=d.offsetLeft+C.left;switch(a.get("controlButtons")){case"play":O=C.left+(k.width-75*w)/2;break;case"play_reset":O=C.left+(k.width-140*w)/2;break;case"play_reset_step":O=C.left+(k.width-230*w)/2;break;default:O=C.left+(k.width-230*w)/2}return M=g-42*w,P=d3.scale.linear().domain([0,L.width]).range([0,k.width]),H=d3.scale.linear().domain([L.height,0]).range([0,k.height]),A=null,[m,g,y,b]}function Q(){return _+modelTimeFormatter(a.get("time"))+D}function G(){var e=function(e){return"translate("+P(e)+",0)"},t=function(e){return"translate(0,"+H(e)+")"},n=function(e){return e?"#ccc":"#666"},r=P.tickFormat(5),i=H.tickFormat(5);d3.event&&d3.event.transform&&d3.event.transform(P,H);var s=j.selectAll("g.x").data(P.ticks(5),String).attr("transform",e).classed("axes",!0);s.select("text").text(r);var o=s.enter().insert("g","a").attr("class","x").attr("transform",e);a.get("gridLines")?o.append("line").attr("stroke",n).attr("y1",0).attr("y2",k.height):o.selectAll("line").remove(),a.get("xunits")?o.append("text").attr("y",k.height).attr("dy","1.25em").attr("text-anchor","middle").text(r):o.select("text").remove(),s.exit().remove();var u=j.selectAll("g.y").data(H.ticks(5),String).attr("transform",t).classed("axes",!0);u.select("text").text(i);var f=u.enter().insert("g","a").attr("class","y").attr("transform",t).attr("background-fill","#FFEEB6");a.get("gridLines")?f.append("line").attr("stroke",n).attr("x1",0).attr("x2",k.width):f.selectAll("line").remove(),a.get("yunits")?f.append("text").attr("x","-0.15em").attr("dy","0.30em").attr("text-anchor","end").text(i):f.select("text").remove(),u.exit().remove()}function Y(){s.createRadialGradient("mark-grad","#fceabb","#fccd4d","#f8b500",B),s.createRadialGradient("neg-grad","#ffefff","#fdadad","#e95e5e",B),s.createRadialGradient("pos-grad","#dfffff","#9abeff","#767fbf",B),s.createRadialGradient("neutral-grad","#FFFFFF","#f2f2f2","#A4A4A4",B),s.createRadialGradient("mark-grad","#fceabb","#fccd4d","#f8b500",B),s.createRadialGradient("green-grad","#dfffef","#75a643","#2a7216",B),s.createRadialGradient("blue-grad","#dfefff","#7543a6","#2a1672",B),s.createRadialGradient("purple-grad","#EED3F0","#D941E0","#84198A",B),s.createRadialGradient("aqua-grad","#DCF5F4","#41E0D8","#12827C",B),s.createRadialGradient("orange-grad","#F0E6D1","#E0A21B","#AD7F1C",B)}function Z(){T.style("fill",a.get("backgroundColor"))}function et(){tt()}function tt(){a.get("enableKeyboardHandlers")&&d.focus()}function nt(){if(!a.get("enableKeyboardHandlers"))return;$(d).keydown(function(e){var t=e.keycode||e.which;switch(t){case 13:e.preventDefault(),model_player.isPlaying()||model_player.play();break;case 32:e.preventDefault(),model_player.isPlaying()?model_player.stop():model_player.play();break;case 37:e.preventDefault(),model_player.isPlaying()?model_player.stop():model_player.back();break;case 39:e.preventDefault(),model_player.isPlaying()?model_player.stop():model_player.forward()}})}function rt(){K(),x===undefined?(v=p,S=d3.select(d).append("svg").attr({width:m,height:g}).style({width:m,height:g}),x=S.append("g").attr("class","particle-container-vis"),T=x.append("rect").attr("class","plot"),a.get("enableKeyboardHandlers")&&d3.select(d).attr("tabindex",0).on("mousedown",et),j=x.append("g").attr("class","grid-container"),q=x.append("g").attr("class","image-container-below"),U=x.append("g").attr("class","text-container-below"),F=x.append("g").attr("class","radial-bonds-container"),I=x.append("g").attr("class","vdw-lines-container"),B=x.append("g").attr("class","main-container"),R=x.append("g").attr("class","image-container-top"),z=x.append("g").attr("class","text-container-top"),h={node:d,gridContainer:j,imageContainerBelow:q,textContainerBelow:U,radialBondsContainer:F,VDWLinesContainer:I,mainContainer:B,imageContainerTop:R,textContainerTop:z},nt(),Y()):(x.selectAll("g.x").remove(),x.selectAll("g.y").remove()),S.attr({width:m,height:g}).style({width:m,height:g}),x.attr("transform","translate("+C.left+","+C.top+")"),x.select("rect.plot").attr({width:k.width,height:k.height}),G()}function it(){d3.select(".model-controller").remove();switch(a.get("controlButtons")){case"play":N=new r(S,model_player,O,M,w);break;case"play_reset":N=new n(S,model_player,O,M,w);break;case"play_reset_step":N=new i(S,model_player,O,M,w);break;default:N=null}}function st(){rt(),it(),a.url=u,c?c.reset(a,h,P,H):c=new f(a,h,P,H),ot(),a.addPropertiesListener(["backgroundColor"],ot),a.addPropertiesListener(["gridLines","xunits","yunits"],function(){rt(),it(),ot()})}function ot(){Z(),c.repaint(P,H)}var l={},c,h={},p=d3.select(o),d=p.node(),v,m=p.property("clientWidth"),g=p.property("clientHeight"),y,b,w,E,S,x,T,N,C,k,L,A,O,M,_="",D=" (fs)",P,H,B,j,F,I,q,R,U,z,W,X;return l={update:null,node:null,outerNode:null,scale:K,setFocus:tt,resize:function(){K(),V(),st()},getHeightForWidth:function(e){var t=a.get("width"),n=a.get("height"),r=t/n,i;return J(),e=e-C.left-C.right,i=e/r,i+C.top+C.bottom},repaint:function(){ot()},reset:function(e,t){V(e,t),st()},model2px:function(e){return P(e)},model2pxInv:function(e){return H(e)}},V(),st(),l.update=c.update,l.node=d,l.outerNode=v.node(),l}}),function(){define("cs!md2d/views/aminoacid-context-menu",["require","cs!md2d/models/aminoacids-helper"],function(e){var t,n,r,i,s,o,u,a,f,l;return f=e("cs!md2d/models/aminoacids-helper"),o="aminoacids-menu",i="hydrophobic",r="hydrophobic-category",n="hydrophilic",t="hydrophilic-category",a="pos-charge",u="neg-charge",s="marked",l=function(e,s){var o;return o={show:s?"slideDown":"show",hide:s?"slideUp":"hide"},e==="hydrophobic"?($("."+i)[o.show](),$("."+n)[o.hide](),$("."+r).addClass("expanded"),$("."+t).removeClass("expanded")):($("."+i)[o.hide](),$("."+n)[o.show](),$("."+r).removeClass("expanded"),$("."+t).addClass("expanded"))},{register:function(e,c,h){return $.contextMenu("destroy",h),$.contextMenu({selector:h,className:o,animation:{show:"show",hide:"hide"},callback:function(t,n){var r,i,o;return o=d3.select(n.$trigger[0]).datum(),i=f.getAminoAcidByElement(o.element).abbreviation,n.items[i].$node.removeClass(s),r=f.abbrToElement(t),e.setAtomProperties(o.idx,{element:r}),c.setupDrawables()},position:function(e,t,n){var r,i,s,o,u,a,f;r=$(window);if(!t&&!n){e.determinePosition.call(this,e.$menu);return}return t==="maintain"&&n==="maintain"?o=e.$menu.position():(a=e.$trigger.parents().andSelf().filter(function(){return $(this).css("position")==="fixed"}).length,a&&(n-=r.scrollTop(),t-=r.scrollLeft()),o={top:n,left:t}),i=r.scrollTop()+r.height(),u=r.scrollLeft()+r.width(),s=e.$menu[0].scrollHeight,f=e.$menu[0].scrollWidth,o.top+s>i&&(o.top-=s),o.left+f>u&&(o.left-=f),o.left+=1,e.$menu.css(o)},events:{show:function(e){var t,n,r;return r=d3.select(e.$trigger[0]).datum(),n=f.getAminoAcidByElement(r.element).abbreviation,t=e.items[n].$node,t.addClass(s),t.hasClass(i)?l("hydrophobic"):l("hydrophilic"),!0},hide:function(e){var t,n;return n=d3.select(e.$trigger[0]).datum(),t=f.getAminoAcidByElement(n.element).abbreviation,e.items[t].$node.removeClass(s),!0}},items:{Hydrophobic:{name:"Hydrophobic",className:""+r,callback:function(){return l("hydrophobic",!0),!1}},Gly:{name:"Glycine",className:""+i},Ala:{name:"Alanine",className:""+i},Val:{name:"Valine",className:""+i},Leu:{name:"Leucine",className:""+i},Ile:{name:"Isoleucine",className:""+i},Phe:{name:"Phenylalanine",className:""+i},Pro:{name:"Proline",className:""+i},Trp:{name:"Tryptophan",className:""+i},Met:{name:"Methionine",className:""+i},Cys:{name:"Cysteine",className:""+i},Tyr:{name:"Tyrosine",className:""+i},Hydrophilic:{name:"Hydrophilic",className:""+t,callback:function(){return l("hydrophilic",!0),!1}},Asn:{name:"Asparagine",className:""+n},Gln:{name:"Glutamine",className:""+n},Ser:{name:"Serine",className:""+n},Thr:{name:"Threonine",className:""+n},Asp:{name:"Asparticacid",className:""+n+" "+u},Glu:{name:"Glutamicacid",className:""+n+" "+u},Lys:{name:"Lysine",className:""+n+" "+a},Arg:{name:"Arginine",className:""+n+" "+a},His:{name:"Histidine",className:""+n+" "+a}}}),l("hydrophobic")}}})}.call(this),define("md2d/views/genetic-renderer",["require"],function(e){return function(t,n,r){var i,s,o,u=function(){s=n.model2px,o=n.model2pxInv,r.getGeneticProperties().on("change",i.setup)},a=function(e,t,n,r,i,o){var u=0,a="",f,l,c;n+="px";for(l=0,c=t.length;l<c;l++)a+=u+"px ",u+=r;if(o===undefined||o==="end")o=t.length/3;o*=3,e.append("text").text(t).attr({"class":"shadow",x:a,dy:i}).style({"stroke-width":s(.01),"font-size":n}),f=e.append("text").attr({"class":"front",x:a,dy:i}).style("font-size",n),f.append("tspan").text(t.substring(0,o)),f.append("tspan").attr("class","marked-mrna").text(t.substring(o,o+3)),f.append("tspan").text(t.substring(o+3))};return i={setup:function(){var e=r.getGeneticProperties().get(),n,i,u;if(e===undefined)return;t.selectAll("g.dna").remove(),n=t.append("g").attr({"class":"dna",transform:"translate("+s(e.x)+","+o(e.y)+")"}),i=s(e.height),u=s(e.width),a(n,e.DNA,i,u,-i),a(n,e.DNAComplement,i,u,0),e.mRNA!==undefined&&a(n,e.mRNA,i,u,-2.5*i,e.translationStep)}},u(),i}}),function(){define("cs!common/layout/wrap-svg-text",["require"],function(e){var t,n;return t="http://www.w3.org/2000/svg",n=window.wrapSVGText=function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S;f=/-/gi,a=function(){var t;t=[];while(d=f.exec(e))t.push(d.index);return t}(),w=e.split(/[\s-]/),u=0,o=0
,p=1,y=0,r===-1&&(r=Infinity);for(l=E=0,S=w.length;E<S;l=++E)b=w[l],u+=b.length+1,o>r||l===0?(l>0&&(v=g.firstChild.nodeValue,v.length>w[l-1].length+1?(c=v.slice(v.length-w[l-1].length-1),g.firstChild.nodeValue=v.slice(0,v.length-w[l-1].length-1)):v.length===w[l-1].length+1&&(g.firstChild.nodeValue=v.slice(0,v.length-1)),y=Math.max(g.getComputedTextLength(),y),p++),g=document.createElementNS(t,"tspan"),g.setAttributeNS(null,"x",i),g.setAttributeNS(null,"dy",l===0?0:s),m=document.createTextNode(h),g.appendChild(m),n.appendChild(g),~a.indexOf(u-1)?h=b+"-":h=b+" ",l&&c&&(h=c+h)):~a.indexOf(u-1)?h+=b+"-":h+=b+" ",g.firstChild.nodeValue=h,o=g.getComputedTextLength(),l&&l===w.length-1&&o>r&&(v=g.firstChild.nodeValue,g.firstChild.nodeValue=v.slice(0,v.length-w[l].length-1),g=document.createElementNS(t,"tspan"),g.setAttributeNS(null,"x",i),g.setAttributeNS(null,"dy",s),m=document.createTextNode(w[l]),g.appendChild(m),n.appendChild(g),p++);return y===0&&(y=n.childNodes[0].getComputedTextLength()),{lines:p,width:y}}})}.call(this),define("md2d/views/renderer",["require","lab.config","common/console","cs!md2d/views/aminoacid-context-menu","md2d/views/genetic-renderer","cs!common/layout/wrap-svg-text","common/views/gradients"],function(e){var t=e("lab.config"),n=e("common/console"),r=e("cs!md2d/views/aminoacid-context-menu"),i=e("md2d/views/genetic-renderer"),s=e("cs!common/layout/wrap-svg-text"),o=e("common/views/gradients"),u={STANDARD_STICK:101,LONG_SPRING:102,BOND_SOLID_LINE:103,GHOST:104,UNICOLOR_STICK:105,SHORT_SPRING:106,DOUBLE_BOND:107,TRIPLE_BOND:108,DISULPHIDE_BOND:109};return function(a,f,l,c){function xt(){return I+F(a.get("time")/1e3)+q}function Tt(e,t,n,r,i){return a.setAtomProperties(e,{x:t,y:n},r,i)}function Nt(e){return"rgb("+W.colorR[e]+","+W.colorG[e]+","+W.colorB[e]+")"}function Ct(){var e=function(e){return"translate("+l(e)+",0)"},t=function(e){return"translate(0,"+c(e)+")"},n=function(e){return e?"#ccc":"#666"},r=l.tickFormat(5),i=c.tickFormat(5);d3.event&&d3.event.transform&&d3.event.transform(l,c);var s=gridContainer.selectAll("g.x").data(l.ticks(5),String).attr("transform",e).classed("axes",!0);s.select("text").text(r);var o=s.enter().insert("g","a").attr("class","x").attr("transform",e);a.get("gridLines")?o.append("line").attr("stroke",n).attr("y1",0).attr("y2",size.height):o.selectAll("line").remove(),a.get("xunits")?o.append("text").attr("y",size.height).attr("dy","1.25em").attr("text-anchor","middle").text(r):o.select("text").remove(),s.exit().remove();var u=gridContainer.selectAll("g.y").data(c.ticks(5),String).attr("transform",t).classed("axes",!0);u.select("text").text(i);var f=u.enter().insert("g","a").attr("class","y").attr("transform",t).attr("background-fill","#FFEEB6");a.get("gridLines")?f.append("line").attr("stroke",n).attr("x1",0).attr("x2",size.width):f.selectAll("line").remove(),a.get("yunits")?f.append("text").attr("x","-0.5em").attr("dy","0.30em").attr("text-anchor","end").text(i):f.select("text").remove(),u.exit().remove()}function kt(e,t,n){var r=(t+Math.pow(2,24)).toString(16),i,s,u,a,f;for(f=r.length;f<6;f++)r=String(0)+r;return i=d3.rgb("#"+r),s=i.toString(),u=i.brighter(1).toString(),a=i.darker(1).toString(),o.createRadialGradient(e,u,s,a,n)}function Lt(){var e=d3.scale.linear().interpolate(d3.interpolateRgb).range(["#F2F2F2","#FF8080"]),t=d3.scale.linear().interpolate(d3.interpolateRgb).range(["#A4A4A4","#FF2020"]),n,r,i,s;for(s=0;s<A;s++)n="ke-shading-"+s,i=s/A,r=o.createRadialGradient(n,"#FFFFFF",e(i),t(i),y),L[s]=r;for(s=0;s<4;s++)kt("elem"+s+"-grad",d.color[s],y);k=["url(#elem0-grad)","url(#elem1-grad)","url(#elem2-grad)","url(#elem3-grad)"]}function At(e,t){var n=y.append("defs").append("marker").attr("id","Triangle-"+t).attr("viewBox","0 0 10 10").attr("refX","0").attr("refY","5").attr("markerUnits","strokeWidth").attr("markerWidth","4").attr("markerHeight","3").attr("orient","auto").attr("stroke",e).attr("fill",e);n.append("path").attr("d","M 0 0 L 10 5 L 0 10 z")}function Ot(e){var t,n,r;if(e.marked)return"url(#mark-grad)";if(Y)return t=a.getAtomKineticEnergy(e.idx),n=Math.min(5*t,1),L[Math.round(n*(A-1))];if(G)return r=e.charge,r===0?"url(#neutral-grad)":r>0?"url(#pos-grad)":"url(#neg-grad)";if(!e.isAminoAcid())return k[e.element%4];switch(a.get("aminoAcidColorScheme")){case"none":return"url(#neutral-grad)";case"hydrophobicity":return e.hydrophobicity>0?"url(#orange-grad)":"url(#green-grad)";case"charge":if(e.charge===0)return"url(#neutral-grad)";return e.charge>0?"url(#pos-grad)":"url(#neg-grad)";case"chargeAndHydro":if(e.charge<-0.000001)return"url(#neg-grad)";if(e.charge>1e-6)return"url(#pos-grad)";return e.hydrophobicity>0?"url(#orange-grad)":"url(#green-grad)";default:throw new Error("ModelContainer: unknown amino acid color scheme.")}}function Mt(e){return Ut(e)?"#888":o.mainColorOfGradient[O[e.atom1]]}function _t(e){return Ut(e)?"#888":o.mainColorOfGradient[O[e.atom2]]}function Dt(){var e="1%";$("#heat-bath").length===0&&y.append("image").attr({id:"heat-bath",x:e,width:"3%",height:"3%",preserveAspectRatio:"xMinYMin","xlink:href":"../../resources/heatbath.gif"}),$("#ke-gradient").length===0&&y.append("image").attr({id:"ke-gradient",x:e,width:"12%",height:"12%",preserveAspectRatio:"xMinYMin","xlink:href":"../../resources/ke-gradient.png"})}function Pt(){var e=a.get("temperatureControl"),t,n,r=0,i=1;e?(r+=i,t=d3.select("#heat-bath").attr("y",r+"%").style("display",""),n=t.attr("height"),n=Number(n.substring(0,n.length-1)),r+=n):d3.select("#heat-bath").style("display","none"),Y?(r+=i,d3.select("#ke-gradient").attr("y",r+"%").style("display","")):d3.select("#ke-gradient").style("display","none")}function Ht(){y.selectAll("circle").data(p).attr("r",function(e){return l(e.radius)})}function Bt(){_.enter().append("circle").attr({"class":function(e){return e.isAminoAcid()?"draggable amino-acid":"draggable"},r:function(e){return l(e.radius)},cx:function(e){return l(e.x)},cy:function(e){return c(e.y)}}).style({"fill-opacity":function(e){return e.visible},fill:function(e,t){return O[t]}}).on("mousedown",an).on("mouseover",un).on("mouseout",ln).call(d3.behavior.drag().on("dragstart",Sn).on("drag",Cn).on("dragend",Ln))}function jt(e,t,n,r,i){e.enter().append("path").attr({"class":"vector-"+i,"marker-end":"url(#Triangle-"+i+")",d:t}).style({"stroke-width":n,stroke:r,fill:"none"})}function Ft(){yt.enter().append("path").attr({"class":"atomTrace",d:yn}).style({"stroke-width":l(.01),stroke:gt,fill:"none","stroke-dasharray":"6, 6"})}function It(){var e=z.enter().append("g");e.attr("class","obstacle").attr("transform",function(e,t){return"translate("+l(W.x[t])+" "+c(W.y[t]+W.height[t])+")"}),e.append("rect").attr({"class":"obstacle-shape",x:0,y:0,width:function(e,t){return l(W.width[t])},height:function(e,t){return l(W.height[t])}}).style({fill:function(e,t){return W.visible[t]?Nt(t):"rgba(128,128,128, 0)"},"stroke-width":function(e,t){return W.visible[t]?.2:0},stroke:function(e,t){return W.visible[t]?Nt(t):"rgba(128,128,128, 0)"}}),e.each(function(e,t){if(!W.externalFx[t]&&!W.externalFy[t])return;var n=d3.select(this),r=W.height[t],i=W.width[t],s=W.externalFx[t],o=W.externalFy[t],u=.06,a=.06,f,c;s&&(f=(r-2*a)/Math.round((r-2*a)/.2),c=d3.range(a,r,f),n.selectAll("path.obstacle-force-hor").data(c).enter().append("path").attr({"class":"obstacle-force-hor",d:function(e){return s<0?"M "+l(i+u+a)+","+l(e)+" L "+l(i+a)+","+l(e):"M "+l(-u-a)+","+l(e)+" L "+l(-a)+","+l(e)}})),o&&(f=(i-2*a)/Math.round((i-2*a)/.2),c=d3.range(a,i,f),n.selectAll("path.obstacle-force-vert").data(c).enter().append("path").attr({"class":"obstacle-force-vert",d:function(e){return o<0?"M "+l(e)+","+l(-u-a)+" L "+l(e)+","+l(-a):"M "+l(e)+","+l(r+u+a)+" L "+l(e)+","+l(r+a)}})),n.selectAll("path.obstacle-force-hor, path.obstacle-force-vert").attr({"marker-end":"url(#Triangle-"+St+")"}).style({"stroke-width":l(ot),stroke:st,fill:"none"})})}function qt(){V.enter().append("path").attr("d",function(e){return Rt(e,1)}).classed("radialbond1",!0).classed("disulphideBond",function(e){return e.type===u.DISULPHIDE_BOND}).style("stroke-width",function(e){return Ut(e)?Math.log(e.strength)/4+l(.005):l(Math.min(p[e.atom1].radius,p[e.atom2].radius))*.75}).style("stroke",Mt).style("fill","none"),J.enter().append("path").attr("d",function(e){return Rt(e,2)}).classed("radialbond2",!0).classed("disulphideBond",function(e){return e.type===u.DISULPHIDE_BOND}).style("stroke-width",function(e){return Ut(e)?Math.log(e.strength)/4+l(.005):l(Math.min(p[e.atom1].radius,p[e.atom2].radius))*.75}).style("stroke",_t).style("fill","none")}function Rt(e,t){var n,r,i,s,o,u,a,f,h,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O;u=l(e.x1),f=c(e.y1),a=l(e.x2),h=c(e.y2),s=a-u,o=h-f,T=e.strength,x=Math.sqrt(s*s+o*o)/l(.01),N=Math.floor(e.length*24),C=x/N,E=s/x,S=o/x,k=E*C,L=S*C,A=E*N,O=S*N,d=l(p[e.atom1].radius)*E,v=l(p[e.atom2].radius)*E,g=l(p[e.atom1].radius)*S,y=l(p[e.atom2].radius)*S,m=d-v,b=g-y;if(Ut(e)){w="M "+u+","+f+" ";for(i=0;i<N;i++)i%2===0?(n=u+(i+.5)*k-.5*O,r=f+(i+.5)*L+.5*A):(n=u+(i+.5)*k+.5*O,r=f+(i+.5)*L-.5*A),w+=" L "+n+","+r;return w+=" L "+a+","+h}return t===1?"M "+u+","+f+" L "+(a+u+m)/2+" , "+(h+f+b)/2:"M "+(a+u+m)/2+" , "+(h+f+b)/2+" L "+a+","+h}function Ut(e){return e.type===u.SHORT_SPRING}function zt(){Q.attr({x1:function(e){return l(p[e[0]].x)},y1:function(e){return c(p[e[0]].y)},x2:function(e){return l(p[e[1]].x)},y2:function(e){return c(p[e[1]].y)}}),Q.enter().append("line").attr({"class":"attractionforce",x1:function(e){return l(p[e[0]].x)},y1:function(e){return c(p[e[0]].y)},x2:function(e){return l(p[e[1]].x)},y2:function(e){return c(p[e[1]].y)}}).style({"stroke-width":l(.02),"stroke-dasharray":l(.03)+" "+l(.02)}),Q.exit().remove()}function Wt(e){return dt+(ct[e.imageUri]||e.imageUri)}function Xt(){var e=[],t,n,r,i,s,o,u,a,f;S.selectAll("image").remove(),E.selectAll("image").remove();if(!lt)return;for(f=0;f<lt.length;f++)e[f]=new Image,e[f].src=Wt(lt[f]),e[f].onload=function(f){return function(){S.selectAll("image.image_attach"+f).remove(),E.selectAll("image.image_attach"+f).remove(),r=p[lt[f].imageHostIndex],i=lt[f].imageHostType,s=lt[f].imageLayer,o=l(lt[f].imageX),u=c(lt[f].imageY),ht[f]=[.01*e[f].width,.01*e[f].height],n=l(ht[f][0]),t=l(ht[f][1]),a=s===1?S:E,a.append("image").attr("x",function(){return i===""?o:l(r.x)-n/2}).attr("y",function(){return i===""?u:c(r.y)-t/2}).attr("class","image_attach"+f+" draggable").attr("xlink:href",e[f].src).attr("width",n).attr("height",t).attr("pointer-events","none")}}(f)}function Vt(e,t){var n,r,i,s;return e.hostType?e.hostType==="Atom"?(n=p[e.hostIndex].x,r=p[e.hostIndex].y):(n=W.x[e.hostIndex]+W.width[e.hostIndex]/2,r=W.y[e.hostIndex]+W.height[e.hostIndex]/2):(n=e.x,r=e.y),i=n-.1,s=r+.15,[l(n),c(r),l(i),c(s)]}function $t(){var e=[T,x],t;t=function(t){var n=e[t-1];layerTextBoxes=pt.filter(function(e){return e.layer==t}),n.selectAll("g.textBoxWrapper rect").data(layerTextBoxes.filter(function(e){return e.frame})).attr({x:function(e,t){return Vt(e,t)[2]},y:function(e,t){return Vt(e,t)[3]}}),n.selectAll("g.textBoxWrapper text").data(layerTextBoxes).attr({y:function(e,t){return $(this).find("tspan").attr("x",Vt(e,t)[0]),Vt(e,t)[1]}})},t(1),t(2)}function Jt(){var e,t,r;pt=a.get("textBoxes"),e=a.size(),t=[T,x],r=function(r){var i=t[r-1],s,o,u;i.selectAll("g.textBoxWrapper").remove(),o=pt.filter(function(e){return e.layer==r}),u=i.selectAll("g.textBoxWrapper").data(o),s=u.enter().append("svg:g").attr("class","textBoxWrapper"),s.filter(function(e){return e.frame}).append("rect").attr({"class":function(e,t){return"textBoxFrame text-"+t},style:function(e){var t=e.backgroundColor||"white";return"fill:"+t+";opacity:1.0;fill-opacity:1;stroke:#000000;stroke-width:0.5;stroke-opacity:1"},width:0,height:0,rx:function(e){return e.frame=="rounded rectangle"?8:0},ry:function(e){return e.frame=="rounded rectangle"?10:0},x:function(e,t){return Vt(e,t)[2]},y:function(e,t){return Vt(e,t)[3]}}),s.append("text").attr({"class":function(){return"textBox"+(AUTHORING?" draggable":"")},"x-data":function(e,t){return Vt(e,t)[0]},y:function(e,t){return Vt(e,t)[1]},"width-data":function(e){return l(e.width)},width:l(e[0]),height:l(e[1]),"xml:space":"preserve","font-family":"'Open Sans', sans-serif","font-size":l(.12),fill:function(e){return e.color||"black"},"text-data":function(e){return e.text},"text-anchor":function(e){var t=e.textAlign||"left";return t==="center"&&(t="middle"),t},"has-host":function(e){return!!e.hostType}}).call(d3.behavior.drag().on("drag",kn).on("dragend",function(e){n.log('"x": '+e.x+","),n.log('"y": '+e.y+",")})),u.exit().remove()},r(1),r(2),$(".textBox").each(function(){var e=this.getAttributeNS(null,"text-data"),t=this.getAttributeNS(null,"x-data"),n=this.getAttributeNS(null,"width-data")||-1,r=l(.16),i=this.getAttributeNS(null,"has-host"),o=this.getAttributeNS(null,"text-anchor"),u,a,f;while(this.firstChild)this.removeChild(this.firstChild);u=s(e,this,n,t,r),this.parentNode.childElementCount>1&&(a=this.parentNode.childNodes[0],a.setAttributeNS(null,"width",u.width+l(.2)),a.setAttributeNS(null,"height",u.lines*r+l(.06))),o==="middle"&&(f=u.width/2,$(this).attr("transform","translate("+f+",0)")),i==="true"&&(f=-u.width/2,r=(u.lines-1)*r/-2+4.5,$(this.parentNode).attr("transform","translate("+f+","+r+")"))})}function Kt(){var e,t;G=a.get("chargeShading"),Y=a.get("keShading"),O.length=p.length;for(e=0,t=p.length;e<t;e++)O[e]=Ot(p[e])}function Qt(){var e=a.get("showChargeSymbols"),t=a.get("useThreeLetterCode");y.selectAll("circle").remove(),y.selectAll("g.label").remove(),_=y.selectAll("circle").data(p),Ht(),Bt(),D=y.selectAll("g.label").data(p),P=D.enter().append("g").attr("class","label").attr("transform",function(e){return"translate("+l(e.x)+","+c(e.y)+")"}),P.each(function(n){var r=d3.select(this),i,s;if(a.get("atomNumbers"))r.append("text").text(n.idx).style("font-size",l(1.4*n.radius)+"px");else if(t&&n.label)r.append("text").text(n.label).attr("class","shadow").style("font-size",l(n.radius)+"px"),r.append("text").text(n.label).style("font-size",l(n.radius)+"px");else if(!t&&n.symbol)r.append("text").text(n.symbol).attr("class","shadow").style("font-size",l(1.4*n.radius)+"px"),r.append("text").text(n.symbol).style("font-size",l(1.4*n.radius)+"px");else if(e){if(n.charge>0)i="+";else{if(!(n.charge<0))return;i="-"}r.append("text").text(i).style("font-size",l(1.6*n.radius)+"px")}s=r.selectAll("text"),s.node()&&(s.attr("pointer-events","none").style({"font-weight":"bold",opacity:.7}),s.attr({x:-s.node().getComputedTextLength()/2,y:"0.31em"})),r.select("text.shadow").style({stroke:"#fff","stroke-width":.15*l(n.radius),"stroke-opacity":.7})})}function Gt(){W=a.get_obstacles(),y.selectAll("g.obstacle").remove(),W&&(X.length=W.x.length,z=y.selectAll("g.obstacle").data(X),It())}function Yt(){b.selectAll("path.radialbond1").remove(),b.selectAll("path.radialbond2").remove(),R=a.get_radial_bonds(),U=a.get_radial_bond_results(),U&&(V=b.selectAll("path.radialbond1").data(U),J=b.selectAll("path.radialbond2").data(U),qt())}function Zt(){w.selectAll("line.attractionforce").remove(),en(),Z=a.get("showVDWLines"),Z&&(Q=w.selectAll("line.attractionforce").data(K),zt())}function en(){var e=a.get_vdw_pairs();for(var t=0;t<e.count;t++)K[t]=[e.atom1[t],e.atom2[t]];K.splice(e.count)}function tn(){y.selectAll("path.vector-"+Et).remove(),y.selectAll("path.vector-"+St).remove(),et=a.get("showVelocityVectors"),it=a.get("showForceVectors"),et&&(at=y.selectAll("path.vector-"+Et).data(p),jt(at,pn,vn,tt,Et)),it&&(ft=y.selectAll("path.vector-"+St).data(p),jt(ft,dn,mn,st,St))}function nn(){y.selectAll("path.atomTrace").remove(),bt="",vt=a.get("showAtomTrace"),mt=a.get("atomTraceId"),vt&&(yt=y.selectAll("path.atomTrace").data([p[mt]]),Ft())}function rn(){en(),Q=w.selectAll("line.attractionforce").data(K),zt()}function sn(){on()}function on(){a.get("enableKeyboardHandlers")&&f.node.focus()}function un(e,t){a.get("enableAtomTooltips")&&fn(t)}function an(e,t){f.node.focus(),a.get("enableAtomTooltips")&&(M!==!1?(H.style("opacity",1e-6),H.style("display","none"),M=!1):(d3.event.shiftKey?M=t:M=!1,fn(t)))}function fn(e){H.style("opacity",1).style("display","inline").style("background","rgba(100%, 100%, 100%, 0.7)").style("left",l(p[e].x)+60+"px").style("top",c(p[e].y)+30+"px").style("zIndex",100).transition().duration(250),B.text("atom: "+e+"\n"+"time: "+xt()+"\n"+"speed: "+d3.format("+6.3e")(p[e].speed)+"\n"+"vx:    "+d3.format("+6.3e")(p[e].vx)+"\n"+"vy:    "+d3.format("+6.3e")(p[e].vy)+"\n"+"ax:    "+d3.format("+6.3e")(p[e].ax)+"\n"+"ay:    "+d3.format("+6.3e")(p[e].ay)+"\n")}function ln(){!M&&M!==0&&H.style("opacity",1e-6).style(NaN)}function cn(){n.time("view update"),W&&z.attr("transform",function(e,t){return"translate("+l(W.x[t])+" "+c(W.y[t]+W.height[t])+")"}),Z&&rn(),Y&&Kt(),U&&wn(),hn(),et&&gn(at,pn,vn),it&&gn(ft,dn,mn),vt&&bn(),lt&&lt.length!==0&&En(),pt&&pt.length>0&&$t(),n.timeEnd("view update")}function hn(){_.attr({cx:function(e){return l(e.x)},cy:function(e){return c(e.y)}}),Y&&_.style("fill",function(e,t){return O[t]}),D.attr("transform",function(e){return"translate("+l(e.x)+","+c(e.y)+")"}),(M===0||M>0)&&fn(M)}function pn(e){var t=l(e.x),n=c(e.y),r="M "+t+","+n,i=rt*100;return r+" L "+(t+l(e.vx*i))+","+(n-l(e.vy*i))}function dn(e){var t=l(e.x),n=c(e.y),r=e.mass,i=ut*100,s="M "+t+","+n;return s+" L "+(t+l(e.ax*r*i))+","+(n-l(e.ay*r*i))}function vn(e){return Math.abs(e.vx)+Math.abs(e.vy)>1e-6?l(nt):0}function mn(e){return Math.abs(e.ax)+Math.abs(e.ay)>1e-8?l(ot):0}function gn(e,t,n){e.attr({d:t}).style({"stroke-width":n})}function yn(e){var t=Math.floor(l(e.x)*100)/100,n=Math.floor(c(e.y)*100)/100,r,i;return bt?(bt+=t+","+n+" ",bt.length>4e3&&(r=bt.indexOf("L"),i=bt.indexOf(" "),bt="M"+bt.slice(r+1,i)+"L"+bt.slice(i+1)),bt):(bt="M"+t+","+n+"L","M "+t+","+n)}function bn(){yt.attr({d:yn})}function wn(){V.attr("d",function(e){return Rt(e,1)}),J.attr("d",function(e){return Rt(e,2)}),Y&&(V.style("stroke",Mt),J.style("stroke",_t))}function En(){var e,t,n,r,i,s,o,u,a,f;e=lt.length;for(f=0;f<e;f++){if(!ht||!ht[f])continue;r=p[lt[f].imageHostIndex],i=lt[f].imageHostType,o=l(lt[f].imageX),u=c(lt[f].imageY),s=lt[f].imageLayer,n=l(ht[f][0]),t=l(ht[f][1]),a=s===1?S:E,a.selectAll("image.image_attach"+f).attr("x",function(){return i===""?o:l(r.x)-n/2}).attr("y",function(){return i===""?u:c(r.y)-t/2})}}function Sn(e,t){a.is_stopped()?N=[e.x,e.y]:e.draggable&&a.liveDragStart(t)}function xn(e,t,n){return n.left+e<0&&(e=0-n.left),n.right+e>v&&(e=v-n.right),n.bottom+t<0&&(t=0-n.bottom),n.top+t>m&&(t=m-n.top),{x:e,y:t}}function Tn(e,t,n){return e<t?t:e>n?n:e}function Nn(e,t){return{x:Tn(e,0,v),y:Tn(t,0,m)}}function Cn(e,t){var n=l.invert(d3.event.x),r=c.invert(d3.event.y),i;a.is_stopped()?(i=xn(n,r,a.getMoleculeBoundingBox(t)),Tt(t,i.x,i.y,!1,!0),cn()):e.draggable&&(i=Nn(n,r),a.liveDrag(i.x,i.y))}function kn(e,t){var n=l.invert(d3.event.dx),r=l.invert(d3.event.dy);if(!AUTHORING||!a.is_stopped())return;e.x=e.x+n,e.y=e.y-r,$t()}function Ln(e,t){a.is_stopped()?(Tt(t,e.x,e.y,!0,!0)||(alert("You can't drop the atom there"),Tt(t,N[0],N[1],!1,!0)),cn()):e.draggable&&a.liveDragEnd()}function An(){H===undefined&&(H=d3.select("body").append("div").attr("class","tooltip").style("opacity",1e-6),B=H.append("pre"))}function On(){var e=d3.lab(a.get("backgroundColor"));e.l=e.l>50?0:100,e.a=e.b=0,y.selectAll(".modelTimeLabel").remove(),wt=a.get("showClock"),wt&&(j=y.append("text").attr("class","modelTimeLabel").text(xt()).attr("x",l(0)+3).attr("y",c(0)-3).style("text-anchor","start").style("fill",e.rgb()))}function Mn(){lt=a.get("images"),ct=a.get("imageMapping"),a.url&&(dt=t.actualRoot+a.url.slice(0,a.url.lastIndexOf("/")+1)),tt=a.get("velocityVectors").color,nt=a.get("velocityVectors").width,rt=a.get("velocityVectors").length,st=a.get("forceVectors").color,ot=a.get("forceVectors").width,ut=a.get("forceVectors").length,gt=a.get("atomTraceColor"),Dt(),At(tt,Et),At(st,St),Lt(),r.register(a,h,'[class~="amino-acid"]'),C=new i(y,h,a)}function _n(){y=f.mainContainer,b=f.radialBondsContainer,w=f.VDWLinesContainer,E=f.imageContainerBelow,S=f.imageContainerTop,x=f.textContainerBelow,T=f.textContainerTop,p=a.get_results(),d=a.get_elements(),v=a.get("width"),m=a.get("height"),g=v/m,An(),Mn(),Pn(),a.addPropertiesListener(["temperatureControl"],Pt),a.addPropertiesListener(["keShading","chargeShading","showChargeSymbols","useThreeLetterCode","showVDWLines","VDWLinesCutoff","showVelocityVectors","showForceVectors","showAtomTrace","atomTraceId","aminoAcidColorScheme","showClock","backgroundColor"],Pn),a.on("addAtom",Pn),a.on("removeAtom",Pn),a.on("addRadialBond",Yt),a.on("removeRadialBond",Yt),a.on("textBoxesChanged",Jt)}function Dn(e,t,n,r){a=e,f=t,l=n,c=r,_n()}function Pn(e,t){arguments.length&&(l=e,c=t),On(),Gt(),Zt(),Kt(),Yt(),Qt(),C.setup(),tn(),nn(),Pt(),Xt(),Jt()}function Hn(){n.time("view update"),W&&z.attr("transform",function(e,t){return"translate("+l(W.x[t])+" "+c(W.y[t]+W.height[t])+")"}),Z&&rn(),Y&&Kt(),U&&wn(),wt&&j.text(xt()),hn(),et&&gn(at,pn,vn),it&&gn(ft,dn,mn),vt&&bn(),lt&&lt.length!==0&&En(),pt&&pt.length>0&&$t(),n.timeEnd("view update")}var h={},p,d,v,m,g,y=f.mainContainer,b=f.radialBondsContainer,w=f.VDWLinesContainer,E=f.imageContainerBelow,S=f.imageContainerTop,x=f.textContainerBelow,T=f.textContainerTop,N,C,k,L=[],A=25,O=[],M,_,D,P,H,B,j,F=d3.format("5.1f"),I="",q=" (ps)",R,U,z,W,X=[],V,J,K=[],Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht=[],pt,dt,vt,mt,gt,yt,bt,wt,Et="velocity",St="force";return h={update:Hn,repaint:Pn,reset:Dn,model2px:function(e){return l(e)},model2pxInv:function(e){return c(e)}},_n(),h}}),define("md2d/views/view",["require","common/console","common/views/model-view","md2d/views/renderer"],function(e){var t=e("common/console"),n=e("common/views/model-view"),r=e("md2d/views/renderer");return function(e,t,i){return new n(e,t,i,r)}}),define("md2d/views/dna-edit-dialog",[],function(){return function(){var t,n,r,i,s,o=function(){n=$("<div></div>"),r=$('<input type="text" id="dna-sequence-input" size="45"></input>'),r.appendTo(n),i=$('<p class="error"></p>'),i.appendTo(n),n.dialog({dialogClass:"dna-edit-dialog",title:"DNA Code on Sense Strand",autoOpen:!1,width:"30em",modal:!0,buttons:{Apply:function(){model.getGeneticProperties().set({DNA:r.val()}),$(this).dialog("close")}}}),s=$(".dna-edit-dialog button:contains('Apply')"),r.on("input",function(){var e={DNA:r.val()},t;t=model.getGeneticProperties().validate(e),t.valid===!1?(s.button("disable"),i.text(t.errors.DNA)):(s.button("enable"),i.text(""))})};return t={open:function(){i.text(""),s.removeAttr("disabled"),r.val(model.getGeneticProperties().get().DNA),n.dialog("open")}},o(),t}}),define("md2d/controllers/scripting-api",["require","md2d/views/dna-edit-dialog"],function(e){var t=e("md2d/views/dna-edit-dialog");return function(n){var r=new t;return{getNumberOfAtoms:function(){return model.get_num_atoms()},getNumberOfObstacles:function(){return model.getNumberOfObstacles()},getNumberOfElements:function(){return model.getNumberOfElements()},getNumberOfRadialBonds:function(){return model.getNumberOfRadialBonds()},getNumberOfAngularBonds:function(){return model.getNumberOfAngularBonds()},addAtom:function(t,n){return n&&n.supressRepaint&&(n.supressEvent=!0),model.addAtom(t,n)},removeAtom:function(t,n){n&&n.supressRepaint&&(n.supressEvent=!0,delete n.supressRepaint);try{model.removeAtom(t,n)}catch(r){if(!n||!n.silent)throw r}},removeRadialBond:function(t,r){try{model.removeRadialBond(t)}catch(i){if(!r||!r.silent)throw i}n.repaint()},removeAngularBond:function(t,r){try{model.removeAngularBond(t)}catch(i){if(!r||!r.silent)throw i}n.repaint()},addRandomAtom:function(){return model.addRandomAtom.apply(model,arguments)},adjustTemperature:function(t){model.set({targetTemperature:t*model.get("temperature")})},limitHighTemperature:function(t){model.get("targetTemperature")>t&&model.set({targetTemperature:t})},randomAtoms:function(t){var r=model.get_num_atoms();t===null&&(t=1+n.randomInteger(r-1));if(!n.isInteger(t))throw new Error("randomAtoms: number of atoms requested, "+t+", is not an integer.");if(t<0)throw new Error("randomAtoms: number of atoms requested, "+t+", was less be greater than zero.");return t>r&&(t=r),n.choose(t,r)},markAtoms:function i(){var e,t;if(arguments.length===0)return;if(n.isArray(arguments[0]))return i.apply(null,arguments[0]);n.unmarkAllAtoms();for(e=0,t=arguments.length;e<t;e++)model.setAtomProperties(arguments[e],{marked:1});n.repaint()},unmarkAllAtoms:function(){for(var t=0,r=model.get_num_atoms();t<r;t++)model.setAtomProperties(t,{marked:0});n.repaint()},traceAtom:function(t){if(t===null)return;model.set({atomTraceId:t}),model.set({showAtomTrace:!0})},untraceAtom:function(){model.set({showAtomTrace:!1})},setAtomProperties:function(t,r,i,s,o){model.setAtomProperties(t,r,i,s),(!o||!o.supressRepaint)&&n.repaint()},getAtomProperties:function(t){return model.getAtomProperties(t)},setElementProperties:function(t,r){model.setElementProperties(t,r),n.repaint()},setPairwiseLJProperties:function(t,n,r){model.getPairwiseLJProperties().set(t,n,r)},getElementProperties:function(t){return model.getElementProperties(t)},addObstacle:function(t,r){try{model.addObstacle(t)}catch(i){if(!r||!r.silent)throw i}n.repaint()},setObstacleProperties:function(t,r){model.setObstacleProperties(t,r),n.repaint()},getObstacleProperties:function(t){return model.getObstacleProperties(t)},removeObstacle:function(t,r){try{model.removeObstacle(t)}catch(i){if(!r||!r.silent)throw i}n.repaint()},setRadialBondProperties:function(t,r){model.setRadialBondProperties(t,r),n.repaint()},getRadialBondProperties:function(t){return model.getRadialBondProperties(t)},setAngularBondProperties:function(t,r){model.setAngularBondProperties(t,r),n.repaint()},getAngularBondProperties:function(t){return model.getAngularBondProperties(t)},setGeneticProperties:function(t){model.getGeneticProperties().set(t)},getGeneticProperties:function(){return model.getGeneticProperties().get()},openDNADialog:function(){r.open()},transcribe:function(){model.getGeneticProperties().transcribeDNA()},translate:function(){var t=model.getGeneticProperties().translate();model.generateProtein(t)},translateStepByStep:function(){model.translateStepByStep()},animateTranslation:function(){model.animateTranslation()},generateRandomProtein:function(e){var t=model.generateProtein(undefined,e);if(t!==e)throw new Error("Generated protein was truncated due to limited area of the model. Only"+t+" amino acids were generated.")},setSolvent:function(t){model.setSolvent(t)},pe:function(){return model.get("potentialEnergy")},ke:function(){return model.get("kineticEnergy")},atomsKe:function(t){var n=0,r;for(r=0;r<t.length;r++)n+=model.getAtomKineticEnergy(t[r]);return n},minimizeEnergy:function(){model.minimizeEnergy(),n.repaint()},addTextBox:function(e){model.addTextBox(e)},removeTextBox:function(e){model.removeTextBox(e)},setTextBoxProperties:function(e,t){model.setTextBoxProperties(e,t)}}}}),define("md2d/benchmarks/benchmarks",["require"],function(e){return function(t){var n=[{name:"commit",numeric:!1,run:function(e){var t="<a href='"+Lab.version.repo.commit.url+"' class='opens-in-new-window' target='_blank'>"+Lab.version.repo.commit.short_sha+"</a>";Lab.version.repo.dirty&&(t+=" <i>dirty</i>"),e(t)}},{name:"atoms",numeric:!0,run:function(e){e(model.get_num_atoms())}},{name:"temperature",numeric:!0,formatter:d3.format("5.1f"),run:function(e){e(model.get("temperature"))}},{name:"just graphics (steps/s)",numeric:!0,formatter:d3.format("5.1f"),run:function(e){var n,r,i;model.stop(),r=+Date.now(),i=-1;while(i++<100)t.modelContainer.update();n=Date.now()-r,e(100/n*1e3)}},{name:"model (steps/s)",numeric:!0,formatter:d3.format("5.1f"),run:function(e){var t,n,r;model.stop(),n=+Date.now(),r=-1;while(r++<100)model.tick(1,{dontDispatchTickEvent:!0});t=Date.now()-n,e(100/t*1e3)}},{name:"model+graphics (steps/s)",numeric:!0,formatter:d3.format("5.1f"),run:function(e){var t,n,r;model.stop(),t=+Date.now(),r=-1;while(r++<100)model.tick();n=Date.now()-t,e(100/n*1e3)}},{name:"fps",numeric:!0,formatter:d3.format("5.1f"),run:function(e){model.start(),setTimeout(function(){model.stop();var t=model.get("time");setTimeout(function(){model.start(),setTimeout(function(){model.stop();var n=model.get("time")-t;e(n/(model.get("viewRefreshInterval")*model.get("timeStep"))/2)},2e3)},100)},1e3)}},{name:"interactive",numeric:!1,run:function(e){e(window.location.pathname+window.location.hash)}}];return n}}),define("md2d/controllers/controller",["require","common/controllers/model-controller","md2d/models/modeler","md2d/views/view","md2d/controllers/scripting-api","md2d/benchmarks/benchmarks"],function(e){var t=e("common/controllers/model-controller"),n=e("md2d/models/modeler"),r=e("md2d/views/view"),i=e("md2d/controllers/scripting-api"),s=e("md2d/benchmarks/benchmarks");return function(e,o,u,a,f){return new t(e,o,u,a,f,n,r,i,s)}}),define("common/controllers/interactives-controller",["require","lab.config","arrays","common/alert","common/controllers/interactive-metadata","common/validator","common/controllers/bar-graph-controller","common/controllers/graph-controller","common/controllers/export-controller","common/controllers/scripting-api","common/controllers/button-controller","common/controllers/checkbox-controller","common/controllers/radio-controller","common/controllers/slider-controller","common/controllers/pulldown-controller","common/controllers/numeric-output-controller","common/controllers/parent-message-api","common/controllers/thermometer-controller","common/layout/semantic-layout","common/layout/templates","md2d/controllers/controller"],function(e){var t=e("lab.config"),n=e("arrays"),r=e("common/alert"),i=e("common/controllers/interactive-metadata"),s=e("common/validator"),o=e("common/controllers/bar-graph-controller"),u=e("common/controllers/graph-controller"),a=e("common/controllers/export-controller"),f=e("common/controllers/scripting-api"),l=e("common/controllers/button-controller"),c=e("common/controllers/checkbox-controller"),h=e("common/controllers/radio-controller"),p=e("common/controllers/slider-controller"),d=e("common/controllers/pulldown-controller"),v=e("common/controllers/numeric-output-controller"),m=e("common/controllers/parent-message-api"),g=e("common/controllers/thermometer-controller"),y=e("common/layout/semantic-layout"),b=e("common/layout/templates"),w=e("md2d/controllers/controller"),E={button:l,checkbox:c,pulldown:d,radio:h,thermometer:g,barGraph:o,graph:u,slider:p,numericOutput:v};return function(o,u,l,c){function D(e){if(g[e])return g[e];throw new Error("No model found with id "+e)}function P(e,n){function o(e,t){p?p.reload(e,t,i,s):(d.append('<div id="model-container" class="container">'),u(t.type,e,t),j(t),p.on("modelReset",j),h.modelController=p)}function u(e,t,n){var r=e||"md2d";switch(r){case"md2d":p=new w("#model-container",t,n,i,s)}p.ScriptingAPI&&(L.extend(p.ScriptingAPI),L.exposeScriptingAPI())}var r=D(e),i,s;h.currentModel=r,r.viewOptions?i=$.extend(!0,{},r.viewOptions):i={controlButtons:"play"},i.fitToParent=!c,T=[],r.onLoad&&T.push(L.makeFunctionInScriptContext(B(r.onLoad))),r.modelOptions&&(s=$.extend(!0,{},r.modelOptions)),n?o(r.url,n):$.get(t.actualRoot+r.url).done(function(e){e=typeof e=="string"?JSON.parse(e):e,o(r.url,e)})}function H(e){var t=e.type,n=e.id,r;r=new E[t](e,L,h),N[n]=r,C.push(r),r.modelLoadedCallback&&x.push(r.modelLoadedCallback)}function B(e){return typeof e=="string"?e:e.join("\n")}function j(){var e,t,n,r;R(h.currentModel.parameters,o.parameters),q("basic",h.currentModel.outputs,o.outputs),q("filtered",h.currentModel.filteredOutputs,o.filteredOutputs);for(e=0;e<x.length;e++)x[e]();o.template&&(typeof o.template=="string"?n=b[o.template]:n=o.template),r=o.layout,d.children().not("#model-container").each(function(){$(this).detach()}),_=new y(d,n,r,N,p),_.layoutInteractive(),$(window).unbind("resize"),$(window).on("resize",function(){_.layoutInteractive()}),M=new m(model,p.modelContainer,h);for(e=0;e<S.length;e++)t=S[e],model.addPropertiesListener(t[0],t[1]);for(e=0;e<T.length;e++)T[e]();for(e=0;e<l.length;e++)l[e]()}function F(e){var t,n,o,u,a,f,l,c;try{e=s.validateCompleteness(i.interactive,e)}catch(h){throw c="Incorrect interactive definition:\n"+h.message,r(c),new Error(c)}o=e.models;try{for(t=0,n=o.length;t<n;t++)o[t]=s.validateCompleteness(i.model,o[t]),g[o[t].id]=o[t]}catch(h){throw c="Incorrect model definition:\n"+h.message,r(c),new Error(c)}u=e.parameters;try{for(t=0,n=u.length;t<n;t++)u[t]=s.validateCompleteness(i.parameter,u[t])}catch(h){throw c="Incorrect parameter definition:\n"+h.message,r(c),new Error(c)}a=e.outputs;try{for(t=0,n=a.length;t<n;t++)a[t]=s.validateCompleteness(i.output,a[t])}catch(h){throw c="Incorrect output definition:\n"+
h.message,r(c),new Error(c)}f=e.filteredOutputs;try{for(t=0,n=f.length;t<n;t++)f[t]=s.validateCompleteness(i.filteredOutput,f[t])}catch(h){throw c="Incorrect filtered output definition:\n"+h.message,r(c),new Error(c)}l=e.components;try{for(t=0,n=l.length;t<n;t++)l[t]=s.validateCompleteness(i[l[t].type],l[t])}catch(h){throw c="Incorrect "+l[t].type+" component definition:\n"+h.message,r(c),new Error(c)}if(e.exports)try{e.exports=s.validateCompleteness(i.exports,e.exports)}catch(h){throw c="Incorrect exports definition:\n"+h.message,r(c),new Error(c)}return e}function I(e,t){var n,r,i,s;x=[],o=F(e),t&&(d=$(t)),v=o.models;for(i=0,s=v.length;i<s;i++)g[v[i].id]=v[i];P(v[0].id),n=o.components||[],C=[],N={};for(i=0,s=n.length;i<s;i++)H(n[i]);o.exports&&(O=new a(o.exports),x.push(O.modelLoadedCallback),a.isExportAvailable()&&(r=$("<button>").attr("id","export-data").addClass("component").html("Analyze Data").on("click",function(){O.exportData()}).appendTo($("#bottom"))))}function q(e,t,n){function o(e){if(!e)return;for(var t=0;t<e.length;t++)r[e[t].name]=e[t]}if(!t&&!n)return;var r={},i,s;o(n),o(t);for(i in r)if(r.hasOwnProperty(i)){s=r[i];switch(e){case"basic":model.defineOutput(s.name,{label:s.label,units:s.units},L.makeFunctionInScriptContext(B(s.value)));break;case"filtered":model.defineFilteredOutput(s.name,{label:s.label,units:s.units},s.property,s.type,s.period)}}}function R(e,t){if(!e&&!t)return;var n={},r,i,s;r=(t||[]).concat(e||[]);for(i=0;i<r.length;i++)s=r[i],model.defineParameter(s.name,{label:s.label,units:s.units},L.makeFunctionInScriptContext("value",B(s.onChange))),s.initialValue!==undefined&&(n[s.name]=s.initialValue),k[s.name]=s;model.set(n)}l=l||[];var h={},p,d,v=[],g={},S=[],x=[],T=[],N={},C=[],k=[],L,A,O,M,_;return h={getDGExportController:function(){return O},getModelController:function(){return p},pushOnLoadScript:function(e){T.push(e)},serialize:function(){var e,t,r,i,s;if(model!==undefined&&model.get!==undefined)for(i in k)k.hasOwnProperty(i)&&(i=k[i],s=model.get(i.name),s!==undefined&&(i.initialValue=s));e={title:o.title,publicationStatus:o.publicationStatus,subtitle:o.subtitle,about:n.isArray(o.about)?$.extend(!0,[],o.about):o.about,models:$.extend(!0,[],o.models),parameters:$.extend(!0,[],o.parameters),outputs:$.extend(!0,[],o.outputs),filteredOutputs:$.extend(!0,[],o.filteredOutputs)},e.components=[];for(t=0,r=C.length;t<r;t++)C[t].serialize&&e.components.push(C[t].serialize());return e.layout=$.extend(!0,{},o.layout),typeof o.template=="string"?e.template=o.template:e.template=$.extend(!0,{},o.template),e},loadInteractive:I,validateInteractive:F,loadModel:P},L=new f(h,A),L.exposeScriptingAPI(),I(o,u),h}}),define("common/layout/layout",["require"],function(e){function n(e,t,n){e<=.5?t.css("font-size",n):t.each(function(){var e,t;e||(e=$(this).attr("style")),e&&(t=e.indexOf("font-size"),t!==-1&&(e=e.replace(/font-size: .*;/g,""),$(this).attr("style",e)))})}var t={version:"0.0.1"};return t.selection="",t.display={},t.canonical={width:1280,height:800},t.regularDisplay=!1,t.notRendered=!0,t.fontsize=!1,t.emsize=1,t.cancelFullScreen=!1,t.checkboxFactor=1.1,t.checkboxScale=1.1,t.fullScreenRender=!1,t.canonical.width=1280,t.canonical.height=800,t.getDisplayProperties=function(e){return arguments.length||(e={}),e.screen={width:screen.width,height:screen.height},e.client={width:document.body.clientWidth,height:document.body.clientHeight},e.window={width:$(window).width(),height:$(window).height()},e.page={width:t.getPageWidth(),height:t.getPageHeight()},e.screenFactorWidth=e.window.width/t.canonical.width,e.screenFactorHeight=e.window.height/t.canonical.height,e.emsize=Math.max(e.screenFactorWidth*1.1,e.screenFactorHeight),e},t.setBodyEmsize=function(e){var r,i=$("#interactive-container  p,label,button,select,option").filter(":visible"),s=$("#content-banner div"),o=$("#credits-pane, #share-pane, #about-pane").find("div,textarea,label,select"),u;t.display||(t.display=t.getDisplayProperties()),r=Math.max(t.display.screenFactorWidth*1.2,t.display.screenFactorHeight*1.2),e&&(r*=e),$("body").css("font-size",r+"em"),n(r,i,"9px"),n(r,s,"10px"),n(r,o,"9px"),t.emsize=r},t.getVizProperties=function(e){var n=$("#viz");return arguments.length||(e={}),e.width=n.width(),e.height=n.height(),e.screenFactorWidth=e.width/t.canonical.width,e.screenFactorHeight=e.height/t.canonical.height,e.emsize=Math.min(e.screenFactorWidth*1.1,e.screenFactorHeight),e},t.setVizEmsize=function(){var e,n=$("#viz");t.vis||(t.vis=t.getVizProperties()),e=Math.min(t.viz.screenFactorWidth*1.2,t.viz.screenFactorHeight*1.2),n.css("font-size",e+"em")},t.screenEqualsPage=function(){return t.display.screen.width===t.display.page.width||t.display.screen.height===t.display.page.height},t.checkForResize=function(){(t.display.screen.width!==screen.width||t.display.screen.height!==screen.height||t.display.window.width!==document.width||t.display.window.height!==document.height)&&t.setupScreen()},t.views={},t.addView=function(e,n){t.views[e]||(t.views[e]=[]),t.views[e].push(n)},t.setView=function(e,n){t.views[e]=n},t.setupScreen=function(e){function s(){var e,n,i,s,o,u,a,f=.85,l=.0015,c={},h,p=$(window).width(),d=$(window).height(),v=$("#model-container").width();s=r.modelContainers[0].scale(),o=s[2]/s[3],u=.85,modelWidthPaddingFactor=s[0]/s[2]-1.05,u-=modelWidthPaddingFactor,modelHeightPaddingFactor=s[1]/s[3]-1.05,f-=modelHeightPaddingFactor,r.thermometers&&(u-=.1),r.energyGraphs&&(u-=.35),t.emsize<=.5&&(l*=.5/t.emsize),r.bottomItems=$("#bottom").children().length,r.bottomItems&&(f-=$("#bottom").height()*l),n=p*u,i=n/o,i>d*f&&(i=d*f,n=i*o),c.modelContainers=[n,i],r.energyGraphs&&(c.energyGraphs=[p*.4]),r.modelContainers[0].resize(n,i),i=$("#model-container").height(),$("#rightwide").height(i),r.barGraphs&&(c.barGraphs=[35+i*.22]);for(h in r)if(r.hasOwnProperty(h)&&r[h].length){e=-1;while(++e<r[h].length)c[h]?r[h][e].resize(c[h][0],c[h][1]):r[h][e].resize()}}function o(){var e,n,i,s,o,u,a,f=.85,l=.0015,c={},h,p=$("#content").width(),d=$("#content").height();s=r.modelContainers[0].scale(),o=s[2]/s[3],u=.85,modelWidthPaddingFactor=s[0]/s[2]-1.05,u-=modelWidthPaddingFactor,modelHeightPaddingFactor=s[1]/s[3]-1.05,f-=modelHeightPaddingFactor,r.thermometers&&(u-=.05),r.barGraphs&&(u-=.15),r.energyGraphs&&(u-=.35),t.emsize<=.5&&(l*=.5/t.emsize),r.bottomItems=$("#bottom").children().length,r.bottomItems&&(f-=$("#bottom").height()*l),n=p*u,i=n/o,i>d*f&&(i=d*f,n=i*o),c.modelContainers=[n,i],r.energyGraphs&&(c.energyGraphs=[p*.4]),r.modelContainers[0].resize(n,i),i=$("#model-container").height(),$("#rightwide").height(i),r.barGraphs&&(c.barGraphs=[35+i*.22]);for(h in r){if(h==="modelContainers")continue;if(r.hasOwnProperty(h)&&r[h].length){e=-1;while(++e<r[h].length)c[h]?r[h][e].resize(c[h][0],c[h][1]):r[h][e].resize()}}}function u(){var e,n,i,s,o,u=t.display.page.width,a=t.display.page.height;s=r.modelContainers[0].scale(),o=s[0]/s[1],n=u*.4,i=n*1/o,e=-1;while(++e<r.modelContainers.length)r.modelContainers[e].resize(n,i);if(r.appletContainers){e=-1;while(++e<r.appletContainers.length)r.appletContainers[e].resize(n,i)}}function a(){var e,n,i,s,o,u,a,f,l,c=t.display.page.width,h=t.display.page.height;s=r.modelContainers[0].scale(),l=s[0]/s[1],f=s[0]/c,n=c*.46,i=n*1/l,i>h*.7&&(i=h*.7,n=i*l),e=-1;while(++e<r.modelContainers.length)r.modelContainers[e].resize(n,i);a=(c-n)*.41,o=i*.42,e=-1;while(++e<r.potentialCharts.length)r.potentialCharts[e].resize(a,o);e=-1;while(++e<r.speedDistributionCharts.length)r.speedDistributionCharts[e].resize(a,o);u=(c-n)*.86,o=i*.57,e=-1;while(++e<r.energyCharts.length)r.energyCharts[e].resize(u,o)}var n,r=t.views,i=document.fullScreen||document.webkitIsFullScreen||document.mozFullScreen;e&&e.forceRender&&(t.notRendered=!0),t.display=t.getDisplayProperties(),t.viz=t.getVizProperties(),t.regularDisplay||(t.regularDisplay=t.getDisplayProperties());if(i||t.fullScreenRender||t.screenEqualsPage()){t.fullScreenRender=!0,t.screenFactorWidth=t.display.page.width/t.canonical.width,t.screenFactorHeight=t.display.page.height/t.canonical.height,t.checkboxFactor=Math.max(.8,t.checkboxScale*t.emsize),$("body").css("font-size",t.emsize+"em"),t.notRendered=!0;switch(t.selection){default:t.notRendered&&a()}}else{t.cancelFullScreen||t.fullScreenRender?(t.cancelFullScreen=!1,t.fullScreenRender=!1,t.notRendered=!0,t.regularDisplay=t.previous_display):t.regularDisplay=t.getDisplayProperties(),t.screenFactorWidth=t.display.page.width/t.canonical.width,t.screenFactorHeight=t.display.page.height/t.canonical.height,t.checkboxFactor=Math.max(.8,t.checkboxScale*t.emsize);switch(t.selection){case"interactive-iframe":t.setBodyEmsize(),s();break;case"interactive-author-iframe":t.setBodyEmsize(.7),o();break;default:t.setVizEmsize(),setupRegularScreen()}t.regularDisplay=t.getDisplayProperties()}},t.getPageHeight=function(){return $(document).height()},t.getPageWidth=function(){return $(document).width()},t}),define("common/benchmark/benchmark",["require"],function(e){function i(){var e=/ (Chrome)\/(.*?) /,t=/ (Firefox)\/([0123456789ab.]+)/,r=/ AppleWebKit\/([0123456789.+]+) \(KHTML, like Gecko\) Version\/([0123456789.]+) (Safari)\/([0123456789.]+)/,i=/ (MSIE) ([0123456789.]+);/,o=/^(Opera)\/.+? Version\/([0123456789.]+)$/,u=/.+?\((iPhone); CPU.+?OS .+?Version\/([0123456789._]+)/,a=/.+?\((iPad); CPU.+?OS .+?Version\/([0123456789._]+)/,f=/.+?\((iPod); CPU (iPhone.+?) like.+?Version\/([0123456789ab._]+)/,l=/.+?(Android) ([0123456789.]+).*?; (.+?)\).+? Chrome\/([0123456789.]+)/,c=/.+?(Android.+?\)).+? Firefox\/([0123456789.]+)/,h=/.+?(Android) ([0123456789ab.]+).*?; (.+?)\)/,p;p=navigator.userAgent.match(e);if(p&&p[1])return{browser:p[1],version:p[2],oscpu:s()};p=navigator.userAgent.match(t);if(p&&p[1]){var d=navigator.buildID,v="";return d&&d.length>=8&&(v="("+d.slice(0,4)+"-"+d.slice(4,6)+"-"+d.slice(6,8)+")"),{browser:p[1],version:p[2]+" "+v,oscpu:s()}}p=navigator.userAgent.match(l);if(p&&p[1])return{browser:"Chrome",version:p[4],oscpu:p[1]+"/"+p[2]+"/"+p[3]};p=navigator.userAgent.match(c);if(p&&p[1])return{browser:"Firefox",version:p[2],oscpu:p[1]};p=navigator.userAgent.match(h);if(p&&p[1])return{browser:"Android",version:p[2],oscpu:p[1]+"/"+p[2]+"/"+p[3]};p=navigator.userAgent.match(r);if(p&&p[3])return{browser:p[3],version:p[2]+"/"+p[1],oscpu:s()};p=navigator.userAgent.match(i);if(p&&p[1]){var m=navigator.userAgent.match(/\(.*?(Windows.+?); (.+?)[;)].*/);return{browser:p[1],version:p[2],oscpu:n[m[1]]+"/"+navigator.cpuClass+"/"+navigator.platform}}return p=navigator.userAgent.match(o),p&&p[1]?{browser:p[1],version:p[2],oscpu:s()}:(p=navigator.userAgent.match(u),p&&p[1]?{browser:"Mobile Safari",version:p[2],oscpu:p[1]+"/"+"iOS"+"/"+p[2]}:(p=navigator.userAgent.match(a),p&&p[1]?{browser:"Mobile Safari",version:p[2],oscpu:p[1]+"/"+"iOS"+"/"+p[2]}:(p=navigator.userAgent.match(f),p&&p[1]?{browser:"Mobile Safari",version:p[3],oscpu:p[1]+"/"+"iOS"+"/"+p[2]}:{browser:"",version:navigator.appVersion,oscpu:""})))}function s(){var e=navigator.userAgent.match(/\((.+?)[;)] (.+?)[;)].*/);if(!e)return"na";if(e[1]==="Macintosh")return e[2];if(e[1].match(/^Windows/)){var t=r[e[2]]||"32",i=navigator.userAgent.match(/\(.*?(Windows NT.+?)[;)]/);return n[i[1]]+"/"+t}}function o(e,t,n){function v(t){var n=e.getElementsByTagName("tr")[0],r=n.appendChild(document.createElement("th"));r.innerHTML=t,l[t]=f++}function m(t){t=t||0;var n=e.appendChild(document.createElement("tr")),r;for(r=0;r<t;r++)n.appendChild(document.createElement("td"));return n}function g(e,t,n){var r;n=n||o,r=n.getElementsByTagName("td")[l[e]],typeof t=="string"&&t.slice(0,1)==="<"?r.innerHTML=t:r.textContent=t}function y(){function m(e){return Math.floor(e)==e}var e,n,r,i,s=d.length,o,u,a=average_row.getElementsByTagName("td"),f,c,h,p=d3.format("5.1f"),v=d3.format("f");for(e=0;e<t.length;e++){r=t[e],u=l[r.name];if(r.numeric===!1)i=d[2],o=i.getElementsByTagName("td")[u],a[u].innerHTML=o.innerHTML;else{f=0;for(n=2;n<s;n++)i=d[n],o=i.getElementsByTagName("td")[u],f+=+o.textContent;c=f/(s-2),r.formatter?c=r.formatter(c):m(c)?c=v(f/(s-2)):c=p(f/(s-2)),a[u].textContent=c}}}var r=0,i,s,o,u,a,f=0,l={},c,h,p,d=e.getElementsByTagName("tr");e.style.display="";if(d.length===0){m(),v("browser"),v("version"),v("cpu/os"),v("date");for(r=0;r<t.length;r++)v(t[r].name);average_row=m(f),average_row.className="average"}else{c=d[0],h=c.getElementsByTagName("th");for(r=0,p=h.length;r<p;r++)l[h[r].innerHTML]=f++}o=m(f),o.className="sample";for(r=0;r<4;r++)u=n[r],g(u[0],u[1]),g(u[0],u[1],average_row);for(r=4;r<n.length;r++)u=n[r],g(u[0],u[1]);y()}function u(e,t,n,r){var s,o,u=[],a=i(),f=d3.time.format("%Y-%m-%d %H:%M");u.push(["browser",a.browser]),u.push(["version",a.version]),u.push(["cpu/os",a.oscpu]),u.push(["date",f(new Date)]),o=0,n&&n();for(s=0;s<e.length;s++)(function(n){n.run(function(i){n.formatter?u.push([n.name,n.formatter(i)]):u.push([n.name,i]),++o===e.length&&(r&&r(),t&&t(u))})})(e[s]),r!==undefined;return u}function a(e,t,n,r,i){var s;return u(e,function(r){o(t,e,r),n(r)},r,i),s}var t="0.0.1",n={"Windows NT 6.2":"Windows 8","Windows NT 6.1":"Windows 7","Windows NT 6.0":"Windows Vista","Windows NT 5.2":"Windows Server 2003; Windows XP x64 Edition","Windows NT 5.1":"Windows XP","Windows NT 5.01":"Windows 2000, Service Pack 1 (SP1)","Windows NT 5.0":"Windows 2000","Windows NT 4.0":"Microsoft Windows NT 4.0"},r={WOW64:"64/32","Win64; IA64":"64","Win64; x64":"64"};return{version:t,what_browser:function(){return i()},run:function(e,t,n,r,i){a(e,t,n,r,i)},bench:function(e,t,n,r){return u(e,t,n,r)},renderToTable:function(e,t,n){o(e,t,n)}}}),define("md2d/public-api",["require","common/controllers/interactives-controller","common/layout/layout","common/benchmark/benchmark"],function(e){var t=e("common/controllers/interactives-controller"),n=e("common/layout/layout"),r=e("common/benchmark/benchmark"),i;return i={version:"0.0.1",interactivesController:t},window.controllers=i,window.layout=n,window.benchmark=r,i}),define("grapher/core/register-keyboard-handler",["require"],function(e){return function(t){d3.select(window).on("keydown",t)}}),define("grapher/core/graph",["require","grapher/core/axis","grapher/core/register-keyboard-handler","common/layout/layout"],function(e){var t=e("grapher/core/axis"),n=e("grapher/core/register-keyboard-handler"),r=e("common/layout/layout");return function(i,s,o){function Z(e){if(e)for(var t in X)e[t]===undefined&&(e[t]=X[t]);else e=X;return e.axisShift<1&&(e.axisShift=1),e}function et(){u<=I.icon?(I.category="icon",I.value=0):u<=I.tiny?(I.category="tiny",I.value=1):u<=I.small?(I.category="small",I.value=2):u<=I.medium?(I.category="medium",I.value=3):u<=I.large?(I.category="large",I.value=4):(I.category="extralarge",I.value=5)}function tt(e,t){arguments.length?(u=e,a=t,f.style.width=u+"px",f.style.height=a+"px"):(u=i.property("clientWidth"),a=i.property("clientHeight")),et(),B=r.getDisplayProperties(),j=B.emsize}function nt(e,t){if(e||!s)s=Z(e);l!==undefined&&(l.remove(),l=undefined),t&&(o=t),s.dataChange?H="ns-resize":H="crosshair",tt(),s.xrange=s.xmax-s.xmin,s.yrange=s.ymax-s.ymin,s.datacount=2,F=s.strokeWidth;switch(I.value){case 0:w={top:4,right:4,bottom:4,left:4};break;case 1:w={top:8,right:8,bottom:8,left:8};break;case 2:w={top:s.title?25:15,right:15,bottom:20,left:60};break;case 3:w={top:s.title?30:20,right:30,bottom:s.xlabel?60:10,left:s.ylabel?90:60};break;default:w={top:s.title?40:20,right:30,bottom:s.xlabel?60:10,left:s.ylabel?90:60}}Object.prototype.toString.call(s.title)==="[object Array]"?W=s.title:W=[s.title],W.reverse(),I.value>2?w.top+=(W.length-1)*I.value/3*I.value/3*j*22:W=[W[0]],E={width:u-w.left-w.right,height:a-w.top-w.bottom},T=function(e){return e[0]},N=function(e){return e[1]},S=d3.scale[s.xscale]().domain([s.xmin,s.xmax]).range([0,E.width]),s.xscale==="pow"&&S.exponent(s.xscaleExponent),x=d3.scale[s.yscale]().domain([s.ymin,s.ymax]).range([E.height,0]),s.yscale==="pow"&&x.exponent(s.yscaleExponent),M=function(e){return"translate("+S(e)+",0)"},_=function(e){return"translate(0,"+x(e)+")"},O=function(e){return e?"#ccc":"#666"},D=d3.format(s.xFormatter),P=d3.format(s.yFormatter),C=d3.svg.line().x(function(e,t){return S(g[t][0])}).y(function(e,t){return x(g[t][1])}),q=NaN,R=NaN,U=z=null}function rt(e){function r(e){o=e,e?y.text(e):y.text("")}function b(){var e=s.yrange/2,t=e/2,n;return s.datacount=E.width/30,s.xtic=s.xrange/s.datacount,s.ytic=s.yrange/s.datacount,n=d3.range(s.datacount).map(function(n){return[n*s.xtic+s.xmin,s.ymin+t+Math.random()*e]}),n}function T(){if(!z)return;switch(d3.event.keyCode){case 8:case 46:if(s.dataChange){var e=g.indexOf(z);g.splice(e,1),z=g.length?g[e>0?e-1:0]:null,V()}d3.event&&d3.event.keyCode&&(d3.event.preventDefault(),d3.event.stopPropagation())}}function N(){S.domain([s.xmin,s.xmax]).range([0,E.width])}function B(){x.domain([s.ymin,s.ymax]).range([E.height,0])}function X(){var e=c.selectAll("g.x").data(S.ticks(s.xTicCount),String).attr("transform",M),t=e.enter().insert("g","a").attr("class","x").attr("transform",M);t.append("line").attr("stroke",O).attr("y1",0).attr("y2",E.height),I.value>1&&t.append("text").attr("class","axis").style("font-size",I.value/2.7*100+"%").attr("y",E.height).attr("dy","1em").attr("text-anchor","middle").text(D).style("cursor","ew-resize").on("mouseover",function(e){d3.select(this).style("font-weight","bold")}).on("mouseout",function(e){d3.select(this).style("font-weight","normal")}).on("mousedown.drag",J).on("touchstart.drag",J),e.exit().remove();var n=c.selectAll("g.y").data(x.ticks(s.yTicCount),String).attr("transform",_),r=n.enter().insert("g","a").attr("class","y").attr("transform",_).attr("background-fill","#FFEEB6");r.append("line").attr("stroke",O).attr("x1",0).attr("x2",E.width);if(I.value>1){if(s.yscale==="log"){var i=r[0].length;i>100?r=r.filter(function(e){return!!e.toString().match(/(\.[0]*|^)[1]/)}):i>50?r=r.filter(function(e){return!!e.toString().match(/(\.[0]*|^)[12]/)}):r=r.filter(function(e){return!!e.toString().match(/(\.[0]*|^)[125]/)})}r.append("text").attr("class","axis").style("font-size",I.value/2.7*100+"%").attr("x",-3).attr("dy",".35em").attr("text-anchor","end").text(P).style("cursor","ns-resize").on("mouseover",function(e){d3.select(this).style("font-weight","bold")}).on("mouseout",function(e){d3.select(this).style("font-weight","normal")}).on("mousedown.drag",K).on("touchstart.drag",K)}n.exit().remove(),h.call(d3.behavior.zoom().x(S).y(x).on("zoom",X)),V()}function V(){at(),c.select("path").attr("d",C(g));var e=c.select("svg").selectAll("circle").data(g,function(e){return e});s.circleRadius&&I.value>1&&(s.circleRadius<=4&&I.value<3||(e.enter().append("circle").attr("class",function(e){return e===z?"selected":null}).attr("cx",function(e){return S(e[0])}).attr("cy",function(e){return x(e[1])}).attr("r",s.circleRadius*(1+I.value)/4).style("stroke-width",s.circleRadius/6*(I.value-1.5)).style("cursor",H).on("mousedown.drag",Q).on("touchstart.drag",Q),e.attr("class",function(e){return e===z?"selected":null}).attr("cx",function(e){return S(e[0])}).attr("cy",function(e){return x(e[1])}).attr("r",s.circleRadius*(1+I.value)/4).style("stroke-width",s.circleRadius/6*(I.value-1.5)))),e.exit().remove(),d3.event&&d3.event.keyCode&&(d3.event.preventDefault(),d3.event.stopPropagation())}function $(){var e;d3.event.preventDefault(),n(T),d3.select("body").style("cursor","move");if(d3.event.altKey)if(d3.event.shiftKey&&s.addData){e=d3.svg.mouse(c.node());var t=[];t[0]=S.invert(Math.max(0,Math.min(E.width,e[0]))),t[1]=x.invert(Math.max(0,Math.min(E.height,e[1]))),g.push(t),g.sort(function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0}),z=t,V()}else e=d3.svg.mouse(c[0][0]),q=S.invert(e[0]),R=x.invert(e[1]),U=!1,d3.event.stopPropagation()}function J(e){document.onselectstart=function(){return!1},d3.event.preventDefault();var t=d3.svg.mouse(c[0][0]);q=S.invert(t[0])}function K(e){document.onselectstart=function(){return!1},d3.event.preventDefault();var t=d3.svg.mouse(c[0][0]);R=x.invert(t[1])}function Q(e){n(T),document.onselectstart=function(){return!1},z=U=e,V()}function Y(){var e=d3.svg.mouse(c[0][0]);d3.event.preventDefault(),U&&s.dataChange&&(U[1]=x.invert(Math.max(0,Math.min(E.height,e[1]))),V()),isNaN(q)||(d3.select("body").style("cursor","ew-resize"),S.domain(t.axisProcessDrag(q,S.invert(e[0]),S.domain())),X(),d3.event.stopPropagation()),isNaN(R)||(d3.select("body").style("cursor","ns-resize"),x.domain(t.axisProcessDrag(R,x.invert(e[1]),x.domain())),X(),d3.event.stopPropagation())}function Z(){document.onselectstart=function(){return!0},d3.select("body").style("cursor","auto"),isNaN(q)||(q=NaN,X()),isNaN(R)||(R=NaN,X()),U=null}function et(){var e,t=S.domain(),n=t[1]-t[0],r=n*.8;k?(k=A())?X():V():g[g.length-1][0]>t[0]+r?(A=it(r*.75,s.axisShift),k=A(),X()):V()}function it(e,t){var n=S.domain()[0],r=S.domain()[1],i=1/t,s=0;return function(){var t;return s+=i,t=e*L(s),S.domain([n+t,r+t]),S.domain()[0]<n+e}}e||(e=i),e.each(function(){i=d3.select(this),this.clientWidth&&this.clientHeight&&(u=this.clientWidth,a=this.clientHeight,E.width=u-w.left-w.right,E.height=a-w.top-w.bottom),g=s.points,g==="fake"&&(g=b()),N(),B(),l===undefined?(l=i.append("svg").attr("width",u).attr("height",a),c=l.append("g").attr("transform","translate("+w.left+","+w.top+")"),h=c.append("rect").attr("class","plot").attr("width",E.width).attr("height",E.height).style("fill","#EEEEEE").attr("pointer-events","all").on("mousedown.drag",$).on("touchstart.drag",$).call(d3.behavior.zoom().x(S).y(x).on("zoom",X)),p=c.append("svg").attr("class","viewbox").attr("top",0).attr("left",0).attr("width",E.width).attr("height",E.height).attr("viewBox","0 0 "+E.width+" "+E.height),p.append("path").attr("class","line").style("stroke-width",F).attr("d",C(g)),G=p.append("g").attr("class","brush"),s.title&&I.value>1&&(d=c.selectAll("text").data(W,function(e){return e}),d.enter().append("text").attr("class","title").style("font-size",I.value/2.4*100+"%").text(function(e){return e}).attr("x",E.width/2).attr("dy",function(e,t){return-0.5+ -1*I.value/2.8*t*j+"em"}).style("text-anchor","middle")),s.xlabel&&I.value>2&&(v=c.append("text").attr("class","axis").style("font-size",I.value/2.6*100+"%").text(s.xlabel).attr("x",E.width/2).attr("y",E.height).attr("dy","2.4em").style("text-anchor","middle")),s.ylabel&&I.value>2&&(m=c.append("g").append("text").attr("class","axis").style("font-size",I.value/2.6*100+"%").text(s.ylabel).style("text-anchor","middle").attr("transform","translate(-50 "+E.height/2+") rotate(-90)")),d3.select(f).on("mousemove.drag",Y).on("touchmove.drag",Y).on("mouseup.drag",Z).on("touchend.drag",Z),y=c.append("text").attr("class","graph-notification").text(o).attr("x",E.width/2).attr("y",E.height/2).style("text-anchor","middle")):(c.attr("width",u).attr("height",a),h.attr("width",E.width).attr("height",E.height),p.attr("top",0).attr("left",0).attr("width",E.width).attr("height",E.height).attr("viewBox","0 0 "+E.width+" "+E.height),s.title&&I.value>1&&d.each(function(e,t){d3.select(this).attr("x",E.width/2),d3.select(this).attr("dy",function(e,t){return 1.4*t-W.length+"em"})}),s.xlabel&&I.value>1&&v.attr("x",E.width/2).attr("y",E.height),s.ylabel&&I.value>1&&m.attr("transform","translate(-40 "+E.height/2+") rotate(-90)"),y.attr("x",E.width/2).attr("y",E.height/2)),X()}),rt.elem=i,rt.redraw=X,rt.update=V,rt.notify=r,rt.points=g,rt.initialize=nt,rt.updateXScale=N,rt.updateYScale=B,rt.scale=tt,rt.updateOrRescale=et}function it(){s.title&&d&&d.text(s.title)}function st(){s.xlabel&&v&&v.text(s.xlabel)}function ot(){s.ylabel&&m?m.text(s.ylabel):m.style("display","none")}function ut(){var e;K&&(e=Y.extent(),rt.selection_domain(e[0]!==e[1]?e:[]))}function at(){$&&J?(Y=Y||d3.svg.brush().x(S).extent([V.xmin||0,V.xmax||0]).on("brush",ut),G.call(Y.extent([V.xmin||0,V.xmax||0])).style("display","inline").style("pointer-events",K?"all":"none").selectAll("rect").attr("height",E.height)):G.style("display","none")}var u=600,a=300,f;arguments.length&&(i=d3.select(i),f=i.node(),u=i.property("clientWidth"),a=i.property("clientHeight"));var l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k=!1,L=d3.ease("cubic"),A,O,M,_,D,P,H,B,j,F,I={category:"medium",value:3,icon:120,tiny:240,small:480,medium:960,large:1920},q,R,U,z,W=[],X={title:"Graph",xlabel:"X Axis",ylabel:"Y Axis",xscale:"linear",yscale:"linear",xTicCount:10,yTicCount:8,xFormatter:"3.3r",yFormatter:"3.3r",xscaleExponent:.5,yscaleExponent:.5,axisShift:10,xmax:60,xmin:0,ymax:40,ymin:0,circleRadius:10,strokeWidth:2,dataChange:!0,addData:!0,points:!1,notification:!1},V={xmin:null,xmax:null,ymin:null,ymax:null},$=!1,J=!1,K=!0,Q,G,Y;return nt(s),rt.margin=function(e){return arguments.length?(b=e,rt):b},rt.xmin=function(e){return arguments.length?(s.xmin=e,s.xrange=s.xmax-s.xmin,rt.updateXScale&&(rt.updateXScale(),rt.redraw()),rt):s.xmin},rt.xmax=function(e){return arguments.length?(s.xmax=e,s.xrange=s.xmax-s.xmin,rt.updateXScale&&(rt.updateXScale(),rt.redraw()),rt):s.xmax},rt.ymin=function(e){return arguments.length?(s.ymin=e,s.yrange=s.ymax-s.ymin,rt.updateYScale&&(rt.updateYScale(),rt.redraw()),rt):s.ymin},rt.ymax=function(e){return arguments.length?(s.ymax=e,s.yrange=s.ymax-s.ymin,rt.updateYScale&&(rt.updateYScale(),rt.redraw()),rt):s.ymax},rt.xLabel=function(e){return arguments.length?(s.xlabel=e,st(),rt):s.xlabel},rt.yLabel=function(e){return arguments.length?(s.ylabel=e,ot(),rt):s.ylabel},rt.title=function(e){return arguments.length?(s.title=e,it(),rt):s.title},rt.width=function(e){return arguments.length?(E.width=e,rt):E.width},rt.height=function(e){return arguments.length?(E.height=e,rt):E.height},rt.x=function(e){return arguments.length?(T=e,rt):T},rt.y=function(e){return arguments.length?(N=e,rt):N},rt.elem=function(e){return arguments.length?(i=d3.select(e),rt(i),rt):i},rt.data=function(e){if(!arguments.length)return g;var t=S.domain(),n=t[1]-t[0],r=n*.8;return s.points=g=e,g.length>t[1]?(t[0]+=r,t[1]+=r,S.domain(t),rt.redraw()):rt.update(),rt},rt.add_data=function(e){if(!arguments.length)return g;var t=S.domain(),n=t[1]-t[0],r=n*.8,i;if(e instanceof Array&&e.length>0)if(e[0]instanceof Array)for(i=0;i<e.length;i++)g.push(e[i]);else{if(e.length!==2)throw new Error("invalid argument to graph.add_data() "+e+" length should === 2.");g.push(e)}return rt.updateOrRescale(),rt},rt.selection_domain=function(e){return arguments.length?(e===null?$=!1:e.length===0?($=!0,V.xmin=Infinity,V.xmax=Infinity):($=!0,V.xmin=e[0],V.xmax=e[1]),at(),Q&&Q(rt.selection_domain()),rt):$?V.xmax===Infinity&&V.xmin===Infinity?[]:[V.xmin,V.xmax]:null},rt.has_selection=function(){return $},rt.selection_visible=function(e){return arguments.length?(e=!!e,J!==e&&(J=e,at()),rt):J},rt.selection_enabled=function(e){return arguments.length?(e=!!e,K!==e&&(K=e,at()),rt):K},rt.selection_listener=function(e){return arguments.length?(Q=e,rt):Q},rt.brush_element=function(){return G},rt.brush_control=function(){return Y},rt.brush_listener=function(){return ut},rt.reset=function(e,t){return arguments.length?rt.initialize(e,t):rt.initialize(),rt(),rt},rt.resize=function(e,t){return rt.scale(e,t),rt.initialize(),rt(),rt},i&&rt(i),rt}}),define("grapher/public-api",["require","../lab.version","../lab.config","grapher/core/graph","grapher/core/real-time-graph","grapher/bar-graph/bar-graph-model","grapher/bar-graph/bar-graph-view"],function(e){"use strict";var t=e("../lab.version"),n=e("../lab.config"),r=e("grapher/core/graph"),i=e("grapher/core/real-time-graph"),s=e("grapher/bar-graph/bar-graph-model"),o=e("grapher/bar-graph/bar-graph-view"),u;return u={version:"0.0.1",graph:r,realTimeGraph:i,BarGraphModel:s,BarGraphView:o},window.Lab=window.Lab||{},window.Lab.config=n,window.Lab.grapher=u,u}),define("import-export/netlogo-importer",["require","underscore"],function(e){function r(e){return e.units?e.label+" ("+e.units+")":e.label}var t=e("underscore"),n=["computationalInputs","computationalOutputs","studentInputs"];return{importRun:function(e,i){return typeof e=="string"&&(e=JSON.parse(e)),{perRunLabels:t.flatten(n.map(function(t){return e.description[t]})).map(r),perRunValues:t.flatten(n.map(function(t){return e.runs[i][t]})),perTickLabels:e.description.timeSeriesData.map(r),perTickValues:e.runs[i].timeSeriesData.map(function(e){return e.map(t.identity)})}},numberOfRuns:function(e){return typeof e=="string"&&(e=JSON.parse(e)),e.runs.length},timeStamps:function(e){return typeof e=="string"&&(e=JSON.parse(e)),t.pluck(e.runs,"timeStamp")},runHavingTimeStamp:function(e,t){typeof e=="string"&&(e=JSON.parse(e));for(var n=0;n<e.runs.length;n++)if(e.runs[n].timeStamp===t)return n;return null}}}),define("import-export/public-api",["require","import-export/dg-exporter","import-export/netlogo-importer"],function(e){"use strict";return window.Lab=window.Lab||{},window.Lab.importExport={version:"0.0.1",dgExporter:e("import-export/dg-exporter"),netlogoImporter:e("import-export/netlogo-importer")}}),define("public-api",["require","lab.version","lab.config","common/structured-clone","md2d/public-api","grapher/public-api","import-export/public-api"],function(e){var t=e("lab.version"),n=e("lab.config"),r=e("common/structured-clone");e("md2d/public-api"),e("grapher/public-api"),e("import-export/public-api"),window.Lab=window.Lab||{},window.Lab.version=t,window.Lab.config=n,window.Lab.structuredClone=r}),require(["public-api"],undefined,undefined,!0)})();