{
  "title": "Earth in orbit",
  "publicationStatus": "draft",
  "subtitle": "Simple model of the Sun and Earth.",
  "about": "",
  "models": [
    {
      "id": "earth",
      "type": "solar-system",
      "url": "models/solar-system/earth.json",
      "viewOptions": {
        "controlButtons": "play_reset_step"
      }
    }
  ],
  "outputs": [
    {
      "name":  "earthOrbitalDistance",
      "label": "Orbital Distance",
      "units": "length",
      "value": [
          "var e = getBodyProperties(1);",
          "return Math.sqrt(e.x * e.x + e.y * e.y)"
      ]
    }
  ],
  "parameters": [
    {
      "name": "orbitShape",
      "label": "Orbit Shape",
      "onChange":[
        "switch(value) {",
        "  case 1:",
        "  setBodyProperties(1, { x: 1.014323809329035E+00, y: -1.744524342744261E-05, vx: -1.189895102119632E-07, vy: -1.691965746118235E-02});",
        "  break;",
        "  case 2:",
        "  setBodyProperties(1, { x: 1.0, y: 0.0, vx: 0.0, vy: -0.0172 });",
        "  break;",
        "  case 3:",
        "  setBodyProperties(1, { x: 1.75, y: 0.0, vx: 0.0, vy: -0.009 });",
        "  break;",
        "}"
      ],
      "initialValue": 1
    }
  ],
  "components": [
    {
      "type": "numericOutput",
      "id": "earth-distance-output",
      "property": "earthOrbitalDistance",
      "width": "16em",
      "displayValue": "return format('1.3r')(value)"
    },
    {
      "type": "checkbox",
      "id": "trace-button",
      "text": "Trace Earth",
      "initialValue": false,
      "onClick": [
        "if (value) {",
        "  traceBody(1);",
        "} else {",
        "  untraceBody();",
        "}"
      ]
    },
    {
      "type": "radio",
      "id": "orbit-shape-buttons",
      "orientation": "horizontal",
      "property": "orbitShape",
      "options": [
        {
          "text": "Earth",
          "value": 1
        },
        {
          "text": "Circular",
          "value": 2
        },
        {
          "text": "Oblique",
          "value": 3
        }
      ]
    },
    {
      "type": "graph",
      "id": "orbit-distance-graph",
      "title": "Earth's Orbital Distance",
      "xlabel": "Day",
      "ylabel": "Distance (AU)",
      "ymin": 0.0,
      "ymax": 2.0,
      "xmax": 750,
      "yTickCount": 5,
      "xTickCount": 5,
      "xFormatter": "3r",
      "yFormatter": "3r",
      "properties": [
        "earthOrbitalDistance"
      ]
    }
  ],
  "layout": {
    "right-upper": [
      [ "trace-button" ],
      [ "earth-distance-output" ],
      [ "orbit-shape-buttons" ]
    ],
    "right-lower": [
      "orbit-distance-graph"
    ]
  },
  "template": [
    {
      "id": "right-upper",
      "top": "model.top",
      "left": "model.right",
      "height": "model.height * 0.3",
      "padding-left": "1em",
      "padding-right": "0.5em",
      "padding-bottom": "0.5em",
      "width": "model.width * 1.0",
      "min-width": "model.width * 0.8"
    },
    {
      "id": "right-lower",
      "left": "model.right",
      "top": "right-upper.bottom",
      "height": "model.height * 0.7",
      "padding-left": "1em",
      "padding-right": "0.5em",
      "width": "model.width * 1.0",
      "min-width": "model.width * 0.8"
    },
    {
      "id": "bottom",
      "left": "model.left",
      "top": "model.bottom"
    }
  ]
}
