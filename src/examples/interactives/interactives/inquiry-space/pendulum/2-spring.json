{
  "title": "Spring and Mass",
  "publicationStatus": "public",
  "subtitle": "",
  "about": "",
  "fontScale": 0.8,
  "models": [
    {
      "id": "spring-mass",
      "url": "/imports/legacy-mw-content/converted/inquiry-space/pendulum/spring-mass$0.json",
      "viewOptions": {
        "controlButtons": "play_reset_step",
        "gridLines": true,
        "showClock": true,
        "velocityVectors": {
          "length": 10
        }
      },
      "modelOptions": {
        "unitsScheme": "mks",
        "timeStepsPerTick": 167,
        "timeStep": 1,
        "modelSampleRate": 60
      },
      "onLoad": [
        "function resetDisplacement() {",
        "  set({startingDisplacement: get('startingDisplacement')});",
        "}",
        "function stopMotion() {",
        "  stop();",
        "  setAtomProperties(1, { vx: 0, vy: 0 });",
        "}",
        "onPropertyChange('springConstant', resetDisplacement);",
        "onPropertyChange('ballMass', resetDisplacement);",
        "onPropertyChange('gravitationalField', resetDisplacement);",
        "onPropertyChange('damping', resetDisplacement);",
        "onPropertyChange('startingDisplacement', stopMotion);"
      ]
    }
  ],
  "outputs": [
    {
      "name": "ballDisplacement",
      "unitType": "length",
      "label": "Distance From Equilibrium",
      "value": "return get('equilibriumLength') - (getAtomProperties(0).y - getAtomProperties(1).y);"
    },
    {
      "name": "equilibriumLength",
      "unitType": "length",
      "label": "Equilibrium Spring Length",
      "value": "return getRadialBondProperties(0).length + (get('ballMass') * get('gravitationalField') / get('springConstant'));"

    }
  ],
  "parameters": [
    {
      "name": "ballMass",
      "onChange": "setElementProperties(3, { mass: value });",
      "initialValue": 1.5
    },
    {
      "name": "springConstant",
      "onChange": "setRadialBondProperties(0, { strength: value });",
      "initialValue": 200
    },
    {
      "name": "startingDisplacement",
      "onChange": [
        "var newLength = get('equilibriumLength') - value;",
        "setAtomProperties(1, { y: getAtomProperties(0).y - newLength });"
      ],
      "initialValue": 0.6
    },
    {
      "name": "damping",
      "onChange": "setAtomProperties(1, { friction: value });",
      "initialValue": 0
    }
  ],
  "components": [
    {
      "type": "slider",
      "id": "gravity-slider",
      "min": 0.8,
      "max": 19.8,
      "displayValue": "return format('1.1f')(value)",
      "labels": [
        {
          "value": 1,
          "label": "1"
        },
        {
          "value": 20,
          "label": "20"
        }
      ],
      "steps": 38,
      "title": "Gravity (m/sÂ²)",
      "property": "gravitationalField"
    },
    {
      "type": "slider",
      "id": "spring-constant-slider",
      "min": 100,
      "max": 300,
      "displayValue": "return format('f')(value)",
      "labels": [
        {
          "value": 100,
          "label": "100"
        },
        {
          "value": 300,
          "label": "300"
        }
      ],
      "steps": 20,
      "title": "Spring Constant (N/m)",
      "property": "springConstant"
    },
    {
      "type": "slider",
      "id": "length-slider",
      "min": -0.6,
      "max": 0.6,
      "displayValue": "return format('1.2f')(value)",
      "labels": [
        {
          "value": -0.6,
          "label": "-0.6"
        },
        {
          "value": 0.6,
          "label": "0.6"
        }
      ],
      "steps": 24,
      "title": "Starting Distance From Equilibrium (m)",
      "property": "startingDisplacement"
    },
    {
      "type": "slider",
      "id": "mass-slider",
      "min": 0.5,
      "max": 2.5,
      "displayValue": "return format('1.1f')(value)",
      "labels": [
        {
          "value": 0.5,
          "label": "0.5"
        },
        {
          "value": 2.5,
          "label": "2.5"
        }
      ],
      "steps": 19,
      "title": "Mass of the Ball (kg)",
      "property": "ballMass"
    },
    {
      "type": "slider",
      "id": "damping-slider",
      "min": 0,
      "max": 2,
      "displayValue": "return format('1.1f')(value)",
      "labels": [
        {
          "value": 0,
          "label": "0"
        },
        {
          "value": 2,
          "label": "2.0"
        }
      ],
      "steps": 20,
      "title": "Damping Force (Newton per m/s)",
      "property": "damping"
    },
    {
      "type": "numericOutput",
      "id": "equilibrium-display",
      "property": "equilibriumLength",
      "displayValue": "return format('1.2f')(value)"
    },
    {
      "type": "checkbox",
      "id": "velocity-vectors",
      "text": "Show Velocity Vector?",
      "property": "showVelocityVectors"
    },
    {
      "type": "numericOutput",
      "id": "displacement-display",
      "property": "ballDisplacement",
      "displayValue": "return format('1.2f')(value)"
    },
    {
      "type": "graph",
      "id": "propertiesGraph",
      "title": "Distance From Equilibrium (m)",
      "xlabel": "Time (s)",
      "ylabel": "Distance (m)",
      "ymin": -0.6,
      "ymax": 0.6,
      "xmax": 10,
      "yFormatter": "1.1f",
      "xTicCount": 5,
      "xFormatter": "f",
      "properties": [
        "ballDisplacement"
      ]
    }
  ],
  "layout": {
    "right": [
      "propertiesGraph"
    ],
    "bottom": [
      [
        "gravity-slider",
        "spring-constant-slider",
        "length-slider"
      ],
      [
        "mass-slider",
        "damping-slider",
        "velocity-vectors"
      ],
      [
        "equilibrium-display",
        "displacement-display"
      ]
    ]
  },
  "template": "wide-right"
}