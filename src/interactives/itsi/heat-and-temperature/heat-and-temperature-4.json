{
  "title": "Heat and Temperature 4: Mixing hot and cold",
  "publicationStatus": "draft",
  "subtitle": "Heat and Temperature 4: Mixing hot and cold",
  "about": "",
  "models": [
    {
      "type": "md2d",
      "id": "page4$0.json",
      "url": "imports/legacy-mw-content/converted/itsi/heatv2/heat_itsi_models/page4$0.json",
      "importedFrom": "imports/legacy-mw-content/itsi/heatv2/heat_itsi_models/page4$0.mml",
      "viewOptions": {
        "controlButtons": "play_reset"
      },
      "modelOptions": {},
      "onLoad": [
        "var c = 5, hasPlayed = false;",
        "function countdown() {",
        "  if (c < 1) {",
        "    setTextBoxProperties(0, {text: ''});",
        "    removeLine(2);",
        "    return;",
        "  } else {",
        "    setTextBoxProperties(0, {text: ''+c});",
        "    c--;",
        "    setTimeout(function() {",
        "      countdown();",
        "    }, 1000);",
        "  }",
        "}",
        "onPropertyChange('hasPlayed', function() {",
        "  if (!hasPlayed) {",
        "    hasPlayed = true;",
        "    countdown();",
        "  }",
        "});"
      ]
    }
  ],
  "outputs": [
    {
      "name": "leftTemp",
      "value": "return getTemperatureOfAtoms(atomsWithinRect(0, 0, get('width')/2, get('height')));"
    },
    {
      "name": "rightTemp",
      "value": "return getTemperatureOfAtoms(atomsWithinRect(get('width')/2, 0, get('width')/2, get('height')));"
    }
  ],
  "components": [
    {
      "id": "ke-shading",
      "type": "checkbox",
      "text": "KE shading",
      "textOn": "right",
      "width": "auto",
      "height": "auto",
      "property": "keShading",
      "disabled": false,
      "tooltip": ""
    },
    {
      "type": "button",
      "id": "heat-left-button",
      "text": "Heat the left chamber",
      "action": "addKEToAtoms(1, atomsWithinRect(0, 0, get('width')/2, get('height')));"
    },
    {
      "type": "button",
      "id": "cool-left-button",
      "text": "Cool the left chamber",
      "action": "addKEToAtoms(-1, atomsWithinRect(0, 0, get('width')/2, get('height')));"
    },
    {
      "type": "button",
      "id": "heat-right-button",
      "text": "Heat the right chamber",
      "action": "addKEToAtoms(1, atomsWithinRect(get('width')/2, 0, get('width')/2, get('height')));"
    },
    {
      "type": "button",
      "id": "cool-right-button",
      "text": "Cool the right chamber",
      "action": "addKEToAtoms(-1, atomsWithinRect(get('width')/2, 0, get('width')/2, get('height')));"
    },
    {
      "id": "left-temp",
      "type": "barGraph",
      "property": "leftTemp",
      "min": 0,
      "max": 1000,
      "title": "Temperature on the left (K)",
      "titleOn": "right",
      "labels": 6,
      "units": false,
      "gridLines": 6,
      "labelFormat": "0.1f",
      "barWidth": "1.5em",
      "height": "100%",
      "barColor": "#ff0000",
      "fillColor": "#fff",
      "tooltip": ""
    },
    {
      "id": "right-temp",
      "type": "barGraph",
      "property": "rightTemp",
      "min": 0,
      "max": 1000,
      "title": "Temperature on the right (K)",
      "titleOn": "right",
      "labels": 6,
      "units": false,
      "gridLines": 6,
      "labelFormat": "0.1f",
      "barWidth": "1.5em",
      "height": "100%",
      "barColor": "#ff0000",
      "fillColor": "#fff",
      "tooltip": ""
    }
  ],
  "template": [
    {
      "id": "below-left",
      "top": "model.bottom",
      "left": "model.left",
      "width": "model.width/2",
      "align": "center"
    },
    {
      "id": "below-right",
      "top": "model.bottom",
      "right": "model.right",
      "width": "model.width/2",
      "align": "center"
    },
    {
      "id": "on-left",
      "right": "model.left",
      "top": "model.top",
      "height": "model.height",
      "align": "center"
    },
    {
      "id": "on-right",
      "left": "model.right",
      "top": "model.top",
      "height": "model.height",
      "align": "center"
    }
  ],
  "layout": {
    "below-left": [
      ["heat-left-button"],
      ["cool-left-button"],
      ["ke-shading"]
    ],
    "below-right": [
      ["heat-right-button"],
      ["cool-right-button"]
    ],
    "on-right": ["right-temp"],
    "on-left":  ["left-temp"]
  }
}
